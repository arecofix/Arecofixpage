<div
  [ngClass]="[backgroundClass, highContrast ? 'high-contrast' : '']"
  [style.font-size.px]="fontSize"
  class="min-h-screen transition-all duration-300 relative"
  >
  <!-- Accessibility Sidebar -->
  <div
    class="fixed right-0 top-0 h-screen w-80 bg-gray-950/95 backdrop-blur-lg border-l-2 border-indigo-500/30 transform transition-transform duration-300 z-40 overflow-y-auto"
    [class.translate-x-full]="!sidebarOpen"
    >
    <!-- Sidebar Header -->
    <div class="sticky top-0 bg-gray-900/80 backdrop-blur border-b border-indigo-500/20 p-4">
      <div class="flex items-center justify-between mb-4">
        <h3 class="text-lg font-bold text-white flex items-center gap-2">
          <svg class="w-5 h-5 text-indigo-400" fill="currentColor" viewBox="0 0 24 24">
            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
          </svg>
          {{ currentLanguage === 'es' ? 'Accesibilidad' : 'Accessibility' }}
        </h3>
        <button
          (click)="closeSidebar()"
          class="p-1 hover:bg-white/10 rounded-lg transition-all"
          [attr.aria-label]="currentLanguage === 'es' ? 'Cerrar' : 'Close'"
          >
          <svg class="w-5 h-5 text-gray-400" fill="currentColor" viewBox="0 0 24 24">
            <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/>
          </svg>
        </button>
      </div>
    </div>

    <!-- Sidebar Content -->
    <div class="p-4 space-y-6">

      <!-- Language Section -->
      <div class="space-y-3">
        <label class="text-sm font-semibold text-gray-300 block">
          {{ currentLanguage === 'es' ? 'Idioma' : 'Language' }}
        </label>
        <div class="space-y-2">
          <button
            (click)="toggleLanguage('es')"
            [class.bg-indigo-600]="currentLanguage === 'es'"
            class="w-full px-3 py-2 rounded-lg text-white text-sm transition-all hover:bg-indigo-600/80"
            [class.bg-gray-700]="currentLanguage !== 'es'"
            [attr.aria-pressed]="currentLanguage === 'es'"
            >
            üá™üá∏ Espa√±ol
          </button>
          <button
            (click)="toggleLanguage('en')"
            [class.bg-indigo-600]="currentLanguage === 'en'"
            class="w-full px-3 py-2 rounded-lg text-white text-sm transition-all hover:bg-indigo-600/80"
            [class.bg-gray-700]="currentLanguage !== 'en'"
            [attr.aria-pressed]="currentLanguage === 'en'"
            >
            üá∫üá∏ English
          </button>
        </div>
      </div>

      <!-- Theme Section -->
      <div class="space-y-3">
        <label class="text-sm font-semibold text-gray-300 block">
          {{ currentLanguage === 'es' ? 'Tema' : 'Theme' }}
        </label>
        <div class="grid grid-cols-2 gap-2">
          @for (bg of backgroundOptions; track bg) {
            <button
              (click)="changeBackground(bg.id)"
              [class.ring-2]="currentBackground === bg.id"
              class="p-3 rounded-lg transition-all hover:ring-2 ring-indigo-400 group"
              [attr.title]="bg.name"
              [attr.aria-pressed]="currentBackground === bg.id"
              >
              <div [ngClass]="bg.class" class="w-full h-8 rounded group-hover:shadow-lg transition-shadow"></div>
              <p class="text-xs text-gray-400 mt-1 text-center group-hover:text-gray-300">{{ bg.name }}</p>
            </button>
          }
        </div>
      </div>

      <!-- Font Size Section -->
      <div class="space-y-3">
        <label class="text-sm font-semibold text-gray-300 block">
          {{ currentLanguage === 'es' ? 'Tama√±o de Texto' : 'Text Size' }}
        </label>
        <div class="flex items-center justify-between gap-2">
          <button
            (click)="decreaseFontSize()"
            [disabled]="fontSize <= 12"
            class="px-3 py-2 rounded-lg bg-gray-700 hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed text-white transition-all"
            [attr.aria-label]="currentLanguage === 'es' ? 'Reducir tama√±o' : 'Decrease size'"
            >
            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
              <path d="M19 13H5v-2h14v2z"/>
            </svg>
          </button>

          <span class="text-sm font-semibold text-indigo-400 px-3 py-2 bg-gray-800 rounded-lg min-w-12 text-center">
            {{ fontSize }}px
          </span>

          <button
            (click)="increaseFontSize()"
            [disabled]="fontSize >= 24"
            class="px-3 py-2 rounded-lg bg-gray-700 hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed text-white transition-all"
            [attr.aria-label]="currentLanguage === 'es' ? 'Aumentar tama√±o' : 'Increase size'"
            >
            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
              <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
            </svg>
          </button>
        </div>
        <div class="text-xs text-gray-500 text-center">{{ fontSize }}%</div>
      </div>

      <!-- High Contrast Section -->
      <div class="space-y-3">
        <label class="text-sm font-semibold text-gray-300 block">
          {{ currentLanguage === 'es' ? 'Alto Contraste' : 'High Contrast' }}
        </label>
        <button
          (click)="toggleHighContrast()"
          [class.bg-indigo-600]="highContrast"
          [class.bg-gray-700]="!highContrast"
          class="w-full px-4 py-2 rounded-lg text-white transition-all hover:opacity-80 flex items-center justify-center gap-2"
          [attr.aria-pressed]="highContrast"
          >
          <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11z"/>
          </svg>
          {{ highContrast ? (currentLanguage === 'es' ? 'Activado' : 'Enabled') : (currentLanguage === 'es' ? 'Desactivado' : 'Disabled') }}
        </button>
      </div>

      <!-- Contact Links -->
      <div class="space-y-3 pt-4 border-t border-gray-700">
        <label class="text-sm font-semibold text-gray-300 block">
          {{ currentLanguage === 'es' ? 'Contacto' : 'Contact' }}
        </label>
        <div class="space-y-2">
          <a
            [href]="'mailto:' + currentContent.email"
            class="flex items-center gap-2 px-3 py-2 rounded-lg bg-gray-800 hover:bg-indigo-600/20 text-indigo-400 hover:text-indigo-300 transition-all text-sm"
            >
            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
              <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/>
            </svg>
            {{ currentLanguage === 'es' ? 'Email' : 'Email' }}
          </a>
          <a
            [href]="'tel:+5411' + currentContent.phone.substring(currentContent.phone.length - 10)"
            class="flex items-center gap-2 px-3 py-2 rounded-lg bg-gray-800 hover:bg-indigo-600/20 text-indigo-400 hover:text-indigo-300 transition-all text-sm"
            >
            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
              <path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"/>
            </svg>
            {{ currentLanguage === 'es' ? 'Llamar' : 'Call' }}
          </a>
          <a
            [href]="'https://' + currentContent.website"
            target="_blank"
            class="flex items-center gap-2 px-3 py-2 rounded-lg bg-gray-800 hover:bg-indigo-600/20 text-indigo-400 hover:text-indigo-300 transition-all text-sm"
            >
            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
              <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
            </svg>
            {{ currentLanguage === 'es' ? 'Website' : 'Website' }}
          </a>
        </div>
      </div>

      <!-- Info -->
      <div class="text-xs text-gray-500 pt-4 border-t border-gray-700 text-center">
        <p>{{ currentLanguage === 'es' ? 'Tus preferencias se guardan autom√°ticamente' : 'Your preferences are automatically saved' }}</p>
      </div>
    </div>
  </div>

  <!-- Toggle Sidebar Button -->
  <button
    (click)="toggleSidebar()"
    class="fixed right-0 top-20 z-50 p-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-l-lg transition-all shadow-lg"
    [class.hidden]="sidebarOpen"
    [attr.aria-label]="currentLanguage === 'es' ? 'Abrir panel de accesibilidad' : 'Open accessibility panel'"
    title="Accessibility"
    >
    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
      <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11z"/>
    </svg>
  </button>

  <!-- Main Content -->
  <div class="pt-4 pb-16" [class.pr-80]="sidebarOpen">
    <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">

      <!-- Header Section -->
      <div class="bg-white/5 backdrop-blur-lg border border-white/10 rounded-2xl p-8 sm:p-10 mb-8 hover:bg-white/10 transition-all duration-300">
        <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6">
          <div class="flex-1">
            <h1 class="text-4xl sm:text-5xl font-bold text-white mb-2">{{ currentContent.name }}</h1>
            <p class="text-xl text-indigo-300 font-semibold mb-3">{{ currentContent.title }}</p>
            <p class="text-gray-300 text-sm">üìç {{ currentContent.location }}</p>
          </div>
          <div class="mt-6 sm:mt-0 flex flex-col gap-2 text-right">
            <a href="mailto:{{ currentContent.email }}" class="text-indigo-400 hover:text-indigo-300 transition-colors text-sm">
              üìß {{ currentContent.email }}
            </a>
            <a href="tel:{{ currentContent.phone }}" class="text-indigo-400 hover:text-indigo-300 transition-colors text-sm">
              üì± {{ currentContent.phone }}
            </a>
            <a href="https://{{ currentContent.website }}" target="_blank" class="text-indigo-400 hover:text-indigo-300 transition-colors text-sm">
              üåê {{ currentContent.website }}
            </a>
          </div>
        </div>
      </div>

      <!-- Professional Summary -->
      <div class="bg-white/5 backdrop-blur-lg border border-white/10 rounded-2xl p-8 sm:p-10 mb-8 hover:bg-white/10 transition-all duration-300">
        <h2 class="text-2xl font-bold text-white mb-4 flex items-center gap-2">
          <span class="text-indigo-400">‚ñ∏</span>
          {{ currentLanguage === 'es' ? 'PERFIL PROFESIONAL' : 'PROFESSIONAL SUMMARY' }}
        </h2>
        <p class="text-gray-300 leading-relaxed">{{ currentContent.summary }}</p>
      </div>

      <!-- Work Experience -->
      <div class="bg-white/5 backdrop-blur-lg border border-white/10 rounded-2xl p-8 sm:p-10 mb-8 hover:bg-white/10 transition-all duration-300">
        <h2 class="text-2xl font-bold text-white mb-6 flex items-center gap-2">
          <span class="text-indigo-400">‚ñ∏</span>
          {{ currentLanguage === 'es' ? 'EXPERIENCIA LABORAL' : 'WORK EXPERIENCE' }}
        </h2>
        <div class="space-y-6">
          @for (exp of currentContent.workExperience; track exp) {
            <div class="border-l-4 border-indigo-500 pl-6 py-2">
              <div class="flex flex-col sm:flex-row sm:justify-between sm:items-start mb-2">
                <div>
                  <h3 class="text-lg font-semibold text-white">{{ exp.position }}</h3>
                  <p class="text-indigo-300">{{ exp.company }}</p>
                </div>
                <span class="text-sm text-gray-400 mt-1 sm:mt-0">{{ exp.period }}</span>
              </div>
              <ul class="space-y-2 mt-3">
                @for (achievement of exp.achievements; track achievement) {
                  <li class="text-gray-300 text-sm flex gap-2">
                    <span class="text-indigo-400 mt-1">‚Ä¢</span>
                    <span>{{ achievement }}</span>
                  </li>
                }
              </ul>
            </div>
          }
        </div>
      </div>

      <!-- Education -->
      <div class="bg-white/5 backdrop-blur-lg border border-white/10 rounded-2xl p-8 sm:p-10 mb-8 hover:bg-white/10 transition-all duration-300">
        <h2 class="text-2xl font-bold text-white mb-6 flex items-center gap-2">
          <span class="text-indigo-400">‚ñ∏</span>
          {{ currentLanguage === 'es' ? 'EDUCACI√ìN' : 'EDUCATION' }}
        </h2>
        <div class="space-y-6">
          @for (edu of currentContent.education; track edu) {
            <div class="border-l-4 border-indigo-500 pl-6 py-2">
              <div class="flex flex-col sm:flex-row sm:justify-between sm:items-start mb-2">
                <div>
                  <h3 class="text-lg font-semibold text-white">{{ edu.degree }}</h3>
                  <p class="text-indigo-300">{{ edu.institution }}</p>
                </div>
                <span class="text-sm text-gray-400 mt-1 sm:mt-0">{{ edu.period }}</span>
              </div>
              <ul class="space-y-2 mt-3">
                @for (detail of edu.details; track detail) {
                  <li class="text-gray-300 text-sm flex gap-2">
                    <span class="text-indigo-400 mt-1">‚Ä¢</span>
                    <span>{{ detail }}</span>
                  </li>
                }
              </ul>
            </div>
          }
        </div>
      </div>

      <!-- Technical Skills -->
      <div class="bg-white/5 backdrop-blur-lg border border-white/10 rounded-2xl p-8 sm:p-10 mb-8 hover:bg-white/10 transition-all duration-300">
        <h2 class="text-2xl font-bold text-white mb-6 flex items-center gap-2">
          <span class="text-indigo-400">‚ñ∏</span>
          {{ currentLanguage === 'es' ? 'HABILIDADES T√âCNICAS' : 'TECHNICAL SKILLS' }}
        </h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <h3 class="text-indigo-300 font-semibold mb-2">{{ currentLanguage === 'es' ? 'Lenguajes' : 'Languages' }}</h3>
            <p class="text-gray-300">{{ currentContent.technicalSkills.languages }}</p>
          </div>
          <div>
            <h3 class="text-indigo-300 font-semibold mb-2">Frameworks</h3>
            <p class="text-gray-300">{{ currentContent.technicalSkills.frameworks }}</p>
          </div>
          <div>
            <h3 class="text-indigo-300 font-semibold mb-2">{{ currentLanguage === 'es' ? 'Tecnolog√≠as' : 'Technologies' }}</h3>
            <p class="text-gray-300">{{ currentContent.technicalSkills.technologies }}</p>
          </div>
          <div>
            <h3 class="text-indigo-300 font-semibold mb-2">{{ currentLanguage === 'es' ? 'Herramientas' : 'Tools' }}</h3>
            <p class="text-gray-300">{{ currentContent.technicalSkills.tools }}</p>
          </div>
          <div class="md:col-span-2">
            <h3 class="text-indigo-300 font-semibold mb-2">{{ currentLanguage === 'es' ? 'Idiomas' : 'Languages' }}</h3>
            <p class="text-gray-300">{{ currentContent.technicalSkills.languages_spoken }}</p>
          </div>
        </div>
      </div>

      <!-- Certifications -->
      <div class="bg-white/5 backdrop-blur-lg border border-white/10 rounded-2xl p-8 sm:p-10 mb-8 hover:bg-white/10 transition-all duration-300">
        <h2 class="text-2xl font-bold text-white mb-6 flex items-center gap-2">
          <span class="text-indigo-400">‚ñ∏</span>
          {{ currentLanguage === 'es' ? 'CERTIFICACIONES' : 'CERTIFICATIONS' }}
        </h2>
        <ul class="space-y-3">
          @for (cert of currentContent.certifications; track cert) {
            <li class="text-gray-300 flex items-center gap-3">
              <span class="w-2 h-2 bg-indigo-400 rounded-full"></span>
              {{ cert }}
            </li>
          }
        </ul>
      </div>

      <!-- Footer -->
      <div class="text-center text-gray-400 text-sm py-8">
        <p>{{ currentLanguage === 'es' ? '¬© 2025 Ezequiel Enrico Areco. Todos los derechos reservados.' : '¬© 2025 Ezequiel Enrico Areco. All rights reserved.' }}</p>
      </div>
    </div>
  </div>
</div>
