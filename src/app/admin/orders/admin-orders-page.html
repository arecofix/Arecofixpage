<div class="flex justify-between items-center mb-6">
    <h2 class="text-2xl font-bold text-green-600">Pedidos</h2>
    <a routerLink="/admin/orders/new" class="btn btn-primary">
        <i class="fas fa-plus mr-2"></i>
        Nuevo Pedido
    </a>
</div>

@if (loading) {
<div class="flex justify-center items-center py-12">
    <span class="loading loading-spinner loading-lg"></span>
</div>
}

@if (error) {
<div class="alert alert-error">
    <i class="fas fa-exclamation-circle"></i>
    <span>{{ error }}</span>
</div>
}

@if (!loading && !error) {
@if (orders.length === 0) {
<div class="text-center py-12">
    <i class="fas fa-shopping-cart text-6xl text-base-content/30 mb-4"></i>
    <p class="text-base-content/70 text-lg">No hay pedidos registrados</p>
    <a routerLink="/admin/orders/new" class="btn btn-primary mt-4">Crear Primer Pedido</a>
</div>
} @else {
<div class="overflow-x-auto bg-base-100 rounded-lg shadow text-base-content">
    <table class="table w-full">
        <thead>
            <tr class="text-base-content font-bold">
                <th>NÃºmero</th>
                <th>Cliente</th>
                <th>Total</th>
                <th>Estado</th>
                <th>Fecha</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            @for (order of orders; track order.id) {
            <tr class="hover:bg-base-200/50">
                <td class="font-mono">{{ order.order_number }}</td>
                <td>
                    <div class="font-medium">{{ order.customer_name }}</div>
                    <div class="text-sm opacity-70">{{ order.customer_email }}</div>
                </td>
                <td class="font-semibold">${{ order.total.toFixed(2) }}</td>
                <td>
                    <span class="badge" [ngClass]="getStatusBadgeClass(order.status)">
                        {{ getStatusText(order.status) }}
                    </span>
                </td>
                <td>{{ order.created_at | date:'short' }}</td>
                <td>
                    <div class="flex gap-2">
                        <a [routerLink]="['/admin/orders', order.id]" class="btn btn-sm btn-ghost hover:bg-base-300">
                            <i class="fas fa-eye"></i>
                        </a>
                        <a [routerLink]="['/admin/orders', order.id, 'edit']" class="btn btn-sm btn-ghost hover:bg-base-300">
                            <i class="fas fa-edit"></i>
                        </a>
                    </div>
                </td>
            </tr>
            }
        </tbody>
    </table>
</div>
}
}