import './polyfills.server.mjs';
import{a as Bi}from"./chunk-RJ4EUQA3.mjs";import"./chunk-DPLNUI4A.mjs";import{a as Pi}from"./chunk-XMYEFUQS.mjs";import"./chunk-I7SKRB6J.mjs";import"./chunk-PALUBPQW.mjs";import"./chunk-BDXJUVVV.mjs";import{a as yi,b as bi,d as wi,e as Ei,f as Ci,g as xi,h as Si,i as Ti,m as vi,n as Ii,o as Ai,p as Ri,q as Mi,t as ki}from"./chunk-6NF7UMPV.mjs";import"./chunk-RBOCUYI6.mjs";import"./chunk-6FAII6YG.mjs";import{a as Li}from"./chunk-C5GT56EO.mjs";import{l as mi,p as pi,s as gi,t as _i}from"./chunk-CJMKWES6.mjs";import{n as di,o as ui,p as hi,r as fi}from"./chunk-R44Y3TM4.mjs";import{$ as S,$b as O,Ab as ri,Bb as st,Cb as ct,Db as U,Eb as c,Fb as d,Gb as v,Jb as oi,Kb as Re,Ob as K,Qb as E,Ra as lt,Sb as ai,Tb as li,Ub as si,W as te,Wa as p,Xb as ye,Yb as ci,Zb as f,_b as N,aa as T,bc as R,cb as ii,cc as M,dc as k,ha as ei,ib as Ye,ma as ie,pc as X,qa as ti,rc as Me,tc as ke,xb as G,yb as j,zb as ni}from"./chunk-CUO5BU3F.mjs";import{a as ee,b as de,c as P,e as _,f as jr}from"./chunk-N7QBYMCK.mjs";var dt=_((Sl,Ni)=>{"use strict";Ni.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var ne=_(ue=>{"use strict";var ut,Kr=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];ue.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};ue.getSymbolTotalCodewords=function(e){return Kr[e]};ue.getBCHDigit=function(i){let e=0;for(;i!==0;)e++,i>>>=1;return e};ue.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');ut=e};ue.isKanjiModeEnabled=function(){return typeof ut<"u"};ue.toSJIS=function(e){return ut(e)}});var ze=_(H=>{"use strict";H.L={bit:1};H.M={bit:0};H.Q={bit:3};H.H={bit:2};function Qr(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"l":case"low":return H.L;case"m":case"medium":return H.M;case"q":case"quartile":return H.Q;case"h":case"high":return H.H;default:throw new Error("Unknown EC Level: "+i)}}H.isValid=function(e){return e&&typeof e.bit<"u"&&e.bit>=0&&e.bit<4};H.from=function(e,t){if(H.isValid(e))return e;try{return Qr(e)}catch{return t}}});var qi=_((Il,Fi)=>{"use strict";function Oi(){this.buffer=[],this.length=0}Oi.prototype={get:function(i){let e=Math.floor(i/8);return(this.buffer[e]>>>7-i%8&1)===1},put:function(i,e){for(let t=0;t<e;t++)this.putBit((i>>>e-t-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(i){let e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),i&&(this.buffer[e]|=128>>>this.length%8),this.length++}};Fi.exports=Oi});var Ui=_((Al,Di)=>{"use strict";function Le(i){if(!i||i<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=i,this.data=new Uint8Array(i*i),this.reservedBit=new Uint8Array(i*i)}Le.prototype.set=function(i,e,t,n){let r=i*this.size+e;this.data[r]=t,n&&(this.reservedBit[r]=!0)};Le.prototype.get=function(i,e){return this.data[i*this.size+e]};Le.prototype.xor=function(i,e,t){this.data[i*this.size+e]^=t};Le.prototype.isReserved=function(i,e){return this.reservedBit[i*this.size+e]};Di.exports=Le});var Vi=_(Ge=>{"use strict";var Jr=ne().getSymbolSize;Ge.getRowColCoords=function(e){if(e===1)return[];let t=Math.floor(e/7)+2,n=Jr(e),r=n===145?26:Math.ceil((n-13)/(2*t-2))*2,o=[n-7];for(let a=1;a<t-1;a++)o[a]=o[a-1]-r;return o.push(6),o.reverse()};Ge.getPositions=function(e){let t=[],n=Ge.getRowColCoords(e),r=n.length;for(let o=0;o<r;o++)for(let a=0;a<r;a++)o===0&&a===0||o===0&&a===r-1||o===r-1&&a===0||t.push([n[o],n[a]]);return t}});var Yi=_(Hi=>{"use strict";var Zr=ne().getSymbolSize,Wi=7;Hi.getPositions=function(e){let t=Zr(e);return[[0,0],[t-Wi,0],[0,t-Wi]]}});var zi=_(A=>{"use strict";A.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var he={N1:3,N2:3,N3:40,N4:10};A.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7};A.from=function(e){return A.isValid(e)?parseInt(e,10):void 0};A.getPenaltyN1=function(e){let t=e.size,n=0,r=0,o=0,a=null,l=null;for(let s=0;s<t;s++){r=o=0,a=l=null;for(let u=0;u<t;u++){let h=e.get(s,u);h===a?r++:(r>=5&&(n+=he.N1+(r-5)),a=h,r=1),h=e.get(u,s),h===l?o++:(o>=5&&(n+=he.N1+(o-5)),l=h,o=1)}r>=5&&(n+=he.N1+(r-5)),o>=5&&(n+=he.N1+(o-5))}return n};A.getPenaltyN2=function(e){let t=e.size,n=0;for(let r=0;r<t-1;r++)for(let o=0;o<t-1;o++){let a=e.get(r,o)+e.get(r,o+1)+e.get(r+1,o)+e.get(r+1,o+1);(a===4||a===0)&&n++}return n*he.N2};A.getPenaltyN3=function(e){let t=e.size,n=0,r=0,o=0;for(let a=0;a<t;a++){r=o=0;for(let l=0;l<t;l++)r=r<<1&2047|e.get(a,l),l>=10&&(r===1488||r===93)&&n++,o=o<<1&2047|e.get(l,a),l>=10&&(o===1488||o===93)&&n++}return n*he.N3};A.getPenaltyN4=function(e){let t=0,n=e.data.length;for(let o=0;o<n;o++)t+=e.data[o];return Math.abs(Math.ceil(t*100/n/5)-10)*he.N4};function Xr(i,e,t){switch(i){case A.Patterns.PATTERN000:return(e+t)%2===0;case A.Patterns.PATTERN001:return e%2===0;case A.Patterns.PATTERN010:return t%3===0;case A.Patterns.PATTERN011:return(e+t)%3===0;case A.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(t/3))%2===0;case A.Patterns.PATTERN101:return e*t%2+e*t%3===0;case A.Patterns.PATTERN110:return(e*t%2+e*t%3)%2===0;case A.Patterns.PATTERN111:return(e*t%3+(e+t)%2)%2===0;default:throw new Error("bad maskPattern:"+i)}}A.applyMask=function(e,t){let n=t.size;for(let r=0;r<n;r++)for(let o=0;o<n;o++)t.isReserved(o,r)||t.xor(o,r,Xr(e,o,r))};A.getBestMask=function(e,t){let n=Object.keys(A.Patterns).length,r=0,o=1/0;for(let a=0;a<n;a++){t(a),A.applyMask(a,e);let l=A.getPenaltyN1(e)+A.getPenaltyN2(e)+A.getPenaltyN3(e)+A.getPenaltyN4(e);A.applyMask(a,e),l<o&&(o=l,r=a)}return r}});var ft=_(ht=>{"use strict";var re=ze(),je=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Ke=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];ht.getBlocksCount=function(e,t){switch(t){case re.L:return je[(e-1)*4+0];case re.M:return je[(e-1)*4+1];case re.Q:return je[(e-1)*4+2];case re.H:return je[(e-1)*4+3];default:return}};ht.getTotalCodewordsCount=function(e,t){switch(t){case re.L:return Ke[(e-1)*4+0];case re.M:return Ke[(e-1)*4+1];case re.Q:return Ke[(e-1)*4+2];case re.H:return Ke[(e-1)*4+3];default:return}}});var Gi=_(Je=>{"use strict";var Pe=new Uint8Array(512),Qe=new Uint8Array(256);(function(){let e=1;for(let t=0;t<255;t++)Pe[t]=e,Qe[e]=t,e<<=1,e&256&&(e^=285);for(let t=255;t<512;t++)Pe[t]=Pe[t-255]})();Je.log=function(e){if(e<1)throw new Error("log("+e+")");return Qe[e]};Je.exp=function(e){return Pe[e]};Je.mul=function(e,t){return e===0||t===0?0:Pe[Qe[e]+Qe[t]]}});var ji=_(Be=>{"use strict";var mt=Gi();Be.mul=function(e,t){let n=new Uint8Array(e.length+t.length-1);for(let r=0;r<e.length;r++)for(let o=0;o<t.length;o++)n[r+o]^=mt.mul(e[r],t[o]);return n};Be.mod=function(e,t){let n=new Uint8Array(e);for(;n.length-t.length>=0;){let r=n[0];for(let a=0;a<t.length;a++)n[a]^=mt.mul(t[a],r);let o=0;for(;o<n.length&&n[o]===0;)o++;n=n.slice(o)}return n};Be.generateECPolynomial=function(e){let t=new Uint8Array([1]);for(let n=0;n<e;n++)t=Be.mul(t,new Uint8Array([1,mt.exp(n)]));return t}});var Ji=_((Nl,Qi)=>{"use strict";var Ki=ji();function pt(i){this.genPoly=void 0,this.degree=i,this.degree&&this.initialize(this.degree)}pt.prototype.initialize=function(e){this.degree=e,this.genPoly=Ki.generateECPolynomial(this.degree)};pt.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");let t=new Uint8Array(e.length+this.degree);t.set(e);let n=Ki.mod(t,this.genPoly),r=this.degree-n.length;if(r>0){let o=new Uint8Array(this.degree);return o.set(n,r),o}return n};Qi.exports=pt});var gt=_(Zi=>{"use strict";Zi.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}});var _t=_($=>{"use strict";var Xi="[0-9]+",$r="[A-Z $%*+\\-./:]+",Ne="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Ne=Ne.replace(/u/g,"\\u");var eo="(?:(?![A-Z0-9 $%*+\\-./:]|"+Ne+`)(?:.|[\r
]))+`;$.KANJI=new RegExp(Ne,"g");$.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");$.BYTE=new RegExp(eo,"g");$.NUMERIC=new RegExp(Xi,"g");$.ALPHANUMERIC=new RegExp($r,"g");var to=new RegExp("^"+Ne+"$"),io=new RegExp("^"+Xi+"$"),no=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");$.testKanji=function(e){return to.test(e)};$.testNumeric=function(e){return io.test(e)};$.testAlphanumeric=function(e){return no.test(e)}});var oe=_(L=>{"use strict";var ro=gt(),yt=_t();L.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]};L.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]};L.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]};L.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]};L.MIXED={bit:-1};L.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!ro.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]};L.getBestModeForData=function(e){return yt.testNumeric(e)?L.NUMERIC:yt.testAlphanumeric(e)?L.ALPHANUMERIC:yt.testKanji(e)?L.KANJI:L.BYTE};L.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")};L.isValid=function(e){return e&&e.bit&&e.ccBits};function oo(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return L.NUMERIC;case"alphanumeric":return L.ALPHANUMERIC;case"kanji":return L.KANJI;case"byte":return L.BYTE;default:throw new Error("Unknown mode: "+i)}}L.from=function(e,t){if(L.isValid(e))return e;try{return oo(e)}catch{return t}}});var rn=_(fe=>{"use strict";var Ze=ne(),ao=ft(),$i=ze(),ae=oe(),bt=gt(),tn=7973,en=Ze.getBCHDigit(tn);function lo(i,e,t){for(let n=1;n<=40;n++)if(e<=fe.getCapacity(n,t,i))return n}function nn(i,e){return ae.getCharCountIndicator(i,e)+4}function so(i,e){let t=0;return i.forEach(function(n){let r=nn(n.mode,e);t+=r+n.getBitsLength()}),t}function co(i,e){for(let t=1;t<=40;t++)if(so(i,t)<=fe.getCapacity(t,e,ae.MIXED))return t}fe.from=function(e,t){return bt.isValid(e)?parseInt(e,10):t};fe.getCapacity=function(e,t,n){if(!bt.isValid(e))throw new Error("Invalid QR Code version");typeof n>"u"&&(n=ae.BYTE);let r=Ze.getSymbolTotalCodewords(e),o=ao.getTotalCodewordsCount(e,t),a=(r-o)*8;if(n===ae.MIXED)return a;let l=a-nn(n,e);switch(n){case ae.NUMERIC:return Math.floor(l/10*3);case ae.ALPHANUMERIC:return Math.floor(l/11*2);case ae.KANJI:return Math.floor(l/13);case ae.BYTE:default:return Math.floor(l/8)}};fe.getBestVersionForData=function(e,t){let n,r=$i.from(t,$i.M);if(Array.isArray(e)){if(e.length>1)return co(e,r);if(e.length===0)return 1;n=e[0]}else n=e;return lo(n.mode,n.getLength(),r)};fe.getEncodedBits=function(e){if(!bt.isValid(e)||e<7)throw new Error("Invalid QR Code version");let t=e<<12;for(;Ze.getBCHDigit(t)-en>=0;)t^=tn<<Ze.getBCHDigit(t)-en;return e<<12|t}});var sn=_(ln=>{"use strict";var wt=ne(),an=1335,uo=21522,on=wt.getBCHDigit(an);ln.getEncodedBits=function(e,t){let n=e.bit<<3|t,r=n<<10;for(;wt.getBCHDigit(r)-on>=0;)r^=an<<wt.getBCHDigit(r)-on;return(n<<10|r)^uo}});var dn=_((Vl,cn)=>{"use strict";var ho=oe();function be(i){this.mode=ho.NUMERIC,this.data=i.toString()}be.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};be.prototype.getLength=function(){return this.data.length};be.prototype.getBitsLength=function(){return be.getBitsLength(this.data.length)};be.prototype.write=function(e){let t,n,r;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),r=parseInt(n,10),e.put(r,10);let o=this.data.length-t;o>0&&(n=this.data.substr(t),r=parseInt(n,10),e.put(r,o*3+1))};cn.exports=be});var hn=_((Wl,un)=>{"use strict";var fo=oe(),Et=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function we(i){this.mode=fo.ALPHANUMERIC,this.data=i}we.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};we.prototype.getLength=function(){return this.data.length};we.prototype.getBitsLength=function(){return we.getBitsLength(this.data.length)};we.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let n=Et.indexOf(this.data[t])*45;n+=Et.indexOf(this.data[t+1]),e.put(n,11)}this.data.length%2&&e.put(Et.indexOf(this.data[t]),6)};un.exports=we});var mn=_((Hl,fn)=>{"use strict";var mo=oe();function Ee(i){this.mode=mo.BYTE,typeof i=="string"?this.data=new TextEncoder().encode(i):this.data=new Uint8Array(i)}Ee.getBitsLength=function(e){return e*8};Ee.prototype.getLength=function(){return this.data.length};Ee.prototype.getBitsLength=function(){return Ee.getBitsLength(this.data.length)};Ee.prototype.write=function(i){for(let e=0,t=this.data.length;e<t;e++)i.put(this.data[e],8)};fn.exports=Ee});var gn=_((Yl,pn)=>{"use strict";var po=oe(),go=ne();function Ce(i){this.mode=po.KANJI,this.data=i}Ce.getBitsLength=function(e){return e*13};Ce.prototype.getLength=function(){return this.data.length};Ce.prototype.getBitsLength=function(){return Ce.getBitsLength(this.data.length)};Ce.prototype.write=function(i){let e;for(e=0;e<this.data.length;e++){let t=go.toSJIS(this.data[e]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),i.put(t,13)}};pn.exports=Ce});var _n=_((zl,Ct)=>{"use strict";var Oe={single_source_shortest_paths:function(i,e,t){var n={},r={};r[e]=0;var o=Oe.PriorityQueue.make();o.push(e,0);for(var a,l,s,u,h,m,g,y,b;!o.empty();){a=o.pop(),l=a.value,u=a.cost,h=i[l]||{};for(s in h)h.hasOwnProperty(s)&&(m=h[s],g=u+m,y=r[s],b=typeof r[s]>"u",(b||y>g)&&(r[s]=g,o.push(s,g),n[s]=l))}if(typeof t<"u"&&typeof r[t]>"u"){var C=["Could not find a path from ",e," to ",t,"."].join("");throw new Error(C)}return n},extract_shortest_path_from_predecessor_list:function(i,e){for(var t=[],n=e,r;n;)t.push(n),r=i[n],n=i[n];return t.reverse(),t},find_path:function(i,e,t){var n=Oe.single_source_shortest_paths(i,e,t);return Oe.extract_shortest_path_from_predecessor_list(n,t)},PriorityQueue:{make:function(i){var e=Oe.PriorityQueue,t={},n;i=i||{};for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t.queue=[],t.sorter=i.sorter||e.default_sorter,t},default_sorter:function(i,e){return i.cost-e.cost},push:function(i,e){var t={value:i,cost:e};this.queue.push(t),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof Ct<"u"&&(Ct.exports=Oe)});var Tn=_(xe=>{"use strict";var x=oe(),wn=dn(),En=hn(),Cn=mn(),xn=gn(),Fe=_t(),Xe=ne(),_o=_n();function yn(i){return unescape(encodeURIComponent(i)).length}function qe(i,e,t){let n=[],r;for(;(r=i.exec(t))!==null;)n.push({data:r[0],index:r.index,mode:e,length:r[0].length});return n}function Sn(i){let e=qe(Fe.NUMERIC,x.NUMERIC,i),t=qe(Fe.ALPHANUMERIC,x.ALPHANUMERIC,i),n,r;return Xe.isKanjiModeEnabled()?(n=qe(Fe.BYTE,x.BYTE,i),r=qe(Fe.KANJI,x.KANJI,i)):(n=qe(Fe.BYTE_KANJI,x.BYTE,i),r=[]),e.concat(t,n,r).sort(function(a,l){return a.index-l.index}).map(function(a){return{data:a.data,mode:a.mode,length:a.length}})}function xt(i,e){switch(e){case x.NUMERIC:return wn.getBitsLength(i);case x.ALPHANUMERIC:return En.getBitsLength(i);case x.KANJI:return xn.getBitsLength(i);case x.BYTE:return Cn.getBitsLength(i)}}function yo(i){return i.reduce(function(e,t){let n=e.length-1>=0?e[e.length-1]:null;return n&&n.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)},[])}function bo(i){let e=[];for(let t=0;t<i.length;t++){let n=i[t];switch(n.mode){case x.NUMERIC:e.push([n,{data:n.data,mode:x.ALPHANUMERIC,length:n.length},{data:n.data,mode:x.BYTE,length:n.length}]);break;case x.ALPHANUMERIC:e.push([n,{data:n.data,mode:x.BYTE,length:n.length}]);break;case x.KANJI:e.push([n,{data:n.data,mode:x.BYTE,length:yn(n.data)}]);break;case x.BYTE:e.push([{data:n.data,mode:x.BYTE,length:yn(n.data)}])}}return e}function wo(i,e){let t={},n={start:{}},r=["start"];for(let o=0;o<i.length;o++){let a=i[o],l=[];for(let s=0;s<a.length;s++){let u=a[s],h=""+o+s;l.push(h),t[h]={node:u,lastCount:0},n[h]={};for(let m=0;m<r.length;m++){let g=r[m];t[g]&&t[g].node.mode===u.mode?(n[g][h]=xt(t[g].lastCount+u.length,u.mode)-xt(t[g].lastCount,u.mode),t[g].lastCount+=u.length):(t[g]&&(t[g].lastCount=u.length),n[g][h]=xt(u.length,u.mode)+4+x.getCharCountIndicator(u.mode,e))}}r=l}for(let o=0;o<r.length;o++)n[r[o]].end=0;return{map:n,table:t}}function bn(i,e){let t,n=x.getBestModeForData(i);if(t=x.from(e,n),t!==x.BYTE&&t.bit<n.bit)throw new Error('"'+i+'" cannot be encoded with mode '+x.toString(t)+`.
 Suggested mode is: `+x.toString(n));switch(t===x.KANJI&&!Xe.isKanjiModeEnabled()&&(t=x.BYTE),t){case x.NUMERIC:return new wn(i);case x.ALPHANUMERIC:return new En(i);case x.KANJI:return new xn(i);case x.BYTE:return new Cn(i)}}xe.fromArray=function(e){return e.reduce(function(t,n){return typeof n=="string"?t.push(bn(n,null)):n.data&&t.push(bn(n.data,n.mode)),t},[])};xe.fromString=function(e,t){let n=Sn(e,Xe.isKanjiModeEnabled()),r=bo(n),o=wo(r,t),a=_o.find_path(o.map,"start","end"),l=[];for(let s=1;s<a.length-1;s++)l.push(o.table[a[s]].node);return xe.fromArray(yo(l))};xe.rawSplit=function(e){return xe.fromArray(Sn(e,Xe.isKanjiModeEnabled()))}});var Rt=_(vn=>{"use strict";var et=ne(),St=ze(),Eo=qi(),Co=Ui(),xo=Vi(),So=Yi(),It=zi(),At=ft(),To=Ji(),$e=rn(),vo=sn(),Io=oe(),Tt=Tn();function Ao(i,e){let t=i.size,n=So.getPositions(e);for(let r=0;r<n.length;r++){let o=n[r][0],a=n[r][1];for(let l=-1;l<=7;l++)if(!(o+l<=-1||t<=o+l))for(let s=-1;s<=7;s++)a+s<=-1||t<=a+s||(l>=0&&l<=6&&(s===0||s===6)||s>=0&&s<=6&&(l===0||l===6)||l>=2&&l<=4&&s>=2&&s<=4?i.set(o+l,a+s,!0,!0):i.set(o+l,a+s,!1,!0))}}function Ro(i){let e=i.size;for(let t=8;t<e-8;t++){let n=t%2===0;i.set(t,6,n,!0),i.set(6,t,n,!0)}}function Mo(i,e){let t=xo.getPositions(e);for(let n=0;n<t.length;n++){let r=t[n][0],o=t[n][1];for(let a=-2;a<=2;a++)for(let l=-2;l<=2;l++)a===-2||a===2||l===-2||l===2||a===0&&l===0?i.set(r+a,o+l,!0,!0):i.set(r+a,o+l,!1,!0)}}function ko(i,e){let t=i.size,n=$e.getEncodedBits(e),r,o,a;for(let l=0;l<18;l++)r=Math.floor(l/3),o=l%3+t-8-3,a=(n>>l&1)===1,i.set(r,o,a,!0),i.set(o,r,a,!0)}function vt(i,e,t){let n=i.size,r=vo.getEncodedBits(e,t),o,a;for(o=0;o<15;o++)a=(r>>o&1)===1,o<6?i.set(o,8,a,!0):o<8?i.set(o+1,8,a,!0):i.set(n-15+o,8,a,!0),o<8?i.set(8,n-o-1,a,!0):o<9?i.set(8,15-o-1+1,a,!0):i.set(8,15-o-1,a,!0);i.set(n-8,8,1,!0)}function Lo(i,e){let t=i.size,n=-1,r=t-1,o=7,a=0;for(let l=t-1;l>0;l-=2)for(l===6&&l--;;){for(let s=0;s<2;s++)if(!i.isReserved(r,l-s)){let u=!1;a<e.length&&(u=(e[a]>>>o&1)===1),i.set(r,l-s,u),o--,o===-1&&(a++,o=7)}if(r+=n,r<0||t<=r){r-=n,n=-n;break}}}function Po(i,e,t){let n=new Eo;t.forEach(function(s){n.put(s.mode.bit,4),n.put(s.getLength(),Io.getCharCountIndicator(s.mode,i)),s.write(n)});let r=et.getSymbolTotalCodewords(i),o=At.getTotalCodewordsCount(i,e),a=(r-o)*8;for(n.getLengthInBits()+4<=a&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);let l=(a-n.getLengthInBits())/8;for(let s=0;s<l;s++)n.put(s%2?17:236,8);return Bo(n,i,e)}function Bo(i,e,t){let n=et.getSymbolTotalCodewords(e),r=At.getTotalCodewordsCount(e,t),o=n-r,a=At.getBlocksCount(e,t),l=n%a,s=a-l,u=Math.floor(n/a),h=Math.floor(o/a),m=h+1,g=u-h,y=new To(g),b=0,C=new Array(a),w=new Array(a),I=0,ot=new Uint8Array(i.buffer);for(let _e=0;_e<a;_e++){let at=_e<s?h:m;C[_e]=ot.slice(b,b+at),w[_e]=y.encode(C[_e]),b+=at,I=Math.max(I,at)}let Ae=new Uint8Array(n),D=0,W,Z;for(W=0;W<I;W++)for(Z=0;Z<a;Z++)W<C[Z].length&&(Ae[D++]=C[Z][W]);for(W=0;W<g;W++)for(Z=0;Z<a;Z++)Ae[D++]=w[Z][W];return Ae}function No(i,e,t,n){let r;if(Array.isArray(i))r=Tt.fromArray(i);else if(typeof i=="string"){let u=e;if(!u){let h=Tt.rawSplit(i);u=$e.getBestVersionForData(h,t)}r=Tt.fromString(i,u||40)}else throw new Error("Invalid data");let o=$e.getBestVersionForData(r,t);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=o;else if(e<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);let a=Po(e,t,r),l=et.getSymbolSize(e),s=new Co(l);return Ao(s,e),Ro(s),Mo(s,e),vt(s,t,0),e>=7&&ko(s,e),Lo(s,a),isNaN(n)&&(n=It.getBestMask(s,vt.bind(null,s,t))),It.applyMask(n,s),vt(s,t,n),{modules:s,version:e,errorCorrectionLevel:t,maskPattern:n,segments:r}}vn.create=function(e,t){if(typeof e>"u"||e==="")throw new Error("No input text");let n=St.M,r,o;return typeof t<"u"&&(n=St.from(t.errorCorrectionLevel,St.M),r=$e.from(t.version),o=It.from(t.maskPattern),t.toSJISFunc&&et.setToSJISFunction(t.toSJISFunc)),No(e,r,n,o)}});var Mt=_((Kl,An)=>{"use strict";var Oo=P("util"),In=P("stream"),z=An.exports=function(){In.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};Oo.inherits(z,In);z.prototype.read=function(i,e){this._reads.push({length:Math.abs(i),allowLess:i<0,func:e}),process.nextTick(function(){this._process(),this._paused&&this._reads&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}.bind(this))};z.prototype.write=function(i,e){if(!this.writable)return this.emit("error",new Error("Stream not writable")),!1;let t;return Buffer.isBuffer(i)?t=i:t=Buffer.from(i,e||this._encoding),this._buffers.push(t),this._buffered+=t.length,this._process(),this._reads&&this._reads.length===0&&(this._paused=!0),this.writable&&!this._paused};z.prototype.end=function(i,e){i&&this.write(i,e),this.writable=!1,this._buffers&&(this._buffers.length===0?this._end():(this._buffers.push(null),this._process()))};z.prototype.destroySoon=z.prototype.end;z.prototype._end=function(){this._reads.length>0&&this.emit("error",new Error("Unexpected end of input")),this.destroy()};z.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))};z.prototype._processReadAllowingLess=function(i){this._reads.shift();let e=this._buffers[0];e.length>i.length?(this._buffered-=i.length,this._buffers[0]=e.slice(i.length),i.func.call(this,e.slice(0,i.length))):(this._buffered-=e.length,this._buffers.shift(),i.func.call(this,e))};z.prototype._processRead=function(i){this._reads.shift();let e=0,t=0,n=Buffer.alloc(i.length);for(;e<i.length;){let r=this._buffers[t++],o=Math.min(r.length,i.length-e);r.copy(n,e,0,o),e+=o,o!==r.length&&(this._buffers[--t]=r.slice(o))}t>0&&this._buffers.splice(0,t),this._buffered-=i.length,i.func.call(this,n)};z.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){let i=this._reads[0];if(i.allowLess)this._processReadAllowingLess(i);else if(this._buffered>=i.length)this._processRead(i);else break}this._buffers&&!this.writable&&this._end()}catch(i){this.emit("error",i)}}});var Lt=_(kt=>{"use strict";var le=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];kt.getImagePasses=function(i,e){let t=[],n=i%8,r=e%8,o=(i-n)/8,a=(e-r)/8;for(let l=0;l<le.length;l++){let s=le[l],u=o*s.x.length,h=a*s.y.length;for(let m=0;m<s.x.length&&s.x[m]<n;m++)u++;for(let m=0;m<s.y.length&&s.y[m]<r;m++)h++;u>0&&h>0&&t.push({width:u,height:h,index:l})}return t};kt.getInterlaceIterator=function(i){return function(e,t,n){let r=e%le[n].x.length,o=(e-r)/le[n].x.length*8+le[n].x[r],a=t%le[n].y.length,l=(t-a)/le[n].y.length*8+le[n].y[a];return o*4+l*i*4}}});var Pt=_((Jl,Rn)=>{"use strict";Rn.exports=function(e,t,n){let r=e+t-n,o=Math.abs(r-e),a=Math.abs(r-t),l=Math.abs(r-n);return o<=a&&o<=l?e:a<=l?t:n}});var Bt=_((Zl,kn)=>{"use strict";var Fo=Lt(),qo=Pt();function Mn(i,e,t){let n=i*e;return t!==8&&(n=Math.ceil(n/(8/t))),n}var Se=kn.exports=function(i,e){let t=i.width,n=i.height,r=i.interlace,o=i.bpp,a=i.depth;if(this.read=e.read,this.write=e.write,this.complete=e.complete,this._imageIndex=0,this._images=[],r){let l=Fo.getImagePasses(t,n);for(let s=0;s<l.length;s++)this._images.push({byteWidth:Mn(l[s].width,o,a),height:l[s].height,lineIndex:0})}else this._images.push({byteWidth:Mn(t,o,a),height:n,lineIndex:0});a===8?this._xComparison=o:a===16?this._xComparison=o*2:this._xComparison=1};Se.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))};Se.prototype._unFilterType1=function(i,e,t){let n=this._xComparison,r=n-1;for(let o=0;o<t;o++){let a=i[1+o],l=o>r?e[o-n]:0;e[o]=a+l}};Se.prototype._unFilterType2=function(i,e,t){let n=this._lastLine;for(let r=0;r<t;r++){let o=i[1+r],a=n?n[r]:0;e[r]=o+a}};Se.prototype._unFilterType3=function(i,e,t){let n=this._xComparison,r=n-1,o=this._lastLine;for(let a=0;a<t;a++){let l=i[1+a],s=o?o[a]:0,u=a>r?e[a-n]:0,h=Math.floor((u+s)/2);e[a]=l+h}};Se.prototype._unFilterType4=function(i,e,t){let n=this._xComparison,r=n-1,o=this._lastLine;for(let a=0;a<t;a++){let l=i[1+a],s=o?o[a]:0,u=a>r?e[a-n]:0,h=a>r&&o?o[a-n]:0,m=qo(u,s,h);e[a]=l+m}};Se.prototype._reverseFilterLine=function(i){let e=i[0],t,n=this._images[this._imageIndex],r=n.byteWidth;if(e===0)t=i.slice(1,r+1);else switch(t=Buffer.alloc(r),e){case 1:this._unFilterType1(i,t,r);break;case 2:this._unFilterType2(i,t,r);break;case 3:this._unFilterType3(i,t,r);break;case 4:this._unFilterType4(i,t,r);break;default:throw new Error("Unrecognised filter type - "+e)}this.write(t),n.lineIndex++,n.lineIndex>=n.height?(this._lastLine=null,this._imageIndex++,n=this._images[this._imageIndex]):this._lastLine=t,n?this.read(n.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}});var Bn=_((Xl,Pn)=>{"use strict";var Do=P("util"),Ln=Mt(),Uo=Bt(),Vo=Pn.exports=function(i){Ln.call(this);let e=[],t=this;this._filter=new Uo(i,{read:this.read.bind(this),write:function(n){e.push(n)},complete:function(){t.emit("complete",Buffer.concat(e))}}),this._filter.start()};Do.inherits(Vo,Ln)});var Te=_(($l,Nn)=>{"use strict";Nn.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}});var Ft=_((es,On)=>{"use strict";var Nt=[];(function(){for(let i=0;i<256;i++){let e=i;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;Nt[i]=e}})();var Ot=On.exports=function(){this._crc=-1};Ot.prototype.write=function(i){for(let e=0;e<i.length;e++)this._crc=Nt[(this._crc^i[e])&255]^this._crc>>>8;return!0};Ot.prototype.crc32=function(){return this._crc^-1};Ot.crc32=function(i){let e=-1;for(let t=0;t<i.length;t++)e=Nt[(e^i[t])&255]^e>>>8;return e^-1}});var qt=_((ts,Fn)=>{"use strict";var B=Te(),Wo=Ft(),F=Fn.exports=function(i,e){this._options=i,i.checkCRC=i.checkCRC!==!1,this._hasIHDR=!1,this._hasIEND=!1,this._emittedHeadersFinished=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[B.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[B.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[B.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[B.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[B.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[B.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=e.read,this.error=e.error,this.metadata=e.metadata,this.gamma=e.gamma,this.transColor=e.transColor,this.palette=e.palette,this.parsed=e.parsed,this.inflateData=e.inflateData,this.finished=e.finished,this.simpleTransparency=e.simpleTransparency,this.headersFinished=e.headersFinished||function(){}};F.prototype.start=function(){this.read(B.PNG_SIGNATURE.length,this._parseSignature.bind(this))};F.prototype._parseSignature=function(i){let e=B.PNG_SIGNATURE;for(let t=0;t<e.length;t++)if(i[t]!==e[t]){this.error(new Error("Invalid file signature"));return}this.read(8,this._parseChunkBegin.bind(this))};F.prototype._parseChunkBegin=function(i){let e=i.readUInt32BE(0),t=i.readUInt32BE(4),n="";for(let o=4;o<8;o++)n+=String.fromCharCode(i[o]);let r=!!(i[4]&32);if(!this._hasIHDR&&t!==B.TYPE_IHDR){this.error(new Error("Expected IHDR on beggining"));return}if(this._crc=new Wo,this._crc.write(Buffer.from(n)),this._chunks[t])return this._chunks[t](e);if(!r){this.error(new Error("Unsupported critical chunk type "+n));return}this.read(e+4,this._skipChunk.bind(this))};F.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))};F.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))};F.prototype._parseChunkEnd=function(i){let e=i.readInt32BE(0),t=this._crc.crc32();if(this._options.checkCRC&&t!==e){this.error(new Error("Crc error - "+e+" - "+t));return}this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))};F.prototype._handleIHDR=function(i){this.read(i,this._parseIHDR.bind(this))};F.prototype._parseIHDR=function(i){this._crc.write(i);let e=i.readUInt32BE(0),t=i.readUInt32BE(4),n=i[8],r=i[9],o=i[10],a=i[11],l=i[12];if(n!==8&&n!==4&&n!==2&&n!==1&&n!==16){this.error(new Error("Unsupported bit depth "+n));return}if(!(r in B.COLORTYPE_TO_BPP_MAP)){this.error(new Error("Unsupported color type"));return}if(o!==0){this.error(new Error("Unsupported compression method"));return}if(a!==0){this.error(new Error("Unsupported filter method"));return}if(l!==0&&l!==1){this.error(new Error("Unsupported interlace method"));return}this._colorType=r;let s=B.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:e,height:t,depth:n,interlace:!!l,palette:!!(r&B.COLORTYPE_PALETTE),color:!!(r&B.COLORTYPE_COLOR),alpha:!!(r&B.COLORTYPE_ALPHA),bpp:s,colorType:r}),this._handleChunkEnd()};F.prototype._handlePLTE=function(i){this.read(i,this._parsePLTE.bind(this))};F.prototype._parsePLTE=function(i){this._crc.write(i);let e=Math.floor(i.length/3);for(let t=0;t<e;t++)this._palette.push([i[t*3],i[t*3+1],i[t*3+2],255]);this.palette(this._palette),this._handleChunkEnd()};F.prototype._handleTRNS=function(i){this.simpleTransparency(),this.read(i,this._parseTRNS.bind(this))};F.prototype._parseTRNS=function(i){if(this._crc.write(i),this._colorType===B.COLORTYPE_PALETTE_COLOR){if(this._palette.length===0){this.error(new Error("Transparency chunk must be after palette"));return}if(i.length>this._palette.length){this.error(new Error("More transparent colors than palette size"));return}for(let e=0;e<i.length;e++)this._palette[e][3]=i[e];this.palette(this._palette)}this._colorType===B.COLORTYPE_GRAYSCALE&&this.transColor([i.readUInt16BE(0)]),this._colorType===B.COLORTYPE_COLOR&&this.transColor([i.readUInt16BE(0),i.readUInt16BE(2),i.readUInt16BE(4)]),this._handleChunkEnd()};F.prototype._handleGAMA=function(i){this.read(i,this._parseGAMA.bind(this))};F.prototype._parseGAMA=function(i){this._crc.write(i),this.gamma(i.readUInt32BE(0)/B.GAMMA_DIVISION),this._handleChunkEnd()};F.prototype._handleIDAT=function(i){this._emittedHeadersFinished||(this._emittedHeadersFinished=!0,this.headersFinished()),this.read(-i,this._parseIDAT.bind(this,i))};F.prototype._parseIDAT=function(i,e){if(this._crc.write(e),this._colorType===B.COLORTYPE_PALETTE_COLOR&&this._palette.length===0)throw new Error("Expected palette not found");this.inflateData(e);let t=i-e.length;t>0?this._handleIDAT(t):this._handleChunkEnd()};F.prototype._handleIEND=function(i){this.read(i,this._parseIEND.bind(this))};F.prototype._parseIEND=function(i){this._crc.write(i),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}});var Dt=_(Dn=>{"use strict";var qn=Lt(),Ho=[function(){},function(i,e,t,n){if(n===e.length)throw new Error("Ran out of data");let r=e[n];i[t]=r,i[t+1]=r,i[t+2]=r,i[t+3]=255},function(i,e,t,n){if(n+1>=e.length)throw new Error("Ran out of data");let r=e[n];i[t]=r,i[t+1]=r,i[t+2]=r,i[t+3]=e[n+1]},function(i,e,t,n){if(n+2>=e.length)throw new Error("Ran out of data");i[t]=e[n],i[t+1]=e[n+1],i[t+2]=e[n+2],i[t+3]=255},function(i,e,t,n){if(n+3>=e.length)throw new Error("Ran out of data");i[t]=e[n],i[t+1]=e[n+1],i[t+2]=e[n+2],i[t+3]=e[n+3]}],Yo=[function(){},function(i,e,t,n){let r=e[0];i[t]=r,i[t+1]=r,i[t+2]=r,i[t+3]=n},function(i,e,t){let n=e[0];i[t]=n,i[t+1]=n,i[t+2]=n,i[t+3]=e[1]},function(i,e,t,n){i[t]=e[0],i[t+1]=e[1],i[t+2]=e[2],i[t+3]=n},function(i,e,t){i[t]=e[0],i[t+1]=e[1],i[t+2]=e[2],i[t+3]=e[3]}];function zo(i,e){let t=[],n=0;function r(){if(n===i.length)throw new Error("Ran out of data");let o=i[n];n++;let a,l,s,u,h,m,g,y;switch(e){default:throw new Error("unrecognised depth");case 16:g=i[n],n++,t.push((o<<8)+g);break;case 4:g=o&15,y=o>>4,t.push(y,g);break;case 2:h=o&3,m=o>>2&3,g=o>>4&3,y=o>>6&3,t.push(y,g,m,h);break;case 1:a=o&1,l=o>>1&1,s=o>>2&1,u=o>>3&1,h=o>>4&1,m=o>>5&1,g=o>>6&1,y=o>>7&1,t.push(y,g,m,h,u,s,l,a);break}}return{get:function(o){for(;t.length<o;)r();let a=t.slice(0,o);return t=t.slice(o),a},resetAfterLine:function(){t.length=0},end:function(){if(n!==i.length)throw new Error("extra data found")}}}function Go(i,e,t,n,r,o){let a=i.width,l=i.height,s=i.index;for(let u=0;u<l;u++)for(let h=0;h<a;h++){let m=t(h,u,s);Ho[n](e,r,m,o),o+=n}return o}function jo(i,e,t,n,r,o){let a=i.width,l=i.height,s=i.index;for(let u=0;u<l;u++){for(let h=0;h<a;h++){let m=r.get(n),g=t(h,u,s);Yo[n](e,m,g,o)}r.resetAfterLine()}}Dn.dataToBitMap=function(i,e){let t=e.width,n=e.height,r=e.depth,o=e.bpp,a=e.interlace,l;r!==8&&(l=zo(i,r));let s;r<=8?s=Buffer.alloc(t*n*4):s=new Uint16Array(t*n*4);let u=Math.pow(2,r)-1,h=0,m,g;if(a)m=qn.getImagePasses(t,n),g=qn.getInterlaceIterator(t,n);else{let y=0;g=function(){let b=y;return y+=4,b},m=[{width:t,height:n}]}for(let y=0;y<m.length;y++)r===8?h=Go(m[y],s,g,o,i,h):jo(m[y],s,g,o,l,u);if(r===8){if(h!==i.length)throw new Error("extra data found")}else l.end();return s}});var Ut=_((ns,Un)=>{"use strict";function Ko(i,e,t,n,r){let o=0;for(let a=0;a<n;a++)for(let l=0;l<t;l++){let s=r[i[o]];if(!s)throw new Error("index "+i[o]+" not in palette");for(let u=0;u<4;u++)e[o+u]=s[u];o+=4}}function Qo(i,e,t,n,r){let o=0;for(let a=0;a<n;a++)for(let l=0;l<t;l++){let s=!1;if(r.length===1?r[0]===i[o]&&(s=!0):r[0]===i[o]&&r[1]===i[o+1]&&r[2]===i[o+2]&&(s=!0),s)for(let u=0;u<4;u++)e[o+u]=0;o+=4}}function Jo(i,e,t,n,r){let o=255,a=Math.pow(2,r)-1,l=0;for(let s=0;s<n;s++)for(let u=0;u<t;u++){for(let h=0;h<4;h++)e[l+h]=Math.floor(i[l+h]*o/a+.5);l+=4}}Un.exports=function(i,e){let t=e.depth,n=e.width,r=e.height,o=e.colorType,a=e.transColor,l=e.palette,s=i;return o===3?Ko(i,s,n,r,l):(a&&Qo(i,s,n,r,a),t!==8&&(t===16&&(s=Buffer.alloc(n*r*4)),Jo(i,s,n,r,t))),s}});var Hn=_((rs,Wn)=>{"use strict";var Zo=P("util"),Vt=P("zlib"),Vn=Mt(),Xo=Bn(),$o=qt(),ea=Dt(),ta=Ut(),Q=Wn.exports=function(i){Vn.call(this),this._parser=new $o(i,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this),simpleTransparency:this._simpleTransparency.bind(this),headersFinished:this._headersFinished.bind(this)}),this._options=i,this.writable=!0,this._parser.start()};Zo.inherits(Q,Vn);Q.prototype._handleError=function(i){this.emit("error",i),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",function(){})),this.errord=!0};Q.prototype._inflateData=function(i){if(!this._inflate)if(this._bitmapInfo.interlace)this._inflate=Vt.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{let t=((this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3)+1)*this._bitmapInfo.height,n=Math.max(t,Vt.Z_MIN_CHUNK);this._inflate=Vt.createInflate({chunkSize:n});let r=t,o=this.emit.bind(this,"error");this._inflate.on("error",function(l){r&&o(l)}),this._filter.on("complete",this._complete.bind(this));let a=this._filter.write.bind(this._filter);this._inflate.on("data",function(l){r&&(l.length>r&&(l=l.slice(0,r)),r-=l.length,a(l))}),this._inflate.on("end",this._filter.end.bind(this._filter))}this._inflate.write(i)};Q.prototype._handleMetaData=function(i){this._metaData=i,this._bitmapInfo=Object.create(i),this._filter=new Xo(this._bitmapInfo)};Q.prototype._handleTransColor=function(i){this._bitmapInfo.transColor=i};Q.prototype._handlePalette=function(i){this._bitmapInfo.palette=i};Q.prototype._simpleTransparency=function(){this._metaData.alpha=!0};Q.prototype._headersFinished=function(){this.emit("metadata",this._metaData)};Q.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"))};Q.prototype._complete=function(i){if(this.errord)return;let e;try{let t=ea.dataToBitMap(i,this._bitmapInfo);e=ta(t,this._bitmapInfo),t=null}catch(t){this._handleError(t);return}this.emit("parsed",e)}});var zn=_((os,Yn)=>{"use strict";var Y=Te();Yn.exports=function(i,e,t,n){let r=[Y.COLORTYPE_COLOR_ALPHA,Y.COLORTYPE_ALPHA].indexOf(n.colorType)!==-1;if(n.colorType===n.inputColorType){let b=(function(){let C=new ArrayBuffer(2);return new DataView(C).setInt16(0,256,!0),new Int16Array(C)[0]!==256})();if(n.bitDepth===8||n.bitDepth===16&&b)return i}let o=n.bitDepth!==16?i:new Uint16Array(i.buffer),a=255,l=Y.COLORTYPE_TO_BPP_MAP[n.inputColorType];l===4&&!n.inputHasAlpha&&(l=3);let s=Y.COLORTYPE_TO_BPP_MAP[n.colorType];n.bitDepth===16&&(a=65535,s*=2);let u=Buffer.alloc(e*t*s),h=0,m=0,g=n.bgColor||{};g.red===void 0&&(g.red=a),g.green===void 0&&(g.green=a),g.blue===void 0&&(g.blue=a);function y(){let b,C,w,I=a;switch(n.inputColorType){case Y.COLORTYPE_COLOR_ALPHA:I=o[h+3],b=o[h],C=o[h+1],w=o[h+2];break;case Y.COLORTYPE_COLOR:b=o[h],C=o[h+1],w=o[h+2];break;case Y.COLORTYPE_ALPHA:I=o[h+1],b=o[h],C=b,w=b;break;case Y.COLORTYPE_GRAYSCALE:b=o[h],C=b,w=b;break;default:throw new Error("input color type:"+n.inputColorType+" is not supported at present")}return n.inputHasAlpha&&(r||(I/=a,b=Math.min(Math.max(Math.round((1-I)*g.red+I*b),0),a),C=Math.min(Math.max(Math.round((1-I)*g.green+I*C),0),a),w=Math.min(Math.max(Math.round((1-I)*g.blue+I*w),0),a))),{red:b,green:C,blue:w,alpha:I}}for(let b=0;b<t;b++)for(let C=0;C<e;C++){let w=y(o,h);switch(n.colorType){case Y.COLORTYPE_COLOR_ALPHA:case Y.COLORTYPE_COLOR:n.bitDepth===8?(u[m]=w.red,u[m+1]=w.green,u[m+2]=w.blue,r&&(u[m+3]=w.alpha)):(u.writeUInt16BE(w.red,m),u.writeUInt16BE(w.green,m+2),u.writeUInt16BE(w.blue,m+4),r&&u.writeUInt16BE(w.alpha,m+6));break;case Y.COLORTYPE_ALPHA:case Y.COLORTYPE_GRAYSCALE:{let I=(w.red+w.green+w.blue)/3;n.bitDepth===8?(u[m]=I,r&&(u[m+1]=w.alpha)):(u.writeUInt16BE(I,m),r&&u.writeUInt16BE(w.alpha,m+2));break}default:throw new Error("unrecognised color Type "+n.colorType)}h+=l,m+=s}return u}});var Kn=_((as,jn)=>{"use strict";var Gn=Pt();function ia(i,e,t,n,r){for(let o=0;o<t;o++)n[r+o]=i[e+o]}function na(i,e,t){let n=0,r=e+t;for(let o=e;o<r;o++)n+=Math.abs(i[o]);return n}function ra(i,e,t,n,r,o){for(let a=0;a<t;a++){let l=a>=o?i[e+a-o]:0,s=i[e+a]-l;n[r+a]=s}}function oa(i,e,t,n){let r=0;for(let o=0;o<t;o++){let a=o>=n?i[e+o-n]:0,l=i[e+o]-a;r+=Math.abs(l)}return r}function aa(i,e,t,n,r){for(let o=0;o<t;o++){let a=e>0?i[e+o-t]:0,l=i[e+o]-a;n[r+o]=l}}function la(i,e,t){let n=0,r=e+t;for(let o=e;o<r;o++){let a=e>0?i[o-t]:0,l=i[o]-a;n+=Math.abs(l)}return n}function sa(i,e,t,n,r,o){for(let a=0;a<t;a++){let l=a>=o?i[e+a-o]:0,s=e>0?i[e+a-t]:0,u=i[e+a]-(l+s>>1);n[r+a]=u}}function ca(i,e,t,n){let r=0;for(let o=0;o<t;o++){let a=o>=n?i[e+o-n]:0,l=e>0?i[e+o-t]:0,s=i[e+o]-(a+l>>1);r+=Math.abs(s)}return r}function da(i,e,t,n,r,o){for(let a=0;a<t;a++){let l=a>=o?i[e+a-o]:0,s=e>0?i[e+a-t]:0,u=e>0&&a>=o?i[e+a-(t+o)]:0,h=i[e+a]-Gn(l,s,u);n[r+a]=h}}function ua(i,e,t,n){let r=0;for(let o=0;o<t;o++){let a=o>=n?i[e+o-n]:0,l=e>0?i[e+o-t]:0,s=e>0&&o>=n?i[e+o-(t+n)]:0,u=i[e+o]-Gn(a,l,s);r+=Math.abs(u)}return r}var ha={0:ia,1:ra,2:aa,3:sa,4:da},fa={0:na,1:oa,2:la,3:ca,4:ua};jn.exports=function(i,e,t,n,r){let o;if(!("filterType"in n)||n.filterType===-1)o=[0,1,2,3,4];else if(typeof n.filterType=="number")o=[n.filterType];else throw new Error("unrecognised filter types");n.bitDepth===16&&(r*=2);let a=e*r,l=0,s=0,u=Buffer.alloc((a+1)*t),h=o[0];for(let m=0;m<t;m++){if(o.length>1){let g=1/0;for(let y=0;y<o.length;y++){let b=fa[o[y]](i,s,a,r);b<g&&(h=o[y],g=b)}}u[l]=h,l++,ha[h](i,s,a,u,l,r),l+=a,s+=a}return u}});var Wt=_((ls,Qn)=>{"use strict";var q=Te(),ma=Ft(),pa=zn(),ga=Kn(),_a=P("zlib"),se=Qn.exports=function(i){if(this._options=i,i.deflateChunkSize=i.deflateChunkSize||32*1024,i.deflateLevel=i.deflateLevel!=null?i.deflateLevel:9,i.deflateStrategy=i.deflateStrategy!=null?i.deflateStrategy:3,i.inputHasAlpha=i.inputHasAlpha!=null?i.inputHasAlpha:!0,i.deflateFactory=i.deflateFactory||_a.createDeflate,i.bitDepth=i.bitDepth||8,i.colorType=typeof i.colorType=="number"?i.colorType:q.COLORTYPE_COLOR_ALPHA,i.inputColorType=typeof i.inputColorType=="number"?i.inputColorType:q.COLORTYPE_COLOR_ALPHA,[q.COLORTYPE_GRAYSCALE,q.COLORTYPE_COLOR,q.COLORTYPE_COLOR_ALPHA,q.COLORTYPE_ALPHA].indexOf(i.colorType)===-1)throw new Error("option color type:"+i.colorType+" is not supported at present");if([q.COLORTYPE_GRAYSCALE,q.COLORTYPE_COLOR,q.COLORTYPE_COLOR_ALPHA,q.COLORTYPE_ALPHA].indexOf(i.inputColorType)===-1)throw new Error("option input color type:"+i.inputColorType+" is not supported at present");if(i.bitDepth!==8&&i.bitDepth!==16)throw new Error("option bit depth:"+i.bitDepth+" is not supported at present")};se.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}};se.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())};se.prototype.filterData=function(i,e,t){let n=pa(i,e,t,this._options),r=q.COLORTYPE_TO_BPP_MAP[this._options.colorType];return ga(n,e,t,this._options,r)};se.prototype._packChunk=function(i,e){let t=e?e.length:0,n=Buffer.alloc(t+12);return n.writeUInt32BE(t,0),n.writeUInt32BE(i,4),e&&e.copy(n,8),n.writeInt32BE(ma.crc32(n.slice(4,n.length-4)),n.length-4),n};se.prototype.packGAMA=function(i){let e=Buffer.alloc(4);return e.writeUInt32BE(Math.floor(i*q.GAMMA_DIVISION),0),this._packChunk(q.TYPE_gAMA,e)};se.prototype.packIHDR=function(i,e){let t=Buffer.alloc(13);return t.writeUInt32BE(i,0),t.writeUInt32BE(e,4),t[8]=this._options.bitDepth,t[9]=this._options.colorType,t[10]=0,t[11]=0,t[12]=0,this._packChunk(q.TYPE_IHDR,t)};se.prototype.packIDAT=function(i){return this._packChunk(q.TYPE_IDAT,i)};se.prototype.packIEND=function(){return this._packChunk(q.TYPE_IEND,null)}});var $n=_((ss,Xn)=>{"use strict";var ya=P("util"),Jn=P("stream"),ba=Te(),wa=Wt(),Zn=Xn.exports=function(i){Jn.call(this);let e=i||{};this._packer=new wa(e),this._deflate=this._packer.createDeflate(),this.readable=!0};ya.inherits(Zn,Jn);Zn.prototype.pack=function(i,e,t,n){this.emit("data",Buffer.from(ba.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(e,t)),n&&this.emit("data",this._packer.packGAMA(n));let r=this._packer.filterData(i,e,t);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",function(o){this.emit("data",this._packer.packIDAT(o))}.bind(this)),this._deflate.on("end",function(){this.emit("data",this._packer.packIEND()),this.emit("end")}.bind(this)),this._deflate.end(r)}});var or=_((De,rr)=>{"use strict";var er=P("assert").ok,ve=P("zlib"),Ea=P("util"),tr=P("buffer").kMaxLength;function me(i){if(!(this instanceof me))return new me(i);i&&i.chunkSize<ve.Z_MIN_CHUNK&&(i.chunkSize=ve.Z_MIN_CHUNK),ve.Inflate.call(this,i),this._offset=this._offset===void 0?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,i&&i.maxLength!=null&&(this._maxLength=i.maxLength)}function Ca(i){return new me(i)}function ir(i,e){e&&process.nextTick(e),i._handle&&(i._handle.close(),i._handle=null)}me.prototype._processChunk=function(i,e,t){if(typeof t=="function")return ve.Inflate._processChunk.call(this,i,e,t);let n=this,r=i&&i.length,o=this._chunkSize-this._offset,a=this._maxLength,l=0,s=[],u=0,h;this.on("error",function(b){h=b});function m(b,C){if(n._hadError)return;let w=o-C;if(er(w>=0,"have should not go down"),w>0){let I=n._buffer.slice(n._offset,n._offset+w);if(n._offset+=w,I.length>a&&(I=I.slice(0,a)),s.push(I),u+=I.length,a-=I.length,a===0)return!1}return(C===0||n._offset>=n._chunkSize)&&(o=n._chunkSize,n._offset=0,n._buffer=Buffer.allocUnsafe(n._chunkSize)),C===0?(l+=r-b,r=b,!0):!1}er(this._handle,"zlib binding closed");let g;do g=this._handle.writeSync(e,i,l,r,this._buffer,this._offset,o),g=g||this._writeState;while(!this._hadError&&m(g[0],g[1]));if(this._hadError)throw h;if(u>=tr)throw ir(this),new RangeError("Cannot create final Buffer. It would be larger than 0x"+tr.toString(16)+" bytes");let y=Buffer.concat(s,u);return ir(this),y};Ea.inherits(me,ve.Inflate);function xa(i,e){if(typeof e=="string"&&(e=Buffer.from(e)),!(e instanceof Buffer))throw new TypeError("Not a string or buffer");let t=i._finishFlushFlag;return t==null&&(t=ve.Z_FINISH),i._processChunk(e,t)}function nr(i,e){return xa(new me(e),i)}rr.exports=De=nr;De.Inflate=me;De.createInflate=Ca;De.inflateSync=nr});var Ht=_((cs,lr)=>{"use strict";var ar=lr.exports=function(i){this._buffer=i,this._reads=[]};ar.prototype.read=function(i,e){this._reads.push({length:Math.abs(i),allowLess:i<0,func:e})};ar.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){let i=this._reads[0];if(this._buffer.length&&(this._buffer.length>=i.length||i.allowLess)){this._reads.shift();let e=this._buffer;this._buffer=e.slice(i.length),i.func.call(this,e.slice(0,i.length))}else break}if(this._reads.length>0)return new Error("There are some read requests waitng on finished stream");if(this._buffer.length>0)return new Error("unrecognised content at end of stream")}});var cr=_(sr=>{"use strict";var Sa=Ht(),Ta=Bt();sr.process=function(i,e){let t=[],n=new Sa(i);return new Ta(e,{read:n.read.bind(n),write:function(o){t.push(o)},complete:function(){}}).start(),n.process(),Buffer.concat(t)}});var fr=_((us,hr)=>{"use strict";var dr=!0,ur=P("zlib"),va=or();ur.deflateSync||(dr=!1);var Ia=Ht(),Aa=cr(),Ra=qt(),Ma=Dt(),ka=Ut();hr.exports=function(i,e){if(!dr)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let t;function n(D){t=D}let r;function o(D){r=D}function a(D){r.transColor=D}function l(D){r.palette=D}function s(){r.alpha=!0}let u;function h(D){u=D}let m=[];function g(D){m.push(D)}let y=new Ia(i);if(new Ra(e,{read:y.read.bind(y),error:n,metadata:o,gamma:h,palette:l,transColor:a,inflateData:g,simpleTransparency:s}).start(),y.process(),t)throw t;let C=Buffer.concat(m);m.length=0;let w;if(r.interlace)w=ur.inflateSync(C);else{let W=((r.width*r.bpp*r.depth+7>>3)+1)*r.height;w=va(C,{chunkSize:W,maxLength:W})}if(C=null,!w||!w.length)throw new Error("bad png - invalid inflate data response");let I=Aa.process(w,r);C=null;let ot=Ma.dataToBitMap(I,r);I=null;let Ae=ka(ot,r);return r.data=Ae,r.gamma=u||0,r}});var _r=_((hs,gr)=>{"use strict";var mr=!0,pr=P("zlib");pr.deflateSync||(mr=!1);var La=Te(),Pa=Wt();gr.exports=function(i,e){if(!mr)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let t=e||{},n=new Pa(t),r=[];r.push(Buffer.from(La.PNG_SIGNATURE)),r.push(n.packIHDR(i.width,i.height)),i.gamma&&r.push(n.packGAMA(i.gamma));let o=n.filterData(i.data,i.width,i.height),a=pr.deflateSync(o,n.getDeflateOptions());if(o=null,!a||!a.length)throw new Error("bad png - invalid compressed data response");return r.push(n.packIDAT(a)),r.push(n.packIEND()),Buffer.concat(r)}});var yr=_(Yt=>{"use strict";var Ba=fr(),Na=_r();Yt.read=function(i,e){return Ba(i,e||{})};Yt.write=function(i,e){return Na(i,e)}});var Er=_(wr=>{"use strict";var Oa=P("util"),br=P("stream"),Fa=Hn(),qa=$n(),Da=yr(),V=wr.PNG=function(i){br.call(this),i=i||{},this.width=i.width|0,this.height=i.height|0,this.data=this.width>0&&this.height>0?Buffer.alloc(4*this.width*this.height):null,i.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new Fa(i),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",function(e){this.data=e,this.emit("parsed",e)}.bind(this)),this._packer=new qa(i),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};Oa.inherits(V,br);V.sync=Da;V.prototype.pack=function(){return!this.data||!this.data.length?(this.emit("error","No data provided"),this):(process.nextTick(function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}.bind(this)),this)};V.prototype.parse=function(i,e){if(e){let t,n;t=function(r){this.removeListener("error",n),this.data=r,e(null,this)}.bind(this),n=function(r){this.removeListener("parsed",t),e(r,null)}.bind(this),this.once("parsed",t),this.once("error",n)}return this.end(i),this};V.prototype.write=function(i){return this._parser.write(i),!0};V.prototype.end=function(i){this._parser.end(i)};V.prototype._metadata=function(i){this.width=i.width,this.height=i.height,this.emit("metadata",i)};V.prototype._gamma=function(i){this.gamma=i};V.prototype._handleClose=function(){!this._parser.writable&&!this._packer.readable&&this.emit("close")};V.bitblt=function(i,e,t,n,r,o,a,l){if(t|=0,n|=0,r|=0,o|=0,a|=0,l|=0,t>i.width||n>i.height||t+r>i.width||n+o>i.height)throw new Error("bitblt reading outside image");if(a>e.width||l>e.height||a+r>e.width||l+o>e.height)throw new Error("bitblt writing outside image");for(let s=0;s<o;s++)i.data.copy(e.data,(l+s)*e.width+a<<2,(n+s)*i.width+t<<2,(n+s)*i.width+t+r<<2)};V.prototype.bitblt=function(i,e,t,n,r,o,a){return V.bitblt(this,i,e,t,n,r,o,a),this};V.adjustGamma=function(i){if(i.gamma){for(let e=0;e<i.height;e++)for(let t=0;t<i.width;t++){let n=i.width*e+t<<2;for(let r=0;r<3;r++){let o=i.data[n+r]/255;o=Math.pow(o,1/2.2/i.gamma),i.data[n+r]=Math.round(o*255)}}i.gamma=0}};V.prototype.adjustGamma=function(){V.adjustGamma(this)}});var Ue=_(pe=>{"use strict";function Cr(i){if(typeof i=="number"&&(i=i.toString()),typeof i!="string")throw new Error("Color should be defined as hex string");let e=i.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8)throw new Error("Invalid hex color: "+i);(e.length===3||e.length===4)&&(e=Array.prototype.concat.apply([],e.map(function(n){return[n,n]}))),e.length===6&&e.push("F","F");let t=parseInt(e.join(""),16);return{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:t&255,hex:"#"+e.slice(0,6).join("")}}pe.getOptions=function(e){e||(e={}),e.color||(e.color={});let t=typeof e.margin>"u"||e.margin===null||e.margin<0?4:e.margin,n=e.width&&e.width>=21?e.width:void 0,r=e.scale||4;return{width:n,scale:n?4:r,margin:t,color:{dark:Cr(e.color.dark||"#000000ff"),light:Cr(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}};pe.getScale=function(e,t){return t.width&&t.width>=e+t.margin*2?t.width/(e+t.margin*2):t.scale};pe.getImageWidth=function(e,t){let n=pe.getScale(e,t);return Math.floor((e+t.margin*2)*n)};pe.qrToImageData=function(e,t,n){let r=t.modules.size,o=t.modules.data,a=pe.getScale(r,n),l=Math.floor((r+n.margin*2)*a),s=n.margin*a,u=[n.color.light,n.color.dark];for(let h=0;h<l;h++)for(let m=0;m<l;m++){let g=(h*l+m)*4,y=n.color.light;if(h>=s&&m>=s&&h<l-s&&m<l-s){let b=Math.floor((h-s)/a),C=Math.floor((m-s)/a);y=u[o[b*r+C]?1:0]}e[g++]=y.r,e[g++]=y.g,e[g++]=y.b,e[g]=y.a}}});var xr=_(J=>{"use strict";var Ua=P("fs"),Va=Er().PNG,zt=Ue();J.render=function(e,t){let n=zt.getOptions(t),r=n.rendererOpts,o=zt.getImageWidth(e.modules.size,n);r.width=o,r.height=o;let a=new Va(r);return zt.qrToImageData(a.data,e,n),a};J.renderToDataURL=function(e,t,n){typeof n>"u"&&(n=t,t=void 0),J.renderToBuffer(e,t,function(r,o){r&&n(r);let a="data:image/png;base64,";a+=o.toString("base64"),n(null,a)})};J.renderToBuffer=function(e,t,n){typeof n>"u"&&(n=t,t=void 0);let r=J.render(e,t),o=[];r.on("error",n),r.on("data",function(a){o.push(a)}),r.on("end",function(){n(null,Buffer.concat(o))}),r.pack()};J.renderToFile=function(e,t,n,r){typeof r>"u"&&(r=n,n=void 0);let o=!1,a=(...s)=>{o||(o=!0,r.apply(null,s))},l=Ua.createWriteStream(e);l.on("error",a),l.on("close",a),J.renderToFileStream(l,t,n)};J.renderToFileStream=function(e,t,n){J.render(t,n).pack().pipe(e)}});var Sr=_(tt=>{"use strict";var Wa=Ue(),Ha={WW:" ",WB:"\u2584",BB:"\u2588",BW:"\u2580"},Ya={BB:" ",BW:"\u2584",WW:"\u2588",WB:"\u2580"};function za(i,e,t){return i&&e?t.BB:i&&!e?t.BW:!i&&e?t.WB:t.WW}tt.render=function(i,e,t){let n=Wa.getOptions(e),r=Ha;(n.color.dark.hex==="#ffffff"||n.color.light.hex==="#000000")&&(r=Ya);let o=i.modules.size,a=i.modules.data,l="",s=Array(o+n.margin*2+1).join(r.WW);s=Array(n.margin/2+1).join(s+`
`);let u=Array(n.margin+1).join(r.WW);l+=s;for(let h=0;h<o;h+=2){l+=u;for(let m=0;m<o;m++){let g=a[h*o+m],y=a[(h+1)*o+m];l+=za(g,y,r)}l+=u+`
`}return l+=s.slice(0,-1),typeof t=="function"&&t(null,l),l};tt.renderToFile=function(e,t,n,r){typeof r>"u"&&(r=n,n=void 0);let o=P("fs"),a=tt.render(t,n);o.writeFile(e,a,r)}});var vr=_(Tr=>{"use strict";Tr.render=function(i,e,t){let n=i.modules.size,r=i.modules.data,o="\x1B[40m  \x1B[0m",a="\x1B[47m  \x1B[0m",l="",s=Array(n+3).join(a),u=Array(2).join(a);l+=s+`
`;for(let h=0;h<n;++h){l+=a;for(let m=0;m<n;m++)l+=r[h*n+m]?o:a;l+=u+`
`}return l+=s+`
`,typeof t=="function"&&t(null,l),l}});var Mr=_(Rr=>{"use strict";var Ga="\x1B[47m",ja="\x1B[40m",Gt="\x1B[37m",jt="\x1B[30m",ge="\x1B[0m",Ka=Ga+jt,Qa=ja+Gt,Ja=function(i,e,t){return{"00":ge+" "+i,"01":ge+e+"\u2584"+i,"02":ge+t+"\u2584"+i,10:ge+e+"\u2580"+i,11:" ",12:"\u2584",20:ge+t+"\u2580"+i,21:"\u2580",22:"\u2588"}},Ir=function(i,e,t,n){let r=e+1;if(t>=r||n>=r||n<-1||t<-1)return"0";if(t>=e||n>=e||n<0||t<0)return"1";let o=n*e+t;return i[o]?"2":"1"},Ar=function(i,e,t,n){return Ir(i,e,t,n)+Ir(i,e,t,n+1)};Rr.render=function(i,e,t){let n=i.modules.size,r=i.modules.data,o=!!(e&&e.inverse),a=e&&e.inverse?Qa:Ka,u=Ja(a,o?jt:Gt,o?Gt:jt),h=ge+`
`+a,m=a;for(let g=-1;g<n+1;g+=2){for(let y=-1;y<n;y++)m+=u[Ar(r,n,y,g)];m+=u[Ar(r,n,n,g)]+h}return m+=ge,typeof t=="function"&&t(null,m),m}});var Lr=_(kr=>{"use strict";var Za=vr(),Xa=Mr();kr.render=function(i,e,t){return e&&e.small?Xa.render(i,e,t):Za.render(i,e,t)}});var Qt=_(Br=>{"use strict";var $a=Ue();function Pr(i,e){let t=i.a/255,n=e+'="'+i.hex+'"';return t<1?n+" "+e+'-opacity="'+t.toFixed(2).slice(1)+'"':n}function Kt(i,e,t){let n=i+e;return typeof t<"u"&&(n+=" "+t),n}function el(i,e,t){let n="",r=0,o=!1,a=0;for(let l=0;l<i.length;l++){let s=Math.floor(l%e),u=Math.floor(l/e);!s&&!o&&(o=!0),i[l]?(a++,l>0&&s>0&&i[l-1]||(n+=o?Kt("M",s+t,.5+u+t):Kt("m",r,0),r=0,o=!1),s+1<e&&i[l+1]||(n+=Kt("h",a),a=0)):r++}return n}Br.render=function(e,t,n){let r=$a.getOptions(t),o=e.modules.size,a=e.modules.data,l=o+r.margin*2,s=r.color.light.a?"<path "+Pr(r.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",u="<path "+Pr(r.color.dark,"stroke")+' d="'+el(a,o,r.margin)+'"/>',h='viewBox="0 0 '+l+" "+l+'"',g='<svg xmlns="http://www.w3.org/2000/svg" '+(r.width?'width="'+r.width+'" height="'+r.width+'" ':"")+h+' shape-rendering="crispEdges">'+s+u+`</svg>
`;return typeof n=="function"&&n(null,g),g}});var Nr=_(it=>{"use strict";var tl=Qt();it.render=tl.render;it.renderToFile=function(e,t,n,r){typeof r>"u"&&(r=n,n=void 0);let o=P("fs"),l='<?xml version="1.0" encoding="utf-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">'+it.render(t,n);o.writeFile(e,l,r)}});var Or=_(nt=>{"use strict";var Jt=Ue();function il(i,e,t){i.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=t,e.width=t,e.style.height=t+"px",e.style.width=t+"px"}function nl(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}nt.render=function(e,t,n){let r=n,o=t;typeof r>"u"&&(!t||!t.getContext)&&(r=t,t=void 0),t||(o=nl()),r=Jt.getOptions(r);let a=Jt.getImageWidth(e.modules.size,r),l=o.getContext("2d"),s=l.createImageData(a,a);return Jt.qrToImageData(s.data,e,r),il(l,o,a),l.putImageData(s,0,0),o};nt.renderToDataURL=function(e,t,n){let r=n;typeof r>"u"&&(!t||!t.getContext)&&(r=t,t=void 0),r||(r={});let o=nt.render(e,t,r),a=r.type||"image/png",l=r.rendererOpts||{};return o.toDataURL(a,l.quality)}});var qr=_(Ve=>{"use strict";var rl=dt(),Zt=Rt(),Fr=Or(),ol=Qt();function Xt(i,e,t,n,r){let o=[].slice.call(arguments,1),a=o.length,l=typeof o[a-1]=="function";if(!l&&!rl())throw new Error("Callback required as last argument");if(l){if(a<2)throw new Error("Too few arguments provided");a===2?(r=t,t=e,e=n=void 0):a===3&&(e.getContext&&typeof r>"u"?(r=n,n=void 0):(r=n,n=t,t=e,e=void 0))}else{if(a<1)throw new Error("Too few arguments provided");return a===1?(t=e,e=n=void 0):a===2&&!e.getContext&&(n=t,t=e,e=void 0),new Promise(function(s,u){try{let h=Zt.create(t,n);s(i(h,e,n))}catch(h){u(h)}})}try{let s=Zt.create(t,n);r(null,i(s,e,n))}catch(s){r(s)}}Ve.create=Zt.create;Ve.toCanvas=Xt.bind(null,Fr.render);Ve.toDataURL=Xt.bind(null,Fr.renderToDataURL);Ve.toString=Xt.bind(null,function(i,e,t){return ol.render(i,t)})});var Wr=_(ce=>{"use strict";var Dr=dt(),$t=Rt(),al=xr(),Ur=Sr(),ll=Lr(),Vr=Nr();function We(i,e,t){if(typeof i>"u")throw new Error("String required as first argument");if(typeof t>"u"&&(t=e,e={}),typeof t!="function")if(Dr())e=t||{},t=null;else throw new Error("Callback required as last argument");return{opts:e,cb:t}}function sl(i){return i.slice((i.lastIndexOf(".")-1>>>0)+2).toLowerCase()}function rt(i){switch(i){case"svg":return Vr;case"txt":case"utf8":return Ur;default:return al}}function cl(i){switch(i){case"svg":return Vr;case"terminal":return ll;default:return Ur}}function He(i,e,t){if(!t.cb)return new Promise(function(n,r){try{let o=$t.create(e,t.opts);return i(o,t.opts,function(a,l){return a?r(a):n(l)})}catch(o){r(o)}});try{let n=$t.create(e,t.opts);return i(n,t.opts,t.cb)}catch(n){t.cb(n)}}ce.create=$t.create;ce.toCanvas=qr().toCanvas;ce.toString=function(e,t,n){let r=We(e,t,n),o=r.opts?r.opts.type:void 0,a=cl(o);return He(a.render,e,r)};ce.toDataURL=function(e,t,n){let r=We(e,t,n),o=rt(r.opts.type);return He(o.renderToDataURL,e,r)};ce.toBuffer=function(e,t,n){let r=We(e,t,n),o=rt(r.opts.type);return He(o.renderToBuffer,e,r)};ce.toFile=function(e,t,n,r){if(typeof e!="string"||!(typeof t=="string"||typeof t=="object"))throw new Error("Invalid argument");if(arguments.length<3&&!Dr())throw new Error("Too few arguments provided");let o=We(t,n,r),a=o.opts.type||sl(e),s=rt(a).renderToFile.bind(null,e);return He(s,t,o)};ce.toFileStream=function(e,t,n){if(arguments.length<2)throw new Error("Too few arguments provided");let r=We(t,n,e.emit.bind(e,"error")),a=rt("png").renderToFileStream.bind(null,e);He(a,t,r)}});var Yr=_((vs,Hr)=>{"use strict";Hr.exports=Wr()});var Ie=jr(Yr(),1),ul=["qrcElement"],zr=(()=>{class i{allowEmptyString=!1;colorDark="#000000ff";colorLight="#ffffffff";cssClass="qrcode";elementType="canvas";errorCorrectionLevel="M";imageSrc;imageHeight;imageWidth;margin=4;qrdata="";scale=4;version;width=10;alt;ariaLabel;title;qrCodeURL=new ei;qrcElement;context=null;centerImage;renderer=te(ii);sanitizer=te(mi);async ngOnChanges(){await this.createQRCode()}isValidQrCodeText(t){return this.allowEmptyString===!1?!(typeof t>"u"||t===""||t==="null"||t===null):!(typeof t>"u")}toDataURL(t){return new Promise((n,r)=>{(0,Ie.toDataURL)(this.qrdata,t,(o,a)=>{o?r(o):n(a)})})}toCanvas(t,n){return new Promise((r,o)=>{(0,Ie.toCanvas)(t,this.qrdata,n,a=>{a?o(a):r("success")})})}toSVG(t){return new Promise((n,r)=>{(0,Ie.toString)(this.qrdata,t,(o,a)=>{o?r(o):n(a)})})}renderElement(t){for(let n of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,n);this.renderer.appendChild(this.qrcElement.nativeElement,t)}async createQRCode(){this.version&&this.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),this.version=40):this.version&&this.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),this.version=1):this.version!==void 0&&isNaN(this.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto."),this.version=void 0);try{if(!this.isValidQrCodeText(this.qrdata))throw new Error("[angularx-qrcode] Field `qrdata` is empty, set 'allowEmptyString=\"true\"' to overwrite this behaviour.");this.isValidQrCodeText(this.qrdata)&&this.qrdata===""&&(this.qrdata=" ");let t={color:{dark:this.colorDark,light:this.colorLight},errorCorrectionLevel:this.errorCorrectionLevel,margin:this.margin,scale:this.scale,version:this.version,width:this.width},n=this.imageSrc,r=this.imageHeight?+this.imageHeight:40,o=this.imageWidth?+this.imageWidth:40;switch(this.elementType){case"canvas":{let a=this.renderer.createElement("canvas");this.context=a.getContext("2d"),this.toCanvas(a,t).then(()=>{if(this.ariaLabel&&this.renderer.setAttribute(a,"aria-label",`${this.ariaLabel}`),this.title&&this.renderer.setAttribute(a,"title",`${this.title}`),n&&this.context){this.centerImage=new Image(o,r),n!==this.centerImage.src&&(this.centerImage.crossOrigin="anonymous",this.centerImage.src=n),r!==this.centerImage.height&&(this.centerImage.height=r),o!==this.centerImage.width&&(this.centerImage.width=o);let l=this.centerImage;l&&(l.onload=()=>{this.context?.drawImage(l,a.width/2-o/2,a.height/2-r/2,o,r)})}this.renderElement(a),this.emitQRCodeURL(a)}).catch(l=>{console.error("[angularx-qrcode] canvas error:",l)});break}case"svg":{let a=this.renderer.createElement("div");this.toSVG(t).then(l=>{this.renderer.setProperty(a,"innerHTML",l);let s=a.firstChild;this.renderer.setAttribute(s,"height",`${this.width}`),this.renderer.setAttribute(s,"width",`${this.width}`),this.renderElement(s),this.emitQRCodeURL(s)}).catch(l=>{console.error("[angularx-qrcode] svg error:",l)});break}default:{let a=this.renderer.createElement("img");this.toDataURL(t).then(l=>{this.alt&&a.setAttribute("alt",this.alt),this.ariaLabel&&a.setAttribute("aria-label",this.ariaLabel),a.setAttribute("src",l),this.title&&a.setAttribute("title",this.title),this.renderElement(a),this.emitQRCodeURL(a)}).catch(l=>{console.error("[angularx-qrcode] img/url error:",l)})}}}catch(t){console.error("[angularx-qrcode] Error generating QR Code:",t.message)}}convertBase64ImageUrlToBlob(t){let n=t.split(";base64,"),r=n[0].split(":")[1],o=atob(n[1]),a=new Uint8Array(o.length);for(let l=0;l<o.length;++l)a[l]=o.charCodeAt(l);return new Blob([a],{type:r})}emitQRCodeURL(t){let n=t.constructor.name;if(n===SVGSVGElement.name){let s=t.outerHTML,u=new Blob([s],{type:"image/svg+xml"}),h=URL.createObjectURL(u),m=this.sanitizer.bypassSecurityTrustUrl(h);this.qrCodeURL.emit(m);return}let r="";n===HTMLCanvasElement.name&&(r=t.toDataURL("image/png")),n===HTMLImageElement.name&&(r=t.src);let o=this.convertBase64ImageUrlToBlob(r),a=URL.createObjectURL(o),l=this.sanitizer.bypassSecurityTrustUrl(a);this.qrCodeURL.emit(l)}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=Ye({type:i,selectors:[["qrcode"]],viewQuery:function(n,r){if(n&1&&ai(ul,7),n&2){let o;li(o=si())&&(r.qrcElement=o.first)}},inputs:{allowEmptyString:"allowEmptyString",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",imageSrc:"imageSrc",imageHeight:"imageHeight",imageWidth:"imageWidth",margin:"margin",qrdata:"qrdata",scale:"scale",version:"version",width:"width",alt:"alt",ariaLabel:"ariaLabel",title:"title"},outputs:{qrCodeURL:"qrCodeURL"},features:[ti],decls:2,vars:2,consts:[["qrcElement",""]],template:function(n,r){n&1&&oi(0,"div",null,0),n&2&&ci(r.cssClass)},encapsulation:2,changeDetection:0})}return i})();function hl(i,e){i&1&&(c(0,"div",7),v(1,"span",53),d())}function fl(i,e){i&1&&(c(0,"div",70),v(1,"span",119),f(2," Subiendo im\xE1genes... "),d())}function ml(i,e){if(i&1){let t=Re();c(0,"div",120),v(1,"img",121),c(2,"button",122),K("click",function(){let r=S(t).$index,o=E(3);return T(o.removeImage(r))}),v(3,"i",123),d()()}if(i&2){let t=e.$implicit;p(),U("src",t,lt)}}function pl(i,e){if(i&1&&(c(0,"div",71),st(1,ml,4,1,"div",120,ri),d()),i&2){let t=E(2);p(),ct(t.form().images)}}function gl(i,e){if(i&1){let t=Re();c(0,"tr")(1,"td",124),f(2),d(),c(3,"td",99)(4,"input",125),k("ngModelChange",function(r){let o=S(t).$implicit;return M(o.quantity,r)||(o.quantity=r),T(r)}),K("change",function(){S(t);let r=E(2);return T(r.calculateFinalCost())}),d()(),c(5,"td",126),f(6),X(7,"currency"),d(),c(8,"td",127),f(9),X(10,"currency"),d(),c(11,"td",20)(12,"button",128),K("click",function(){let r=S(t).$index,o=E(2);return T(o.removePart(r))}),v(13,"i",129),d()()()}if(i&2){let t=e.$implicit,n=e.$index;p(2),N(t.name),p(2),R("ngModel",t.quantity),U("name","part_qty_"+n),p(2),O(" ",ke(7,5,t.unit_price_at_time,"ARS","symbol","1.0-0")," "),p(3),O(" ",ke(10,10,t.cost_at_time,"ARS","symbol","1.0-0")," ")}}function _l(i,e){i&1&&(c(0,"tr")(1,"td",130),f(2,"No hay repuestos cargados"),d()())}function yl(i,e){if(i&1&&(c(0,"div",112),v(1,"i",131),c(2,"span"),f(3),d()()),i&2){let t=E(2);p(3),N(t.error())}}function bl(i,e){if(i&1){let t=Re();c(0,"button",132),K("click",function(){S(t);let r=E(2);return T(r.shareWhatsApp())}),v(1,"i",133),f(2," Compartir "),d()}}function wl(i,e){i&1&&v(0,"span",119)}function El(i,e){if(i&1){let t=Re();c(0,"form",54),K("ngSubmit",function(){S(t);let r=E();return T(r.save())}),c(1,"div",55)(2,"div",56)(3,"label",57)(4,"span",58),f(5,"Nombre del Cliente"),d()(),c(6,"label",59),v(7,"i",60),c(8,"input",61),k("ngModelChange",function(r){S(t);let o=E();return M(o.form().customer_name,r)||(o.form().customer_name=r),T(r)}),d()()(),c(9,"div",56)(10,"label",57)(11,"span",58),f(12,"Tel\xE9fono"),d()(),c(13,"label",59),v(14,"i",62),c(15,"input",63),k("ngModelChange",function(r){S(t);let o=E();return M(o.form().customer_phone,r)||(o.form().customer_phone=r),T(r)}),d()()()(),c(16,"div",55)(17,"div",56)(18,"label",57)(19,"span",58),f(20,"Modelo del Dispositivo"),d()(),c(21,"label",59),v(22,"i",64),c(23,"input",65),k("ngModelChange",function(r){S(t);let o=E();return M(o.form().device_model,r)||(o.form().device_model=r),T(r)}),d()()(),c(24,"div",56)(25,"label",57)(26,"span",58),f(27,"IMEI / Serie"),d()(),c(28,"label",59),v(29,"i",66),c(30,"input",67),k("ngModelChange",function(r){S(t);let o=E();return M(o.form().imei,r)||(o.form().imei=r),T(r)}),d()()()(),c(31,"div",56)(32,"label",57)(33,"span",58),f(34,"Im\xE1genes del Equipo"),d()(),c(35,"div",68)(36,"input",69),K("change",function(r){S(t);let o=E();return T(o.onFileSelected(r))}),d(),G(37,fl,3,0,"div",70),G(38,pl,3,0,"div",71),d()(),c(39,"div",56)(40,"label",57)(41,"span",58),f(42,"Descripci\xF3n del Problema"),d()(),c(43,"textarea",72),k("ngModelChange",function(r){S(t);let o=E();return M(o.form().issue_description,r)||(o.form().issue_description=r),T(r)}),d()(),c(44,"div",73),f(45,"Detalles del Equipo"),d(),c(46,"div",56)(47,"label",57)(48,"span",58),f(49,"Accesorios Recibidos"),d()(),c(50,"div",74)(51,"label",75)(52,"input",76),k("ngModelChange",function(r){S(t);let o=E();return M(o.form().checklist.charger,r)||(o.form().checklist.charger=r),T(r)}),d(),c(53,"span",77),f(54,"Cargador"),d()(),c(55,"label",75)(56,"input",78),k("ngModelChange",function(r){S(t);let o=E();return M(o.form().checklist.battery,r)||(o.form().checklist.battery=r),T(r)}),d(),c(57,"span",77),f(58,"Bater\xEDa"),d()(),c(59,"label",75)(60,"input",79),k("ngModelChange",function(r){S(t);let o=E();return M(o.form().checklist.chip,r)||(o.form().checklist.chip=r),T(r)}),d(),c(61,"span",77),f(62,"Chip"),d()(),c(63,"label",75)(64,"input",80),k("ngModelChange",function(r){S(t);let o=E();return M(o.form().checklist.sd,r)||(o.form().checklist.sd=r),T(r)}),d(),c(65,"span",77),f(66,"Tarjeta SD"),d()(),c(67,"label",75)(68,"input",81),k("ngModelChange",function(r){S(t);let o=E();return M(o.form().checklist.case,r)||(o.form().checklist.case=r),T(r)}),d(),c(69,"span",77),f(70,"Funda"),d()()()(),c(71,"div",82)(72,"div",56)(73,"label",57)(74,"span",58),f(75,"PIN / Contrase\xF1a"),d()(),c(76,"label",59),v(77,"i",83),c(78,"input",84),k("ngModelChange",function(r){S(t);let o=E();return M(o.form().security_pin,r)||(o.form().security_pin=r),T(r)}),d()()(),c(79,"div",56)(80,"label",57)(81,"span",58),f(82,"Patr\xF3n"),d()(),c(83,"label",59),v(84,"i",85),c(85,"input",86),k("ngModelChange",function(r){S(t);let o=E();return M(o.form().security_pattern,r)||(o.form().security_pattern=r),T(r)}),d()()(),c(86,"div",56)(87,"label",57)(88,"span",58),f(89,"Passcode (Num\xE9rico/Texto)"),d()(),c(90,"label",59),v(91,"i",87),c(92,"input",88),k("ngModelChange",function(r){S(t);let o=E();return M(o.form().device_passcode,r)||(o.form().device_passcode=r),T(r)}),d()()()(),c(93,"div",73),f(94,"Gesti\xF3n T\xE9cnica & Repuestos"),d(),c(95,"div",89)(96,"div",90)(97,"h3",91),v(98,"i",92),f(99," Repuestos Utilizados "),d(),c(100,"div",93)(101,"button",94),K("click",function(){S(t);let r=E();return T(r.loadProducts())}),v(102,"i",95),f(103," A\xF1adir Repuesto "),d()()(),c(104,"div",96)(105,"table",97)(106,"thead",98)(107,"tr")(108,"th"),f(109,"Repuesto"),d(),c(110,"th",99),f(111,"Cant."),d(),c(112,"th",20),f(113,"Precio Venta"),d(),c(114,"th",20),f(115,"Costo"),d(),v(116,"th"),d()(),c(117,"tbody"),st(118,gl,14,15,"tr",null,ni),G(120,_l,3,0,"tr"),d()()()(),c(121,"div",55)(122,"div",56)(123,"label",57)(124,"span",58),f(125,"Mano de Obra (Labor T\xE9cnica)"),d()(),c(126,"label",59),v(127,"i",100),c(128,"input",101),k("ngModelChange",function(r){S(t);let o=E();return M(o.form().technical_labor_cost,r)||(o.form().technical_labor_cost=r),T(r)}),K("change",function(){S(t);let r=E();return T(r.calculateFinalCost())}),d()()(),c(129,"div",56)(130,"label",57)(131,"span",58),f(132,"Estado Final"),d()(),c(133,"select",102),k("ngModelChange",function(r){S(t);let o=E();return M(o.form().current_status_id,r)||(o.form().current_status_id=r),T(r)}),c(134,"option",103),f(135,"PENDIENTE DE DIAGN\xD3STICO"),d(),c(136,"option",103),f(137,"GESTI\xD3N DE REPUESTOS"),d(),c(138,"option",103),f(139,"EN REPARACI\xD3N"),d(),c(140,"option",103),f(141,"CONTROL DE CALIDAD"),d(),c(142,"option",103),f(143,"LISTO PARA RETIRAR"),d(),c(144,"option",103),f(145,"ENTREGADO"),d(),c(146,"option",103),f(147,"CANCELADO"),d()()()(),c(148,"div",56)(149,"label",57)(150,"span",104),f(151,"Reporte T\xE9cnico (P\xFAblico)"),d()(),c(152,"textarea",105),k("ngModelChange",function(r){S(t);let o=E();return M(o.form().technical_report,r)||(o.form().technical_report=r),T(r)}),d()(),c(153,"div",73),f(154,"Resumen Financiero"),d(),c(155,"div",82)(156,"div",56)(157,"label",57)(158,"span",58),f(159,"Costo Total (Repuestos + Labor)"),d()(),c(160,"div",106),f(161),X(162,"currency"),d()(),c(163,"div",56)(164,"label",57)(165,"span",58),f(166,"Se\xF1a / Adelanto"),d()(),c(167,"label",59),v(168,"i",107),c(169,"input",108),k("ngModelChange",function(r){S(t);let o=E();return M(o.form().deposit_amount,r)||(o.form().deposit_amount=r),T(r)}),d()()(),c(170,"div",56)(171,"label",57)(172,"span",109),f(173,"Saldo Pendiente"),d()(),c(174,"div",110),f(175),X(176,"currency"),d()()(),c(177,"div",56)(178,"label",57)(179,"span",58),f(180,"Notas del T\xE9cnico (Interno)"),d()(),c(181,"textarea",111),k("ngModelChange",function(r){S(t);let o=E();return M(o.form().technician_notes,r)||(o.form().technician_notes=r),T(r)}),d()(),G(182,yl,4,1,"div",112),c(183,"div",113),G(184,bl,3,0,"button",114),c(185,"button",115),K("click",function(){S(t);let r=E();return T(r.printOrder())}),v(186,"i",116),f(187," Imprimir Orden "),d(),c(188,"a",117),f(189,"Cancelar"),d(),c(190,"button",118),G(191,wl,1,0,"span",119),f(192," Guardar Reparaci\xF3n "),d()()()}if(i&2){let t=E();p(8),R("ngModel",t.form().customer_name),p(7),R("ngModel",t.form().customer_phone),p(8),R("ngModel",t.form().device_model),p(7),R("ngModel",t.form().imei),p(6),U("disabled",t.uploadingImages()),p(),j(t.uploadingImages()?37:-1),p(),j(t.form().images.length>0?38:-1),p(5),R("ngModel",t.form().issue_description),p(8),ye("bg-primary-content",t.form().checklist.charger)("border-primary",t.form().checklist.charger)("text-primary",t.form().checklist.charger)("bg-gray-100",!t.form().checklist.charger)("border-gray-300",!t.form().checklist.charger)("text-gray-700",!t.form().checklist.charger),p(),R("ngModel",t.form().checklist.charger),p(3),ye("bg-primary-content",t.form().checklist.battery)("border-primary",t.form().checklist.battery)("text-primary",t.form().checklist.battery)("bg-gray-100",!t.form().checklist.battery)("border-gray-300",!t.form().checklist.battery)("text-gray-700",!t.form().checklist.battery),p(),R("ngModel",t.form().checklist.battery),p(3),ye("bg-primary-content",t.form().checklist.chip)("border-primary",t.form().checklist.chip)("text-primary",t.form().checklist.chip)("bg-gray-100",!t.form().checklist.chip)("border-gray-300",!t.form().checklist.chip)("text-gray-700",!t.form().checklist.chip),p(),R("ngModel",t.form().checklist.chip),p(3),ye("bg-primary-content",t.form().checklist.sd)("border-primary",t.form().checklist.sd)("text-primary",t.form().checklist.sd)("bg-gray-100",!t.form().checklist.sd)("border-gray-300",!t.form().checklist.sd)("text-gray-700",!t.form().checklist.sd),p(),R("ngModel",t.form().checklist.sd),p(3),ye("bg-primary-content",t.form().checklist.case)("border-primary",t.form().checklist.case)("text-primary",t.form().checklist.case)("bg-gray-100",!t.form().checklist.case)("border-gray-300",!t.form().checklist.case)("text-gray-700",!t.form().checklist.case),p(),R("ngModel",t.form().checklist.case),p(10),R("ngModel",t.form().security_pin),p(7),R("ngModel",t.form().security_pattern),p(7),R("ngModel",t.form().device_passcode),p(26),ct(t.form().parts),p(2),j(t.form().parts.length===0?120:-1),p(8),R("ngModel",t.form().technical_labor_cost),p(5),R("ngModel",t.form().current_status_id),p(),U("value",1),p(2),U("value",2),p(2),U("value",3),p(2),U("value",4),p(2),U("value",5),p(2),U("value",6),p(2),U("value",7),p(6),R("ngModel",t.form().technical_report),p(9),O(" ",ke(162,96,t.form().final_cost,"ARS","symbol","1.0-0")," "),p(8),R("ngModel",t.form().deposit_amount),p(6),O(" ",ke(176,101,t.form().final_cost-(t.form().deposit_amount||0),"ARS","symbol","1.0-0")," "),p(6),R("ngModel",t.form().technician_notes),p(),j(t.error()?182:-1),p(2),j(t.id&&t.form().tracking_code?184:-1),p(),U("disabled",t.saving()),p(5),U("disabled",t.saving()||!t.form().customer_name||!t.form().device_model),p(),j(t.saving()?191:-1)}}function Cl(i,e){if(i&1&&v(0,"img",14),i&2){let t=E();U("src",t.company().logo_url,lt)}}function xl(i,e){if(i&1&&v(0,"qrcode",19),i&2){let t=E();U("qrdata",t.getTrackingUrl())("width",60)("margin",0)("errorCorrectionLevel","M")}}var Gr=class i{route=te(pi);router=te(gi);companyService=te(Pi);repairService=te(Bi);id=null;date=new Date;initialFormState={customer_name:"",customer_phone:"",device_model:"",device_type:"smartphone",device_brand:"generic",imei:"",issue_description:"",current_status_id:1,estimated_cost:0,final_cost:0,technician_notes:"",checklist:{charger:!1,battery:!1,chip:!1,sd:!1,case:!1},security_pin:"",security_pattern:"",device_passcode:"",deposit_amount:0,tracking_code:"",repair_number:0,images:[],technical_labor_cost:0,technical_report:"",parts:[]};form=ie(ee({},this.initialFormState));availableProducts=ie([]);async ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),await this.loadCompanySettings(),await this.loadProducts(),this.id&&await this.loadRepair(),this.loading.set(!1)}loading=ie(!0);saving=ie(!1);error=ie(null);company=ie(null);uploadingImages=ie(!1);async loadProducts(){}async onFileSelected(e){let t=e.target,n=t.files;if(!n||n.length===0)return;this.uploadingImages.set(!0);let r=[];try{for(let o=0;o<n.length;o++){let a=n.item(o);if(a){let l=await this.repairService.uploadImage(a);r.push(l)}}this.form.update(o=>de(ee({},o),{images:[...o.images,...r]}))}catch(o){console.error("Error uploading images:",o);let a=o instanceof Error?o.message:"Unknown error";this.error.set("Error al subir im\xE1genes: "+a)}finally{this.uploadingImages.set(!1),t.value=""}}removeImage(e){this.form.update(t=>{let n=[...t.images];return n.splice(e,1),de(ee({},t),{images:n})})}async loadCompanySettings(){try{let e=await this.companyService.getSettings();e&&this.company.set(e)}catch(e){console.error("Error loading company settings",e)}}addPart(e){this.form.update(t=>{let n=[...t.parts];return n.push({product_id:e.id,name:e.name,quantity:1,unit_price_at_time:e.price,cost_at_time:e.cost||0}),de(ee({},t),{parts:n})}),this.calculateFinalCost()}removePart(e){this.form.update(t=>{let n=[...t.parts];return n.splice(e,1),de(ee({},t),{parts:n})}),this.calculateFinalCost()}calculateFinalCost(){this.form.update(e=>{let t=e.parts.reduce((n,r)=>n+r.unit_price_at_time*r.quantity,0);return de(ee({},e),{final_cost:(e.technical_labor_cost||0)+t})})}async loadRepair(){if(this.id)try{let e=await this.repairService.getById(this.id);e&&this.form.set({customer_name:e.customer_name||"",customer_phone:e.customer_phone||"",device_model:e.device_model||"",device_type:e.device_type||"smartphone",device_brand:e.device_brand||"generic",imei:e.imei||"",issue_description:e.issue_description||"",current_status_id:e.current_status_id,estimated_cost:e.estimated_cost||0,final_cost:e.final_cost||0,technician_notes:e.technician_notes||"",checklist:e.checklist||this.initialFormState.checklist,security_pin:e.security_pin||"",security_pattern:e.security_pattern||"",device_passcode:e.device_passcode||"",deposit_amount:e.deposit_amount||0,tracking_code:e.tracking_code,repair_number:e.repair_number||0,images:e.images||[],technical_labor_cost:e.technical_labor_cost||0,technical_report:e.technical_report||"",parts:e.parts||[]})}catch(e){let t=e instanceof Error?e.message:"Unknown error";this.error.set("Error cargando reparaci\xF3n: "+t)}}async save(){this.saving.set(!0),this.error.set(null);try{let e=this.form(),t=de(ee({},e),{parts:e.parts.map(n=>({product_id:n.product_id,quantity:n.quantity,unit_price_at_time:n.unit_price_at_time,cost_at_time:n.cost_at_time}))});this.id?await this.repairService.update(this.id,t):await this.repairService.create(t),this.router.navigate(["/admin/repairs"])}catch(e){console.error("Error saving repair:",e);let t=e.message||e.error_description||(e instanceof Error?e.message:"Unknown error");this.error.set(t)}finally{this.saving.set(!1)}}printOrder(){document.body.classList.add("printing-repair-order"),setTimeout(()=>{window.print(),document.body.classList.remove("printing-repair-order")},100)}shareWhatsApp(){if(!this.form().tracking_code)return;let e=this.form().customer_name,t=this.form().device_model,n=this.getTrackingUrl(),r=`Hola ${e}, tu ${t} est\xE1 en reparaci\xF3n. Pod\xE9s seguir el estado en tiempo real aqu\xED: ${n}`;if(this.form().current_status_id===5){let a=Li.contact.socialMedia.googleMaps;r=`Hola ${e}, su reparaci\xF3n del ${t} ya est\xE1 lista. Agradecemos su rese\xF1a en el siguiente enlace: ${a}`}let o=`https://wa.me/${this.form().customer_phone}?text=${encodeURIComponent(r)}`;window.open(o,"_blank")}getTrackingUrl(){return this.form().tracking_code?`${window.location.origin}/#/tracking/${this.form().tracking_code}`:""}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=Ye({type:i,selectors:[["app-admin-repair-form-page"]],decls:166,vars:43,consts:[[1,"container","mx-auto","p-4","max-w-5xl","no-print"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-2xl","font-bold","text-green-600"],["routerLink","/admin/repairs",1,"btn","btn-circle","btn-ghost","text-base-content"],[1,"fas","fa-arrow-left"],[1,"card","bg-base-100","shadow-lg"],[1,"card-body","p-6"],[1,"flex","justify-center","py-12"],[1,"space-y-6"],[1,"print-container","font-sans","text-xs","leading-tight","hidden"],[1,"flex","flex-col","h-full"],[1,"w-full","pb-4","border-b-2","border-dashed","border-gray-400","mb-4","flex","flex-col"],[1,"flex","justify-between","items-start","mb-2","border-b","border-gray-300","pb-2"],[1,"flex","items-center"],["alt","Logo",1,"h-10","w-auto","mr-3","object-contain",3,"src"],[1,"text-lg","font-bold","uppercase","mb-0"],[1,"text-[9px]","text-gray-600"],[1,"text-right","flex","items-center","gap-2"],[1,"flex","flex-col","items-center"],[3,"qrdata","width","margin","errorCorrectionLevel"],[1,"text-right"],[1,"font-bold","text-base","text-green-700","uppercase"],[1,"text-[9px]","text-gray-600","leading-tight"],[1,"grid","grid-cols-2","gap-3","mb-2","grow"],[1,"flex","flex-col","gap-2"],[1,"border","border-gray-300","rounded","p-1"],[1,"font-bold","bg-gray-100","px-1","text-[9px]","mb-0.5"],[1,"px-1","text-[9px]"],[1,"flex","justify-between"],[1,"font-bold"],[1,"truncate","ml-1"],[1,"border-t","border-gray-200","my-0.5"],[1,"mt-1","pt-1","border-t","border-gray-200"],[1,"grid","grid-cols-3","gap-0.5","text-[8px]"],[1,"flex","justify-between","border-t","border-gray-300","pt-0.5","mt-0.5","font-bold"],[1,"border","border-gray-300","rounded","p-1","grow"],[1,"px-1","text-[9px]","h-full","overflow-hidden","leading-tight"],[1,"mt-auto"],[1,"flex","justify-between","items-end","text-[9px]"],[1,"w-5/12","text-center","border-t","border-black","pt-1"],[1,"w-full","pt-2","flex","flex-col","justify-between"],[1,"grid","grid-cols-2","gap-4"],[1,"text-center","mb-3"],[1,"font-bold","text-xs","uppercase","border-b","border-black","pb-1","mb-1"],[1,"text-[10px]","font-bold","truncate"],[1,"mb-3"],[1,"text-sm","font-bold","mb-0.5","text-center","border","border-gray-300","rounded","bg-gray-50"],[1,"text-[9px]","text-center","text-gray-600"],[1,"space-y-2"],[1,"text-[9px]"],[1,"mt-2","pt-2","border-t","border-gray-300"],[1,"text-[8px]","text-gray-500","text-justify","leading-tight","mb-2"],[1,"text-center","font-bold","text-[10px]"],[1,"loading","loading-spinner","loading-lg","text-primary"],[1,"space-y-6",3,"ngSubmit"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"form-control"],[1,"label"],[1,"label-text","font-medium"],[1,"input","input-bordered","flex","items-center","gap-2"],[1,"fas","fa-user","text-gray-400"],["type","text","name","customer_name","required","",1,"grow",3,"ngModelChange","ngModel"],[1,"fas","fa-phone","text-gray-400"],["type","tel","name","customer_phone",1,"grow",3,"ngModelChange","ngModel"],[1,"fas","fa-mobile-alt","text-gray-400"],["type","text","name","device_model","required","","placeholder","Ej: iPhone 11, Samsung A52...",1,"grow",3,"ngModelChange","ngModel"],[1,"fas","fa-barcode","text-gray-400"],["type","text","name","imei","placeholder","Opcional",1,"grow",3,"ngModelChange","ngModel"],[1,"flex","flex-col","gap-4"],["type","file","multiple","","accept","image/*",1,"file-input","file-input-bordered","w-full",3,"change","disabled"],[1,"flex","items-center","gap-2","text-sm","text-gray-500"],[1,"grid","grid-cols-2","md:grid-cols-4","gap-4"],["name","issue_description","placeholder","Describe la falla reportada por el cliente...",1,"textarea","textarea-bordered","h-24","leading-relaxed",3,"ngModelChange","ngModel"],[1,"divider","text-sm","font-medium","text-gray-500"],[1,"flex","flex-wrap","gap-3"],[1,"cursor-pointer","select-none","transition-all","duration-200","border","rounded-lg","px-4","py-2","flex","items-center","gap-3","hover:bg-gray-200"],["type","checkbox","name","check_charger",1,"checkbox","checkbox-primary","checkbox-sm",3,"ngModelChange","ngModel"],[1,"font-medium"],["type","checkbox","name","check_battery",1,"checkbox","checkbox-primary","checkbox-sm",3,"ngModelChange","ngModel"],["type","checkbox","name","check_chip",1,"checkbox","checkbox-primary","checkbox-sm",3,"ngModelChange","ngModel"],["type","checkbox","name","check_sd",1,"checkbox","checkbox-primary","checkbox-sm",3,"ngModelChange","ngModel"],["type","checkbox","name","check_case",1,"checkbox","checkbox-primary","checkbox-sm",3,"ngModelChange","ngModel"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-6"],[1,"fas","fa-lock","text-gray-400"],["type","text","name","security_pin","placeholder","1234",1,"grow",3,"ngModelChange","ngModel"],[1,"fas","fa-draw-polygon","text-gray-400"],["type","text","name","security_pattern","placeholder","Ej: Z, L, etc",1,"grow",3,"ngModelChange","ngModel"],[1,"fas","fa-key","text-gray-400"],["type","text","name","device_passcode","placeholder","Contrase\xF1a de pantalla",1,"grow",3,"ngModelChange","ngModel"],[1,"form-control","bg-neutral-50","p-6","rounded-2xl","border","border-neutral-100"],[1,"flex","justify-between","items-center","mb-4"],[1,"font-bold","text-neutral-800","flex","items-center","gap-2"],[1,"fas","fa-box-open","text-primary"],[1,"flex","gap-2"],["type","button",1,"btn","btn-sm","btn-outline","btn-primary","rounded-xl",3,"click"],[1,"fas","fa-plus"],[1,"overflow-x-auto"],[1,"table","table-sm"],[1,"bg-white/50","text-neutral-400"],[1,"text-center"],[1,"fas","fa-tools","text-gray-400"],["type","number","name","technical_labor_cost","min","0",1,"grow",3,"ngModelChange","change","ngModel"],["name","current_status_id",1,"select","select-bordered","w-full",3,"ngModelChange","ngModel"],[3,"value"],[1,"label-text","font-bold","text-primary","italic"],["name","technical_report","placeholder","Escribe el informe que ver\xE1 el cliente en la web...",1,"textarea","textarea-bordered","h-24","leading-relaxed","font-mono","text-xs",3,"ngModelChange","ngModel"],[1,"text-3xl","font-black","text-neutral-800","tracking-tighter"],[1,"fas","fa-hand-holding-usd","text-gray-400"],["type","number","name","deposit_amount","min","0",1,"grow",3,"ngModelChange","ngModel"],[1,"label-text","font-bold","text-green-600"],[1,"text-3xl","font-black","text-green-600","tracking-tighter"],["name","technician_notes","placeholder","Detalles de la reparaci\xF3n realizada...",1,"textarea","textarea-bordered","h-24","leading-relaxed",3,"ngModelChange","ngModel"],[1,"alert","alert-error","mb-6","shadow-sm"],[1,"flex","flex-col","sm:flex-row","justify-end","gap-4","pt-6","border-t","border-base-200"],["type","button",1,"btn","bg-green-600","hover:bg-green-700","text-white","border-none","w-full","sm:w-auto"],["type","button",1,"btn","btn-outline","w-full","sm:w-auto",3,"click","disabled"],[1,"fas","fa-print","mr-2"],["routerLink","/admin/repairs",1,"btn","btn-error","text-white","w-full","sm:w-auto"],["type","submit",1,"btn","btn-primary","w-full","sm:w-auto",3,"disabled"],[1,"loading","loading-spinner","loading-xs"],[1,"relative","group","aspect-square","bg-base-200","rounded-lg","overflow-hidden","border","border-base-300"],["alt","Repair image",1,"w-full","h-full","object-cover",3,"src"],["type","button",1,"absolute","top-1","right-1","btn","btn-circle","btn-xs","btn-error","opacity-0","group-hover:opacity-100","transition-opacity",3,"click"],[1,"fas","fa-times"],[1,"font-bold","text-neutral-700"],["type","number",1,"input","input-xs","input-bordered","w-16","text-center",3,"ngModelChange","change","ngModel","name"],[1,"text-right","font-mono","text-primary","font-bold"],[1,"text-right","font-mono","text-neutral-400","text-[10px]"],["type","button",1,"btn","btn-ghost","btn-xs","text-rose-500",3,"click"],[1,"fas","fa-trash"],["colspan","5",1,"text-center","py-4","text-xs","italic","text-neutral-400"],[1,"fas","fa-exclamation-circle"],["type","button",1,"btn","bg-green-600","hover:bg-green-700","text-white","border-none","w-full","sm:w-auto",3,"click"],[1,"fab","fa-whatsapp","mr-2"]],template:function(t,n){if(t&1&&(c(0,"div",0)(1,"div",1)(2,"h1",2),f(3),d(),c(4,"a",3),v(5,"i",4),d()(),c(6,"div",5)(7,"div",6),G(8,hl,2,0,"div",7)(9,El,193,106,"form",8),d()()(),c(10,"div",9)(11,"div",10)(12,"div",11)(13,"div",12)(14,"div",13),G(15,Cl,1,1,"img",14),c(16,"div")(17,"h1",15),f(18),X(19,"number"),d(),c(20,"div",16)(21,"span"),f(22),X(23,"date"),d(),f(24," | "),c(25,"span"),f(26),d()()()(),c(27,"div",17)(28,"div",18),G(29,xl,1,4,"qrcode",19),d(),c(30,"div",20)(31,"h2",21),f(32),d(),c(33,"div",22)(34,"p"),f(35),d(),c(36,"p"),f(37),d()()()()(),c(38,"div",23)(39,"div",24)(40,"div",25)(41,"h3",26),f(42,"CLIENTE & EQUIPO"),d(),c(43,"div",27)(44,"div",28)(45,"span",29),f(46,"Nombre:"),d(),c(47,"span",30),f(48),d()(),c(49,"div",28)(50,"span",29),f(51,"Tel:"),d(),c(52,"span",30),f(53),d()(),v(54,"div",31),c(55,"div",28)(56,"span",29),f(57,"Modelo:"),d(),c(58,"span",30),f(59),d()(),c(60,"div",28)(61,"span",29),f(62,"IMEI:"),d(),c(63,"span",30),f(64),d()()()(),c(65,"div",25)(66,"h3",26),f(67,"SEGURIDAD"),d(),c(68,"div",27)(69,"div",28)(70,"span",29),f(71,"PIN:"),d(),c(72,"span"),f(73),d()(),c(74,"div",28)(75,"span",29),f(76,"Patr\xF3n:"),d(),c(77,"span"),f(78),d()(),c(79,"div",32)(80,"div",33)(81,"span"),f(82),d(),c(83,"span"),f(84),d(),c(85,"span"),f(86),d(),c(87,"span"),f(88),d(),c(89,"span"),f(90),d()()()()()(),c(91,"div",24)(92,"div",25)(93,"h3",26),f(94,"PRECIOS"),d(),c(95,"div",27)(96,"div",28)(97,"span",29),f(98,"Presupuesto:"),d(),c(99,"span"),f(100),d()(),c(101,"div",28)(102,"span",29),f(103,"Se\xF1a:"),d(),c(104,"span"),f(105),d()(),c(106,"div",34)(107,"span"),f(108,"Total:"),d(),c(109,"span"),f(110),d()()()(),c(111,"div",35)(112,"h3",26),f(113,"FALLA / NOTAS"),d(),c(114,"div",36),f(115),d()()()(),v(116,"hr")(117,"br"),c(118,"div",37)(119,"div",38)(120,"div",39),f(121,"FIRMA CLIENTE"),d(),c(122,"div",39),f(123,"FIRMA T\xC9CNICO"),d()()()(),c(124,"div",40)(125,"div",41)(126,"div")(127,"div",42)(128,"h2",43),f(129,"TAL\xD3N DE RETIRO"),d(),c(130,"div",44),f(131),d()(),c(132,"div",45)(133,"div",46),f(134),X(135,"number"),d(),c(136,"div",47),f(137),X(138,"date"),d()()(),c(139,"div",48)(140,"div",25)(141,"div",49)(142,"div",28)(143,"span",29),f(144,"Cliente:"),d(),c(145,"span",30),f(146),d()(),c(147,"div",28)(148,"span",29),f(149,"Equipo:"),d(),c(150,"span",30),f(151),d()()()(),c(152,"div",25)(153,"div",49)(154,"div",28)(155,"span",29),f(156,"Presupuesto:"),d(),c(157,"span"),f(158),d()(),c(159,"div",28),v(160,"span",29),d()()()()(),c(161,"div",50)(162,"div",51),f(163," CONDICIONES: La empresa no se responsabiliza por la p\xE9rdida de informaci\xF3n. Pasados los 90 d\xEDas el equipo se considerar\xE1 abandonado. La garant\xEDa cubre \xFAnicamente la reparaci\xF3n realizada y por un plazo de 30 d\xEDas. No cubre da\xF1os por mal uso, golpes o humedad. "),d(),c(164,"div",52),f(165," Este tal\xF3n deber\xE1 ser presentado indefectiblemente para retirar el equipo. "),d()()()()()),t&2){let r,o,a,l,s;p(3),N(n.id?"Editar Reparaci\xF3n":"Nueva Reparaci\xF3n"),p(5),j(n.loading()?8:9),p(7),j((r=n.company())!=null&&r.logo_url?15:-1),p(3),O("Orden #",Me(19,31,n.form().repair_number,"3.0-0")||"---"),p(4),N(Me(23,34,n.date,"dd/MM/yyyy")),p(4),O("ID: ",n.form().tracking_code),p(3),j(n.form().tracking_code?29:-1),p(3),N(((o=n.company())==null?null:o.name)||"ARECOFIX"),p(3),N((a=n.company())==null?null:a.address),p(2),N((l=n.company())==null?null:l.phone),p(11),N(n.form().customer_name),p(5),N(n.form().customer_phone),p(6),N(n.form().device_model),p(5),N(n.form().imei),p(9),N(n.form().security_pin),p(5),N(n.form().security_pattern),p(4),O("[",n.form().checklist.charger?"X":" ","] Carg"),p(2),O("[",n.form().checklist.battery?"X":" ","] Bat"),p(2),O("[",n.form().checklist.chip?"X":" ","] Chip"),p(2),O("[",n.form().checklist.sd?"X":" ","] SD"),p(2),O("[",n.form().checklist.case?"X":" ","] Funda"),p(10),O("$ ",n.form().estimated_cost),p(5),O("$ ",n.form().deposit_amount),p(5),O("$ ",n.form().final_cost||n.form().estimated_cost),p(5),O(" ",n.form().issue_description," "),p(16),N(((s=n.company())==null?null:s.name)||"ARECOFIX"),p(3),O("#",Me(135,37,n.form().repair_number,"3.0-0")||"---"),p(3),N(Me(138,40,n.date,"dd/MM/yyyy")),p(9),N(n.form().customer_name),p(5),N(n.form().device_model),p(7),O("$ ",n.form().estimated_cost)}},dependencies:[fi,ki,Si,Ii,Ai,bi,Ti,yi,vi,wi,Ei,Mi,Ri,xi,Ci,_i,zr,ui,hi,di],encapsulation:2})};export{Gr as AdminRepairFormPage};
