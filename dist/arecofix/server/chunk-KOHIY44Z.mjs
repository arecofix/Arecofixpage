import './polyfills.server.mjs';
import{a as H}from"./chunk-MUUPXEL6.mjs";import{a as B}from"./chunk-SFZVPPIU.mjs";import{a as U}from"./chunk-WYUXCDOP.mjs";import{m as j}from"./chunk-OEE6LMKQ.mjs";import"./chunk-WO5P5INO.mjs";import"./chunk-35OYAJOP.mjs";import"./chunk-HT57LKWA.mjs";import{q as D,s as O,t as R,u as z}from"./chunk-BLYQXFN2.mjs";import{k as P,l as N,n as $,r as V}from"./chunk-VF3MFHMJ.mjs";import{$ as _,Bb as v,Cb as h,Db as f,Eb as i,Fb as r,Gb as o,Kb as y,Ob as b,Qb as d,W as x,Wa as a,Wb as T,Xb as S,Yb as C,Zb as l,_b as p,aa as g,ib as E,ic as w,kc as F,lc as I,pc as k,qc as L,rc as M,xb as s,yb as m}from"./chunk-PUXVFRR7.mjs";import"./chunk-DGJQU3KY.mjs";var J=e=>[e],K=()=>["/"],Q=(e,n)=>n.id,G=(e,n)=>n.path;function W(e,n){if(e&1&&(i(0,"span",14),l(1),r()),e&2){let t=d();a(),p(t.notificationService.unreadCount())}}function X(e,n){if(e&1){let t=y();i(0,"button",36),b("click",function(){_(t);let u=d();return g(u.notificationService.markAllAsRead())}),l(1,"Marcar le\xEDdas"),r()}}function Y(e,n){e&1&&(i(0,"div",20),o(1,"i",37),i(2,"p",38),l(3,"Sin alertas por ahora"),r()())}function Z(e,n){e&1&&o(0,"i",43)}function ee(e,n){e&1&&o(0,"i",44)}function te(e,n){e&1&&o(0,"i",45)}function ie(e,n){e&1&&o(0,"i",46)}function ne(e,n){e&1&&o(0,"i",47)}function ae(e,n){e&1&&o(0,"div",49)}function re(e,n){if(e&1){let t=y();i(0,"li",39)(1,"a",40),b("click",function(){let u=_(t).$implicit,A=d();return g(A.handleNotificationClick(u))}),i(2,"div",41)(3,"span",42),s(4,Z,1,0,"i",43)(5,ee,1,0,"i",44)(6,te,1,0,"i",45)(7,ie,1,0,"i",46)(8,ne,1,0,"i",47),i(9,"span",48),l(10),r()(),s(11,ae,1,0,"div",49),r(),i(12,"span",50),l(13),r(),i(14,"span",51),l(15),k(16,"date"),r()()()}if(e&2){let t=n.$implicit;S("bg-blue-50/50",!t.is_read)("dark:bg-blue-900/10",!t.is_read),a(3),S("text-base-content",t.is_read)("text-primary",!t.is_read),a(),m(t.type==="info"?4:t.type==="success"?5:t.type==="warning"?6:t.type==="error"?7:8),a(6),p(t.title),a(),m(t.is_read?-1:11),a(2),p(t.message),a(2),p(M(16,13,t.created_at,"dd/MM - HH:mm"))}}function oe(e,n){if(e&1&&(i(0,"li")(1,"a",58),o(2,"i"),i(3,"span"),l(4),r()()()),e&2){let t=n.$implicit;a(),f("routerLink",t.path),a(),C(w("fas ",t.icon," w-4 text-center")),a(2),p(t.title)}}function le(e,n){if(e&1&&(i(0,"ul",57),v(1,oe,5,5,"li",null,G),r()),e&2){let t=d(2).$implicit;a(),h(t.children)}}function ce(e,n){if(e&1){let t=y();i(0,"div",53)(1,"a",54),o(2,"i"),i(3,"span",38),l(4),r()(),i(5,"button",55),b("click",function(){_(t);let u=d().$implicit,A=d();return g(A.toggleMenu(u))}),o(6,"i",56),r()(),s(7,le,3,0,"ul",57)}if(e&2){let t=d().$implicit;a(),f("routerLink",t.path),a(),C(w("fas ",t.icon," w-5 text-center")),a(2),p(t.title),a(2),S("rotate-180",t.expanded),a(),m(t.expanded?7:-1)}}function de(e,n){if(e&1&&(i(0,"a",52),o(1,"i"),i(2,"span",38),l(3),r()()),e&2){let t=d().$implicit;f("routerLink",t.path),a(),C(w("fas ",t.icon," w-5 text-center")),a(2),p(t.title)}}function se(e,n){if(e&1&&(i(0,"li"),s(1,ce,8,8)(2,de,4,5,"a",52),r()),e&2){let t=n.$implicit;a(),m(t.children?1:2)}}var q=class e{authService=x(j);router=x(O);preferencesService=x(B);notificationService=x(U);menuItems=[{title:"Dashboard",path:"/admin/dashboard",icon:"fa-chart-line"},{title:"Productos",path:"/admin/products",icon:"fa-box",expanded:!1,children:[{title:"Categor\xEDas",path:"/admin/categories",icon:"fa-tags"},{title:"Marcas",path:"/admin/brands",icon:"fa-copyright"},{title:"Inventario",path:"/admin/inventory",icon:"fa-warehouse"},{title:"Ventas",path:"/admin/sales",icon:"fa-cash-register"},{title:"Compras",path:"/admin/purchases",icon:"fa-shopping-bag"},{title:"Pedidos",path:"/admin/orders",icon:"fa-shopping-cart"},{title:"Clientes",path:"/admin/clients",icon:"fa-users"}]},{title:"Empresa",path:"/admin/company",icon:"fa-building",expanded:!1,children:[{title:"Empleados",path:"/admin/employees",icon:"fa-id-card"},{title:"Proveedores",path:"/admin/suppliers",icon:"fa-truck"},{title:"Facturaci\xF3n",path:"/admin/sales/invoices",icon:"fa-file-invoice-dollar"}]},{title:"Cursos",path:"/admin/courses",icon:"fa-graduation-cap"},{title:"Servicios",path:"/admin/services",icon:"fa-tools"},{title:"Taller",path:"/admin/repairs",icon:"fa-wrench"},{title:"Usuarios",path:"/admin/users",icon:"fa-user-cog"},{title:"Mensajes",path:"/admin/messages",icon:"fa-envelope"},{title:"Entradas",path:"/admin/posts",icon:"fa-newspaper"}];toggleMenu(n){n.children&&(n.expanded=!n.expanded)}async ngOnInit(){await this.notificationService.loadNotifications(),this.notificationService.subscribeToRealtime()}ngOnDestroy(){this.notificationService.unsubscribe()}handleNotificationClick(n){n.is_read||this.notificationService.markAsRead(n.id),n.link&&this.router.navigateByUrl(n.link)}async logout(){await this.authService.signOut(),this.router.navigate(["/login"])}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=E({type:e,selectors:[["app-admin-layout"]],decls:53,vars:14,consts:[[1,"drawer","lg:drawer-open"],["id","admin-drawer","type","checkbox",1,"drawer-toggle"],[1,"drawer-content","flex","flex-col","bg-base-200","min-h-screen","text-base-content",3,"ngClass"],[1,"w-full","navbar","bg-base-100","border-b","border-base-300","text-base-content","sticky","top-0","z-40","shadow-sm"],[1,"flex-none","lg:hidden"],["for","admin-drawer","aria-label","open sidebar",1,"btn","btn-square","btn-ghost","text-base-content"],[1,"fas","fa-bars","text-xl"],[1,"flex-1","px-2","mx-2","font-bold","text-lg","lg:hidden"],[1,"flex-1","hidden","lg:flex","px-4","font-bold","text-base-content"],[1,"flex-none"],[1,"dropdown","dropdown-end"],["tabindex","0","role","button",1,"btn","btn-ghost","btn-circle"],[1,"indicator"],[1,"fas","fa-bell","text-xl","text-gray-500","hover:text-primary","transition-colors"],[1,"badge","badge-xs","indicator-item","badge-error","px-1.5","py-2","animate-bounce","cursor-pointer"],["tabindex","0",1,"mt-3","z-1","card","card-compact","dropdown-content","w-80","bg-base-100","shadow-2xl","border","border-base-300"],[1,"card-body","p-0","max-h-96","overflow-y-auto"],[1,"px-4","py-3","border-b","border-base-200","flex","justify-between","items-center","bg-base-200/50","rounded-t-2xl","sticky","top-0","z-10","backdrop-blur"],[1,"font-bold","text-base"],["type","button",1,"text-xs","text-primary","font-medium","hover:underline"],[1,"p-8","text-center","text-gray-500"],[1,"menu","p-0","w-full","mb-2"],[1,"border-b","border-base-200","last:border-0",3,"bg-blue-50/50","dark:bg-blue-900/10"],[1,"flex-1","p-6"],[1,"drawer-side","z-50"],["for","admin-drawer","aria-label","close sidebar",1,"drawer-overlay"],[1,"menu","p-4","w-64","min-h-full","bg-gray-900","text-green-400","gap-2"],[1,"mb-6"],[1,"flex","items-center","gap-3","px-2","hover:bg-transparent","cursor-pointer",3,"routerLink"],["src","/assets/img/brands/logo/logo-normal.PNG","alt","Arecofix Logo","height","32",1,"h-8","w-auto"],[1,"text-xl","font-bold","text-white"],[1,"divider","divider-neutral","my-4"],["routerLink","/perfil",1,"flex","items-center","gap-3","px-4","py-3","rounded-lg","hover:bg-gray-800","hover:text-green-300"],[1,"fas","fa-user-circle","w-5","text-center"],[1,"flex","items-center","gap-3","px-4","py-3","rounded-lg","hover:bg-red-900/30","text-red-400","hover:text-red-300",3,"click"],[1,"fas","fa-sign-out-alt","w-5","text-center"],["type","button",1,"text-xs","text-primary","font-medium","hover:underline",3,"click"],[1,"fas","fa-bell-slash","text-4xl","mb-3","opacity-30"],[1,"font-medium"],[1,"border-b","border-base-200","last:border-0"],[1,"flex","flex-col","items-start","p-3","gap-1","hover:bg-base-200","rounded-none","cursor-pointer",3,"click"],[1,"flex","w-full","justify-between","items-start"],[1,"font-bold","text-sm","flex","items-center","gap-2"],[1,"fas","fa-info-circle","text-blue-500","text-base"],[1,"fas","fa-check-circle","text-green-500","text-base"],[1,"fas","fa-exclamation-triangle","text-amber-500","text-base"],[1,"fas","fa-times-circle","text-rose-500","text-base"],[1,"fas","fa-bell","text-gray-400","text-base"],[1,"leading-tight"],[1,"w-2.5","h-2.5","rounded-full","bg-primary","shrink-0","mt-1","shadow","shadow-primary/40"],[1,"text-xs","text-base-content/70","line-clamp-2","leading-tight","pl-6"],[1,"text-[10px]","text-gray-400","mt-1","pl-6"],["routerLinkActive","bg-green-800 text-white",1,"flex","items-center","gap-3","px-4","py-3","rounded-lg","hover:bg-gray-800","hover:text-green-300","transition-colors",3,"routerLink"],[1,"flex","items-center","gap-1"],["routerLinkActive","bg-green-800 text-white",1,"flex-1","flex","items-center","gap-3","px-4","py-3","rounded-lg","hover:bg-gray-800","hover:text-green-300","transition-colors",3,"routerLink"],[1,"px-3","py-3","rounded-lg","hover:bg-gray-800","transition-colors","text-green-400","hover:text-green-300",3,"click"],[1,"fas","fa-chevron-down","transition-transform","duration-200"],[1,"pl-4","mt-1","space-y-1","border-l","border-gray-700","ml-6"],["routerLinkActive","text-green-300 font-bold",1,"flex","items-center","gap-3","px-4","py-2","rounded-lg","hover:bg-gray-800","transition-colors","text-sm","text-green-500","hover:text-green-300",3,"routerLink"]],template:function(t,c){t&1&&(i(0,"div",0),o(1,"input",1),i(2,"div",2),k(3,"async"),k(4,"async"),i(5,"div",3)(6,"div",4)(7,"label",5),o(8,"i",6),r()(),i(9,"div",7),l(10,"Arecofix Admin"),r(),i(11,"div",8),l(12,"Panel de Administraci\xF3n"),r(),i(13,"div",9)(14,"div",10)(15,"div",11)(16,"div",12),o(17,"i",13),s(18,W,2,1,"span",14),r()(),i(19,"div",15)(20,"div",16)(21,"div",17)(22,"span",18),l(23,"Notificaciones"),r(),s(24,X,2,0,"button",19),r(),s(25,Y,4,0,"div",20),i(26,"ul",21),v(27,re,17,16,"li",22,Q),r()()()()()(),i(29,"main",23),o(30,"router-outlet"),r()(),i(31,"div",24),o(32,"label",25),i(33,"ul",26)(34,"li",27)(35,"a",28),o(36,"img",29),i(37,"span",30),l(38,"Arecofix"),r()()(),v(39,se,3,1,"li",null,G),o(41,"div",31),i(42,"li")(43,"a",32),o(44,"i",33),i(45,"span"),l(46,"Mi Perfil"),r()()(),i(47,"li")(48,"button",34),b("click",function(){return c.logout()}),o(49,"i",35),i(50,"span"),l(51,"Cerrar Sesi\xF3n"),r()()()()()(),o(52,"app-accessibility-sidebar")),t&2&&(a(2),T("font-size",L(3,7,c.preferencesService.fontSize$),"px"),f("ngClass",I(11,J,L(4,9,c.preferencesService.highContrast$)?"high-contrast":"")),a(16),m(c.notificationService.unreadCount()>0?18:-1),a(6),m(c.notificationService.unreadCount()>0?24:-1),a(),m(c.notificationService.dbNotifications().length===0?25:-1),a(2),h(c.notificationService.dbNotifications()),a(8),f("routerLink",F(13,K)),a(4),h(c.menuItems))},dependencies:[V,P,D,R,z,H,N,$],encapsulation:2})};export{q as AdminLayout};
