import './polyfills.server.mjs';
import{a as L}from"./chunk-X4L4AF6H.mjs";import"./chunk-QENMRFWU.mjs";import"./chunk-ACF32YXE.mjs";import"./chunk-BDXJUVVV.mjs";import"./chunk-WUMV5ZNI.mjs";import{b as B,d as T,e as oe,f as ae,g as D,h as le,i as de,m as N,n as O,o as F,t as j}from"./chunk-6NF7UMPV.mjs";import{a as ce}from"./chunk-ZIUSF2NA.mjs";import{a as se}from"./chunk-IZBEV4LN.mjs";import"./chunk-RBOCUYI6.mjs";import"./chunk-6FAII6YG.mjs";import"./chunk-C5GT56EO.mjs";import{p as ne,t as re}from"./chunk-CJMKWES6.mjs";import{p as te,q as ie,r as A}from"./chunk-R44Y3TM4.mjs";import{$ as m,$b as k,Ab as q,Bb as S,Cb as w,Db as g,Eb as t,Ec as Y,Fb as i,Gb as b,Gc as M,Kb as C,Lc as ee,Ob as p,Qb as c,Ra as $,Vb as G,W as P,Wa as l,Wb as W,Xb as E,Zb as n,_b as f,aa as u,bc as K,cc as Z,dc as H,ib as V,kc as J,lc as U,ma as x,pc as I,rc as R,sc as X,xb as h,yb as v,zc as y}from"./chunk-CUO5BU3F.mjs";import{a as Q}from"./chunk-N7QBYMCK.mjs";var me=(r,o)=>o.id;function he(r,o){if(r&1&&(t(0,"div",11),b(1,"i",33),t(2,"span"),n(3),i()()),r&2){let e=c(3);l(3),f(e.error())}}function ve(r,o){if(r&1){let e=C();t(0,"input",34),p("ngModelChange",function(a){m(e);let s=c(3);return u(s.stockValue.set(a))}),i()}if(r&2){let e=c(3);g("ngModel",e.stockValue())}}function Ce(r,o){if(r&1){let e=C();t(0,"div",23)(1,"input",35),p("ngModelChange",function(a){m(e);let s=c(3);return u(s.priceValue.set(a))}),i(),t(2,"span",36),n(3),i()()}if(r&2){let e=c(3);l(),g("ngModel",e.priceValue())("placeholder",e.priceMode()==="fixed"?"Monto fijo":"Porcentaje (ej: 10 o -5)"),l(2),k(" ",e.priceMode()==="fixed"?"$":"%"," ")}}function ke(r,o){if(r&1&&(t(0,"option",26),n(1),i()),r&2){let e=o.$implicit;g("value",e.id),l(),f(e.name)}}function ye(r,o){if(r&1&&(t(0,"option",26),n(1),i()),r&2){let e=o.$implicit;g("value",e.id),l(),f(e.name)}}function Se(r,o){if(r&1){let e=C();t(0,"div",10),h(1,he,4,1,"div",11),t(2,"div",12)(3,"div",13)(4,"span",14),n(5,"Existencias"),i()(),t(6,"div",15)(7,"select",16),p("ngModelChange",function(a){m(e);let s=c(2);return u(s.stockMode.set(a))}),t(8,"option",17),n(9,"\u2014 Sin cambios \u2014"),i(),t(10,"option",18),n(11,"Cambiar a..."),i(),t(12,"option",19),n(13,"Aumentar en..."),i(),t(14,"option",20),n(15,"Disminuir en..."),i()(),h(16,ve,1,1,"input",21),i()(),t(17,"div",12)(18,"div",13)(19,"span",14),n(20,"Precio"),i()(),t(21,"div",15)(22,"select",16),p("ngModelChange",function(a){m(e);let s=c(2);return u(s.priceMode.set(a))}),t(23,"option",17),n(24,"\u2014 Sin cambios \u2014"),i(),t(25,"option",18),n(26,"Precio fijo..."),i(),t(27,"option",22),n(28,"Ajuste porcentual (+/- %)"),i()(),h(29,Ce,4,3,"div",23),i()(),t(30,"div",12)(31,"div",13)(32,"span",14),n(33,"Categor\xEDa"),i()(),t(34,"div",24)(35,"select",16),p("ngModelChange",function(a){m(e);let s=c(2);return u(s.targetCategoryId.set(a))}),t(36,"option",25),n(37,"\u2014 Sin cambios \u2014"),i(),S(38,ke,2,2,"option",26,me),i()()(),t(40,"div",12)(41,"div",13)(42,"span",14),n(43,"Marca"),i()(),t(44,"div",24)(45,"select",16),p("ngModelChange",function(a){m(e);let s=c(2);return u(s.targetBrandId.set(a))}),t(46,"option",25),n(47,"\u2014 Sin cambios \u2014"),i(),S(48,ye,2,2,"option",26,me),i()()(),t(50,"div",27)(51,"div",13)(52,"span",14),n(53,"Estado"),i()(),t(54,"div",24)(55,"select",16),p("ngModelChange",function(a){m(e);let s=c(2);return u(s.targetStatus.set(a))}),t(56,"option",17),n(57,"\u2014 Sin cambios \u2014"),i(),t(58,"option",28),n(59,"Publicado (Activo)"),i(),t(60,"option",29),n(61,"Borrador (Inactivo)"),i()()()()(),t(62,"div",30)(63,"button",31),p("click",function(){m(e);let a=c(2);return u(a.close())}),n(64,"Cancelar"),i(),t(65,"button",32),p("click",function(){m(e);let a=c(2);return u(a.prepareExecute())}),n(66," Vista Previa "),i()()}if(r&2){let e=c(2);l(),v(e.error()?1:-1),l(6),g("ngModel",e.stockMode()),l(9),v(e.stockMode()!=="none"?16:-1),l(6),g("ngModel",e.priceMode()),l(7),v(e.priceMode()!=="none"?29:-1),l(6),g("ngModel",e.targetCategoryId()),l(3),w(e.categories()),l(7),g("ngModel",e.targetBrandId()),l(3),w(e.brands()),l(7),g("ngModel",e.targetStatus()),l(10),g("disabled",!e.hasChanges())}}function we(r,o){r&1&&(b(0,"span",45),n(1," Actualizando... "))}function Ee(r,o){r&1&&n(0," \xA1S\xED, actualizar ahora! ")}function Pe(r,o){if(r&1){let e=C();t(0,"div",7)(1,"div",37),b(2,"i",38),i(),t(3,"div")(4,"h4",39),n(5,"\xBFConfirmar cambios masivos?"),i(),t(6,"p",40),n(7," Est\xE1s a punto de aplicar los cambios seleccionados a "),t(8,"span",41),n(9),i(),n(10,". Esta acci\xF3n no se puede deshacer f\xE1cilmente. "),i()(),t(11,"div",42)(12,"button",43),p("click",function(){m(e);let a=c(2);return u(a.showConfirmation.set(!1))}),n(13," Regresar "),i(),t(14,"button",44),p("click",function(){m(e);let a=c(2);return u(a.execute())}),h(15,we,2,0)(16,Ee,1,0),i()()()}if(r&2){let e=c(2);l(9),k("",e.selectedIds().length," productos"),l(3),g("disabled",e.isProcessing()),l(2),g("disabled",e.isProcessing()),l(),v(e.isProcessing()?15:16)}}function Me(r,o){if(r&1){let e=C();t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h3",3),n(5,"Edici\xF3n Masiva"),i(),t(6,"p",4),n(7,"Editando "),t(8,"span",5),n(9),i(),n(10," productos"),i()(),t(11,"button",6),p("click",function(){m(e);let a=c();return u(a.close())}),n(12,"\u2715"),i()(),h(13,Se,67,9)(14,Pe,17,4,"div",7),i(),t(15,"form",8)(16,"button",9),p("click",function(){m(e);let a=c();return u(a.close())}),n(17,"close"),i()()()}if(r&2){let e=c();l(9),f(e.selectedIds().length),l(2),g("disabled",e.isProcessing()),l(2),v(e.showConfirmation()?14:13)}}var z=class r{productService=P(L);isOpen=M(!1);selectedIds=M([]);brands=M([]);categories=M([]);onSuccess=Y();isProcessing=x(!1);showConfirmation=x(!1);error=x(null);stockMode=x("none");stockValue=x(null);priceMode=x("none");priceValue=x(null);targetCategoryId=x("");targetBrandId=x("");targetStatus=x("none");hasChanges=y(()=>this.stockMode()!=="none"||this.priceMode()!=="none"||this.targetCategoryId()!==""||this.targetBrandId()!==""||this.targetStatus()!=="none");async prepareExecute(){if(this.error.set(null),this.stockMode()!=="none"&&(this.stockValue()===null||this.stockValue()<0)){this.error.set("El valor de stock debe ser un n\xFAmero positivo.");return}if(this.priceMode()==="fixed"&&(this.priceValue()===null||this.priceValue()<0)){this.error.set("El precio debe ser un n\xFAmero positivo.");return}if(!this.hasChanges()){this.error.set("No has seleccionado ning\xFAn cambio para aplicar.");return}this.showConfirmation.set(!0)}async execute(){this.isProcessing.set(!0),this.showConfirmation.set(!1);try{let o=this.selectedIds(),a=(await this.productService.getProducts()).filter(s=>o.includes(s.id)).map(s=>{let _=Q({},s);if(this.stockMode()==="fixed"?_.stock=this.stockValue():this.stockMode()==="increase"?_.stock=(s.stock||0)+(this.stockValue()||0):this.stockMode()==="decrease"&&(_.stock=Math.max(0,(s.stock||0)-(this.stockValue()||0))),this.priceMode()==="fixed")_.price=this.priceValue();else if(this.priceMode()==="percentage"){let _e=1+(this.priceValue()||0)/100;_.price=Math.round(s.price*_e)}return this.targetCategoryId()&&(_.category_id=this.targetCategoryId()),this.targetBrandId()&&(_.brand_id=this.targetBrandId()),this.targetStatus()==="active"?_.is_active=!0:this.targetStatus()==="inactive"&&(_.is_active=!1),delete _.branch_stock,_});await this.productService.bulkCustomUpdate(a),this.onSuccess.emit(),this.close()}catch(o){this.error.set(o.message||"Error al procesar la actualizaci\xF3n masiva")}finally{this.isProcessing.set(!1)}}close(){this.isProcessing()||(this.isOpen.set(!1),this.resetForm())}resetForm(){this.stockMode.set("none"),this.stockValue.set(null),this.priceMode.set("none"),this.priceValue.set(null),this.targetCategoryId.set(""),this.targetBrandId.set(""),this.targetStatus.set("none"),this.showConfirmation.set(!1),this.error.set(null)}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=V({type:r,selectors:[["app-bulk-edit-modal"]],inputs:{isOpen:[1,"isOpen"],selectedIds:[1,"selectedIds"],brands:[1,"brands"],categories:[1,"categories"]},outputs:{isOpen:"isOpenChange",selectedIds:"selectedIdsChange",brands:"brandsChange",categories:"categoriesChange",onSuccess:"onSuccess"},decls:1,vars:1,consts:[[1,"modal","modal-open","z-50"],[1,"modal-box","w-11/12","max-w-2xl","bg-white","dark:bg-gray-800","rounded-2xl","shadow-2xl","relative","p-0","overflow-hidden","border","border-gray-200","dark:border-gray-700"],[1,"bg-gray-50","dark:bg-gray-700/50","px-6","py-4","border-b","border-gray-200","dark:border-gray-700","flex","justify-between","items-center"],[1,"font-bold","text-xl","text-gray-800","dark:text-white"],[1,"text-xs","text-gray-500"],[1,"font-bold","text-primary"],[1,"btn","btn-sm","btn-circle","btn-ghost",3,"click","disabled"],[1,"p-10","text-center","space-y-6","animate-fade-in"],["method","dialog",1,"modal-backdrop","bg-black/60","backdrop-blur-md"],[3,"click"],[1,"p-6","space-y-6","max-h-[70vh]","overflow-y-auto"],[1,"alert","alert-error","text-sm","py-2"],[1,"flex","flex-col","md:flex-row","gap-4","items-start","border-b","border-gray-100","dark:border-gray-700","pb-6"],[1,"w-full","md:w-1/3","pt-2"],[1,"font-bold","text-sm","uppercase","tracking-wider","text-gray-400"],[1,"w-full","md:w-2/3","space-y-3"],[1,"select","select-bordered","w-full","select-sm",3,"ngModelChange","ngModel"],["value","none"],["value","fixed"],["value","increase"],["value","decrease"],["type","number","placeholder","Cantidad",1,"input","input-bordered","w-full","input-sm","animate-fade-in",3,"ngModel"],["value","percentage"],[1,"relative","animate-fade-in"],[1,"w-full","md:w-2/3"],["value",""],[3,"value"],[1,"flex","flex-col","md:flex-row","gap-4","items-start"],["value","active"],["value","inactive"],[1,"bg-gray-50","dark:bg-gray-700/50","p-6","flex","justify-end","gap-3","border-t","border-gray-200","dark:border-gray-700"],[1,"btn","btn-ghost",3,"click"],[1,"btn","btn-primary","px-10","shadow-lg","shadow-primary/20",3,"click","disabled"],[1,"fas","fa-exclamation-circle"],["type","number","placeholder","Cantidad",1,"input","input-bordered","w-full","input-sm","animate-fade-in",3,"ngModelChange","ngModel"],["type","number",1,"input","input-bordered","w-full","input-sm",3,"ngModelChange","ngModel","placeholder"],[1,"absolute","right-3","top-1/2","-translate-y-1/2","text-gray-400","text-xs"],[1,"w-20","h-20","bg-warning/10","text-warning","rounded-full","flex","items-center","justify-center","mx-auto","mb-4"],[1,"fas","fa-exclamation-triangle","text-4xl"],[1,"text-2xl","font-bold","text-gray-800","dark:text-white"],[1,"text-gray-500","mt-2"],[1,"font-bold","text-gray-800","dark:text-white"],[1,"flex","justify-center","gap-4","mt-8"],[1,"btn","btn-outline","border-gray-300","px-8",3,"click","disabled"],[1,"btn","btn-primary","px-12",3,"click","disabled"],[1,"loading","loading-spinner"]],template:function(e,d){e&1&&h(0,Me,18,3,"div",0),e&2&&v(d.isOpen()?0:-1)},dependencies:[A,j,le,O,F,B,de,N,T,oe,D,ae],encapsulation:2,changeDetection:0})};var Ve=()=>[1,2,3,4,5,6,7,8],ge=r=>["/admin/products",r],ue=(r,o)=>o.id;function Ie(r,o){if(r&1){let e=C();t(0,"div",27)(1,"div",31)(2,"div",32)(3,"span",33),n(4),i(),n(5," seleccionados "),i(),t(6,"div",19)(7,"button",34),p("click",function(){m(e);let a=c();return u(a.openBulkEdit())}),b(8,"i",35),n(9," Editar Masivo "),i(),t(10,"button",36),p("click",function(){m(e);let a=c();return u(a.clearSelection())}),b(11,"i",37),i()()()()}if(r&2){let e=c();l(4),f(e.selectedIds().size)}}function Ae(r,o){r&1&&b(0,"div",38)}function Be(r,o){r&1&&(t(0,"div",28),S(1,Ae,1,0,"div",38,q),i()),r&2&&(l(),w(J(0,Ve)))}function Te(r,o){if(r&1&&(t(0,"div",29)(1,"div",39),b(2,"i",40),t(3,"span"),n(4),i()()()),r&2){let e=c();l(4),f(e.error())}}function De(r,o){if(r&1&&(n(0),I(1,"slice")),r&2){let e=c().$implicit;k(" Marca ID: ",X(1,1,e.brand_id,0,5),"... ")}}function Ne(r,o){r&1&&n(0," Generic ")}function Oe(r,o){r&1&&(t(0,"span",69),n(1,"Agotado"),i())}function Fe(r,o){if(r&1){let e=C();t(0,"tr",56),p("click",function(){let a=m(e).$implicit,s=c(2);return u(s.toggleSelection(a.id))}),t(1,"td",57),p("click",function(a){return m(e),u(a.stopPropagation())}),t(2,"label")(3,"input",46),p("change",function(){let a=m(e).$implicit,s=c(2);return u(s.toggleSelection(a.id))}),i()()(),t(4,"td")(5,"div",58)(6,"div",59)(7,"div",60),b(8,"img",61),i()(),t(9,"div")(10,"div",62),n(11),i(),t(12,"div",63),n(13),i()()()(),t(14,"td")(15,"div",64)(16,"span",65),n(17),i(),t(18,"span",66),h(19,De,2,5)(20,Ne,1,0),i()()(),t(21,"td",67),n(22),I(23,"currency"),i(),t(24,"td")(25,"div",19)(26,"div",68),n(27),i(),h(28,Oe,2,0,"span",69),i()(),t(29,"td")(30,"div",70),b(31,"div",71),n(32),i()(),t(33,"td",72),p("click",function(a){return m(e),u(a.stopPropagation())}),t(34,"a",73),b(35,"i",74),i()()()}if(r&2){let e=o.$implicit,d=c(2);l(3),g("checked",d.selectedIds().has(e.id)),l(5),g("src",e.image_url||"assets/img/no-image.png",$)("alt",e.name),l(3),f(e.name),l(2),f(e.slug),l(4),f(e.sku||"---"),l(2),v(e.brand_id?19:20),l(3),k(" ",R(23,28,e.price,e.currency||"ARS")," "),l(4),W("--value",e.stock?e.stock>100?100:e.stock:0),E("text-success",!e.stock||e.stock>10)("text-warning",e.stock&&e.stock<=10&&e.stock>0)("text-error",e.stock===0),l(),k(" ",e.stock||0," "),l(),v(e.stock===0?28:-1),l(2),E("badge-success",e.is_active)("badge-ghost",!e.is_active),l(),E("bg-white",e.is_active)("bg-gray-500",!e.is_active),l(),k(" ",e.is_active?"Activo":"Borrador"," "),l(2),g("routerLink",U(31,ge,e.id))}}function je(r,o){if(r&1){let e=C();t(0,"div",75)(1,"div",76)(2,"input",77),p("change",function(){let a=m(e).$implicit,s=c(2);return u(s.toggleSelection(a.id))}),i(),t(3,"div",78),b(4,"img",79),i(),t(5,"div",80)(6,"div",81)(7,"h3",82),n(8),i(),t(9,"div",83),n(10),i()(),t(11,"p",84),n(12),i(),t(13,"div",85)(14,"div")(15,"span",86),n(16,"Precio"),i(),t(17,"span",87),n(18),I(19,"currency"),i()(),t(20,"div",47)(21,"span",86),n(22,"Stock"),i(),t(23,"span",88),n(24),i()()()()(),t(25,"div",89)(26,"a",90),n(27," Editar Detalle "),b(28,"i",91),i()()()}if(r&2){let e=o.$implicit,d=c(2);E("ring-2",d.selectedIds().has(e.id))("ring-indigo-500",d.selectedIds().has(e.id)),l(2),g("checked",d.selectedIds().has(e.id)),l(2),g("src",e.image_url||"assets/img/no-image.png",$),l(4),f(e.name),l(),E("badge-success",e.is_active)("badge-ghost",!e.is_active),l(),k(" ",e.is_active?"ON":"OFF"," "),l(2),f(e.sku),l(6),f(R(19,18,e.price,e.currency||"ARS")),l(5),E("text-error",e.stock===0),l(),f(e.stock||0),l(2),g("routerLink",U(21,ge,e.id))}}function Le(r,o){r&1&&(t(0,"div",54),b(1,"i",92),t(2,"p",93),n(3,"No se encontraron productos."),i()())}function ze(r,o){if(r&1&&(t(0,"div",55),b(1,"pagination",94),i()),r&2){let e=c(2);l(),g("pages",e.totalPages())("currentPage",e.currentPage())}}function $e(r,o){if(r&1){let e=C();t(0,"div",41)(1,"table",42)(2,"thead",43)(3,"tr",44)(4,"th",45)(5,"label")(6,"input",46),p("change",function(){m(e);let a=c();return u(a.toggleSelectAll())}),i()()(),t(7,"th"),n(8,"Producto"),i(),t(9,"th"),n(10,"SKU / Marca"),i(),t(11,"th"),n(12,"Precio"),i(),t(13,"th"),n(14,"Stock"),i(),t(15,"th"),n(16,"Estado"),i(),t(17,"th",47),n(18,"Acciones"),i()()(),t(19,"tbody"),S(20,Fe,36,33,"tr",48,ue),i()()(),t(22,"div",49)(23,"div",50)(24,"label",51)(25,"input",46),p("change",function(){m(e);let a=c();return u(a.toggleSelectAll())}),i(),t(26,"span",52),n(27,"Seleccionar Todo en p\xE1gina"),i()()(),S(28,je,29,23,"div",53,ue),i(),h(30,Le,4,0,"div",54),h(31,ze,2,2,"div",55)}if(r&2){let e=c();l(6),g("checked",e.isAllSelected()),l(14),w(e.paginatedProducts()),l(5),g("checked",e.isAllSelected()),l(3),w(e.paginatedProducts()),l(2),v(e.paginatedProducts().length===0?30:-1),l(),v(e.paginatedProducts().length>0?31:-1)}}var pe=class r{productService=P(L);cdr=P(ee);route=P(ne);products=x([]);brands=x([]);categories=x([]);searchQuery=x("");sortOrder=x("name_asc");selectedIds=x(new Set);isBulkModalOpen=x(!1);currentPage=x(1);itemsPerPage=x(10);loading=x(!0);error=x(null);constructor(){this.route.queryParams.pipe(se()).subscribe(o=>{let e=o._page?Number(o._page):1;this.currentPage.set(e||1)})}allFilteredProducts=y(()=>{let o=this.searchQuery().toLowerCase(),e=[...this.products()];o&&(e=e.filter(a=>a.name.toLowerCase().includes(o)||a.sku?.toLowerCase().includes(o)));let d=this.sortOrder();return e.sort((a,s)=>{switch(d){case"price_asc":return a.price-s.price;case"price_desc":return s.price-a.price;case"stock_asc":return(a.stock||0)-(s.stock||0);case"stock_desc":return(s.stock||0)-(a.stock||0);default:return a.name.localeCompare(s.name)}})});paginatedProducts=y(()=>{let o=this.allFilteredProducts(),e=(this.currentPage()-1)*this.itemsPerPage();return o.slice(e,e+this.itemsPerPage())});totalPages=y(()=>Math.ceil(this.allFilteredProducts().length/this.itemsPerPage()));isAllSelected=y(()=>{let o=this.paginatedProducts();if(o.length===0)return!1;let e=this.selectedIds();return o.every(d=>e.has(d.id))});selectedIdsList=y(()=>Array.from(this.selectedIds()));async ngOnInit(){await this.loadData()}async loadData(){this.loading.set(!0);try{let[o,e,d]=await Promise.all([this.productService.getProducts(),this.productService.getBrands(),this.productService.getCategories()]);this.products.set(o),this.brands.set(e),this.categories.set(d)}catch(o){this.error.set(o.message||"Error al cargar datos")}finally{this.loading.set(!1),this.cdr.detectChanges()}}toggleSelectAll(){let o=this.paginatedProducts(),e=new Set(this.selectedIds());this.isAllSelected()?o.forEach(a=>e.delete(a.id)):o.forEach(a=>e.add(a.id)),this.selectedIds.set(e)}toggleSelection(o){let e=new Set(this.selectedIds());e.has(o)?e.delete(o):e.add(o),this.selectedIds.set(e)}clearSelection(){this.selectedIds.set(new Set)}updateSort(o){this.sortOrder.set(o.target.value)}openBulkEdit(){this.isBulkModalOpen.set(!0)}async onBulkEditSuccess(){this.clearSelection(),await this.loadData()}async exportProducts(){try{await this.productService.exportProductsToCSV()}catch(o){this.error.set("Error al exportar: "+o.message)}}async importProducts(o){let e=o.target.files[0];if(e)try{this.loading.set(!0);let d=await this.productService.importProductsFromCSV(e);alert(`\xC9xito: ${d.success}, Errores: ${d.errors}`),await this.loadData()}catch(d){this.error.set("Error al importar: "+d.message)}finally{this.loading.set(!1)}}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=V({type:r,selectors:[["app-admin-products-page"]],decls:45,vars:8,consts:[["fileInput",""],[1,"max-w-7xl","mx-auto","pb-20","relative","min-h-screen"],[1,"flex","flex-col","md:flex-row","justify-between","items-start","md:items-center","py-6","gap-4","sticky","top-0","z-30","bg-gray-50/95","dark:bg-[#0f172a]/95","backdrop-blur-sm","border-b","border-gray-200","dark:border-gray-800","px-4"],[1,"text-3xl","font-bold","bg-clip-text","text-transparent","bg-linear-to-r","from-green-500","to-teal-400"],[1,"text-sm","text-gray-500","dark:text-gray-400","hidden","md:block"],[1,"flex","gap-2","w-full","md:w-auto","overflow-x-auto","pb-2","md:pb-0","no-scrollbar"],[1,"btn","btn-outline","btn-sm","md:btn-md",3,"click"],[1,"fas","fa-file-export","mr-2"],[1,"fas","fa-file-import","mr-2"],["type","file","accept",".csv",1,"hidden",3,"change"],["routerLink","/admin/products/new",1,"btn","btn-primary","btn-sm","md:btn-md","shadow-lg","shadow-green-500/20","whitespace-nowrap"],[1,"fas","fa-plus","mr-2"],[1,"p-4","grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4","mb-4"],[1,"form-control","w-full","lg:col-span-2"],[1,"relative","group"],[1,"absolute","-inset-0.5","bg-linear-to-r","from-green-400","to-blue-500","rounded-lg","blur","opacity-25","group-hover:opacity-50","transition","duration-1000"],[1,"relative","flex","items-center","bg-white","dark:bg-gray-800","rounded-lg","shadow-sm"],[1,"fas","fa-search","px-4","text-gray-400"],["type","text","placeholder","Buscar por nombre, SKU, marca...",1,"input","input-ghost","w-full","focus:bg-transparent","text-lg","h-12",3,"ngModelChange","ngModel"],[1,"flex","items-center","gap-2"],[1,"text-sm","font-bold","text-gray-500","hidden","md:block"],[1,"select","select-bordered","w-full","bg-white","dark:bg-gray-800",3,"change","ngModel"],["value","name_asc"],["value","price_asc"],["value","price_desc"],["value","stock_asc"],["value","stock_desc"],[1,"fixed","bottom-4","left-4","right-4","md:left-1/2","md:-translate-x-1/2","md:w-auto","z-40","animate-fade-in-up"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-6","p-4"],[1,"p-4"],[3,"isOpenChange","onSuccess","isOpen","selectedIds","brands","categories"],[1,"bg-gray-900","text-white","dark:bg-white","dark:text-gray-900","rounded-full","shadow-2xl","px-6","py-3","flex","items-center","justify-between","gap-6","border","border-gray-700","dark:border-gray-200"],[1,"font-bold","whitespace-nowrap"],[1,"badge","badge-primary","mr-2"],[1,"btn","btn-sm","btn-ghost","hover:bg-white/20","dark:hover:bg-black/10","text-white","dark:text-gray-900",3,"click"],[1,"fas","fa-edit","mr-2"],[1,"btn","btn-circle","btn-xs","btn-ghost","text-white","dark:text-gray-900","opacity-70","hover:opacity-100",3,"click"],[1,"fas","fa-times"],[1,"skeleton","h-64","rounded-xl"],[1,"alert","alert-error"],[1,"fas","fa-exclamation-triangle"],[1,"hidden","lg:block","bg-white","dark:bg-gray-800","rounded-xl","shadow-lg","border","border-gray-100","dark:border-gray-700","overflow-hidden","mx-4"],[1,"table","w-full"],[1,"bg-gray-50","dark:bg-gray-700/50"],[1,"text-gray-600","dark:text-gray-300","font-bold","uppercase","text-xs","tracking-wider"],[1,"w-12"],["type","checkbox",1,"checkbox","checkbox-sm","checkbox-primary",3,"change","checked"],[1,"text-right"],[1,"hover:bg-gray-50","dark:hover:bg-gray-700/30","transition-colors","group","cursor-pointer"],[1,"lg:hidden","grid","grid-cols-1","gap-4","px-4"],[1,"flex","items-center","justify-between","bg-white","dark:bg-gray-800","p-3","rounded-lg","shadow-sm"],[1,"label","cursor-pointer","gap-3"],[1,"label-text","font-bold"],[1,"card","bg-white","dark:bg-gray-800","shadow-sm","border","border-gray-100","dark:border-gray-700",3,"ring-2","ring-indigo-500"],[1,"flex","flex-col","items-center","justify-center","py-20","text-center","opacity-50"],[1,"mt-8","flex","justify-center","pb-8"],[1,"hover:bg-gray-50","dark:hover:bg-gray-700/30","transition-colors","group","cursor-pointer",3,"click"],[3,"click"],[1,"flex","items-center","gap-4"],[1,"avatar"],[1,"mask","mask-squircle","w-12","h-12","bg-gray-100","dark:bg-gray-700"],[1,"object-cover",3,"src","alt"],[1,"font-bold","text-gray-900","dark:text-white","line-clamp-1"],[1,"text-xs","text-gray-400","font-mono"],[1,"flex","flex-col"],[1,"font-mono","text-xs","font-bold"],[1,"text-xs","text-gray-500"],[1,"font-mono","font-bold","text-indigo-600","dark:text-indigo-400"],[1,"radial-progress","text-xs",2,"--size","2rem"],[1,"badge","badge-error","badge-xs"],[1,"badge","badge-sm","gap-2"],[1,"w-2","h-2","rounded-full"],[1,"text-right",3,"click"],["data-tip","Editar",1,"btn","btn-ghost","btn-sm","btn-circle","tooltip","tooltip-left",3,"routerLink"],[1,"fas","fa-pen","text-gray-500","hover:text-indigo-500"],[1,"card","bg-white","dark:bg-gray-800","shadow-sm","border","border-gray-100","dark:border-gray-700"],[1,"card-body","p-4","flex-row","items-start","gap-4"],["type","checkbox",1,"checkbox","checkbox-primary","mt-1",3,"change","checked"],[1,"avatar","rounded-xl","w-20","h-20","bg-gray-100","shrink-0"],[1,"object-cover","rounded-xl",3,"src"],[1,"flex-1","min-w-0"],[1,"flex","justify-between","items-start"],[1,"font-bold","text-gray-900","dark:text-white","truncate","pr-2"],[1,"badge","badge-xs"],[1,"text-xs","text-gray-500","font-mono","mb-2"],[1,"flex","justify-between","items-end","mt-2"],[1,"block","text-xs","text-gray-400"],[1,"text-lg","font-bold","text-indigo-600","dark:text-indigo-400"],[1,"font-mono","font-bold"],[1,"card-actions","border-t","border-gray-100","dark:border-gray-700","p-2","flex","justify-end","bg-gray-50","dark:bg-gray-800/50","rounded-b-2xl"],[1,"btn","btn-sm","btn-ghost","w-full",3,"routerLink"],[1,"fas","fa-arrow-right","ml-2","opacity-50"],[1,"fas","fa-box-open","text-6xl","mb-4","text-gray-300"],[1,"text-xl"],[3,"pages","currentPage"]],template:function(e,d){if(e&1){let a=C();t(0,"div",1)(1,"div",2)(2,"div")(3,"h1",3),n(4," Inventario "),i(),t(5,"p",4),n(6,"Gestiona tu cat\xE1logo completo desde aqu\xED."),i()(),t(7,"div",5)(8,"button",6),p("click",function(){return m(a),u(d.exportProducts())}),b(9,"i",7),n(10," CSV "),i(),t(11,"button",6),p("click",function(){m(a);let _=G(15);return u(_.click())}),b(12,"i",8),n(13," Importar "),i(),t(14,"input",9,0),p("change",function(_){return m(a),u(d.importProducts(_))}),i(),t(16,"a",10),b(17,"i",11),n(18," Nuevo "),i()()(),t(19,"div",12)(20,"div",13)(21,"div",14),b(22,"div",15),t(23,"div",16),b(24,"i",17),t(25,"input",18),p("ngModelChange",function(_){return m(a),u(d.searchQuery.set(_))}),i()()()(),t(26,"div",19)(27,"span",20),n(28,"Ordenar:"),i(),t(29,"select",21),p("change",function(_){return m(a),u(d.updateSort(_))}),t(30,"option",22),n(31,"A-Z Nombre"),i(),t(32,"option",23),n(33,"Precio: Bajo a Alto"),i(),t(34,"option",24),n(35,"Precio: Alto a Bajo"),i(),t(36,"option",25),n(37,"Stock: Bajo a Alto"),i(),t(38,"option",26),n(39,"Stock: Alto a Bajo"),i()()()(),h(40,Ie,12,1,"div",27),h(41,Be,3,1,"div",28)(42,Te,5,1,"div",29)(43,$e,32,4),i(),t(44,"app-bulk-edit-modal",30),H("isOpenChange",function(_){return m(a),Z(d.isBulkModalOpen,_)||(d.isBulkModalOpen=_),u(_)}),p("onSuccess",function(){return m(a),u(d.onBulkEditSuccess())}),i()}e&2&&(l(25),g("ngModel",d.searchQuery()),l(4),g("ngModel",d.sortOrder()),l(11),v(d.selectedIds().size>0?40:-1),l(),v(d.loading()?41:d.error()?42:43),l(3),K("isOpen",d.isBulkModalOpen),g("selectedIds",d.selectedIdsList())("brands",d.brands())("categories",d.categories()))},dependencies:[A,re,j,O,F,B,N,T,D,ce,z,ie,te],encapsulation:2,changeDetection:0})};export{pe as AdminProductsPage};
