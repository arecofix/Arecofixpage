{
  "version": 3,
  "sources": ["src/app/core/services/company.service.ts"],
  "sourcesContent": ["import { Injectable, inject } from '@angular/core';\r\nimport { AuthService } from './auth.service';\r\nimport { firstValueFrom } from 'rxjs';\r\nimport { TenantService } from './tenant.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CompanyService {\r\n  private auth = inject(AuthService);\r\n  private tenantService = inject(TenantService);\r\n  private supabase = this.auth.getSupabaseClient();\r\n\r\n  async getSettings(): Promise<any> {\r\n    const tenantId = this.tenantService.getTenantId();\r\n    const { data, error } = await this.supabase\r\n      .from('tenants')\r\n      .select('*')\r\n      .eq('id', tenantId)\r\n      .maybeSingle();\r\n\r\n    if (error) throw error;\r\n    \r\n    if (data) {\r\n       // Support backward compatibility mapping in case other components expect old properties\r\n       return {\r\n          ...data,\r\n          address: data.location || '',\r\n          email: data.contact_email || '',\r\n          phone: data.contact_phone || '',\r\n          logo_url: data.branding_settings?.logo_url || ''\r\n       };\r\n    }\r\n    return data;\r\n  }\r\n}\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;AAQM,IAAO,iBAAP,MAAO,gBAAc;EACjB,OAAO,OAAO,WAAW;EACzB,gBAAgB,OAAO,aAAa;EACpC,WAAW,KAAK,KAAK,kBAAiB;EAE9C,MAAM,cAAW;AACf,UAAM,WAAW,KAAK,cAAc,YAAW;AAC/C,UAAM,EAAE,MAAM,MAAK,IAAK,MAAM,KAAK,SAChC,KAAK,SAAS,EACd,OAAO,GAAG,EACV,GAAG,MAAM,QAAQ,EACjB,YAAW;AAEd,QAAI;AAAO,YAAM;AAEjB,QAAI,MAAM;AAEP,aAAO,iCACD,OADC;QAEJ,SAAS,KAAK,YAAY;QAC1B,OAAO,KAAK,iBAAiB;QAC7B,OAAO,KAAK,iBAAiB;QAC7B,UAAU,KAAK,mBAAmB,YAAY;;IAEpD;AACA,WAAO;EACT;;qCA1BW,iBAAc;EAAA;4EAAd,iBAAc,SAAd,gBAAc,WAAA,YAFb,OAAM,CAAA;;;sEAEP,gBAAc,CAAA;UAH1B;WAAW;MACV,YAAY;KACb;;;",
  "names": []
}
