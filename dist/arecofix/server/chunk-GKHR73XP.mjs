import './polyfills.server.mjs';
import{a as se}from"./chunk-33PJM5TS.mjs";import{a as ue}from"./chunk-B5QWZIKQ.mjs";import"./chunk-OEE6LMKQ.mjs";import{a as _e}from"./chunk-UQOUTD4D.mjs";import{a as fe}from"./chunk-6BKKRG3G.mjs";import{a as ce}from"./chunk-R4D4S27B.mjs";import"./chunk-QIQJ6T5Y.mjs";import"./chunk-WUMV5ZNI.mjs";import{a as de}from"./chunk-A57L63GX.mjs";import{b as te,d as ie,e as re,f as oe,g as ne,h as ae,t as le}from"./chunk-QBNUQKUT.mjs";import{a as me,b as pe,c as ge}from"./chunk-AI6TUFYF.mjs";import{b as T,d as M}from"./chunk-3X5ZJVON.mjs";import"./chunk-WO5P5INO.mjs";import"./chunk-35OYAJOP.mjs";import"./chunk-HT57LKWA.mjs";import{p as X,s as Z,x as ee}from"./chunk-BLYQXFN2.mjs";import{A as Y,i as J,o as W,r as K}from"./chunk-VF3MFHMJ.mjs";import{$ as m,$b as y,Ab as w,Bb as E,Cb as D,Db as x,Eb as n,Fb as o,Gb as d,Kb as I,L as S,Ob as _,Qb as c,R as V,W as u,Wa as s,Xb as b,Zb as a,_b as F,aa as p,ba as k,bc as U,ca as N,cc as $,da as B,dc as q,ea as O,ib as Q,kc as z,l as A,ma as L,pc as G,r as h,rc as H,s as R,xb as g,yb as f,zc as C}from"./chunk-PUXVFRR7.mjs";import"./chunk-DGJQU3KY.mjs";var P=class r{fallbackProducts=[{id:"1001",category_id:"0",slug:"joystick-play-station-4",name:"Joystick Play Station 4",description:"En venta Joystick nuevo de play station 4 DUALSHOCK",price:29800,featured:!0,image_url:"assets/img/products/joystick-ps4-v2.webp"},{id:"1002",category_id:"0",slug:"iphone-8-plus",name:"iPhone 8 Plus",description:"En venta iPhone 8 Plus vidrio astillado no afecta su uso",price:96e3,featured:!0,image_url:"assets/img/products/iph8plus.webp"},{id:"1003",category_id:"0",slug:"iphone-x",name:"iPhone X",description:"En venta celular iphone x a wifi",price:149e3,featured:!0,image_url:"assets/img/products/iphx.webp"}];getFallbackProduct(e){return this.fallbackProducts.find(t=>t.slug===e)}getAllFallbackProducts(){return[...this.fallbackProducts]}isFallbackProduct(e){return this.fallbackProducts.some(t=>t.slug===e)}static \u0275fac=function(t){return new(t||r)};static \u0275prov=V({token:r,factory:r.\u0275fac,providedIn:"root"})};var ve=()=>[1,2,3,4,5];function he(r,e){r&1&&d(0,"is-loading")}function be(r,e){r&1&&d(0,"is-empty")}function ye(r,e){r&1&&(d(0,"is-error"),a(1,`
@`))}function Ce(r,e){if(r&1&&d(0,"img",10),r&2){let t=c(),i=c(2);x("ngSrc",i.selectedImage())("alt",t.name)("priority",!0)}}function Pe(r,e){if(r&1&&d(0,"img",11),r&2){let t=c();x("alt",t.name)}}function Se(r,e){if(r&1){let t=I();n(0,"button",42),_("click",function(){let l=m(t).$implicit,v=c(4);return p(v.selectImage(l))}),d(1,"img",43),o()}if(r&2){let t=e.$implicit,i=c(2),l=c(2);b("ring-2",l.selectedImage()===t)("ring-indigo-500",l.selectedImage()===t),s(),x("ngSrc",t)("alt",i.name)}}function ke(r,e){if(r&1&&(n(0,"div",12),E(1,Se,2,6,"button",41,w),o()),r&2){let t=c();s(),D(t.gallery_urls)}}function we(r,e){r&1&&(k(),n(0,"svg",19),d(1,"path",44),o())}function Ee(r,e){if(r&1&&(n(0,"li"),a(1),o()),r&2){let t=c();s(),y("SKU: ",t.sku)}}function De(r,e){if(r&1){let t=I();n(0,"div",0)(1,"div",1)(2,"div",2)(3,"input",3),q("ngModelChange",function(l){m(t);let v=c(2);return $(v.searchQuery,l)||(v.searchQuery=l),p(l)}),_("keyup.enter",function(){m(t);let l=c(2);return p(l.onSearch())}),o(),n(4,"button",4),_("click",function(){m(t);let l=c(2);return p(l.onSearch())}),d(5,"i",5),o()()(),d(6,"app-breadcrumbs",6),n(7,"div",7)(8,"div",8)(9,"div",9),g(10,Ce,1,3,"img",10)(11,Pe,1,1,"img",11),o(),g(12,ke,3,0,"div",12),o(),n(13,"div",13)(14,"h1",14),a(15),o(),n(16,"div",15)(17,"h2",16),a(18,"Product information"),o(),n(19,"p",17),a(20),G(21,"number"),o()(),n(22,"div",15)(23,"h3",16),a(24,"Reviews"),o(),n(25,"div",18)(26,"div",18),E(27,we,2,0,":svg:svg",19,w),o(),n(29,"p",16),a(30,"5 out of 5 stars"),o(),n(31,"a",20),a(32,"Ver rese\xF1as"),o()()(),n(33,"div",21)(34,"h3",16),a(35,"Description"),o(),n(36,"p",22),a(37),o()(),n(38,"div",23)(39,"h3",24),a(40,"Caracter\xEDsticas"),o(),n(41,"div",25)(42,"ul",26)(43,"li"),a(44,"Garant\xEDa: 3 meses"),o(),g(45,Ee,2,1,"li"),n(46,"li"),a(47,"Env\xEDo a todo el pa\xEDs"),o(),n(48,"li"),a(49,"Stock disponible"),o()()()(),n(50,"form",27)(51,"button",28),_("click",function(){m(t);let l=c(2);return p(l.addToCart())}),d(52,"i",29),a(53," Agregar al Carrito "),o(),n(54,"button",30),_("click",function(){m(t);let l=c(2);return p(l.toggleFavorite())}),d(55,"i",31),a(56),o()(),n(57,"div",32)(58,"div",33)(59,"div",34),k(),n(60,"svg",35),d(61,"path",36),o()(),N(),n(62,"div",37)(63,"p",38)(64,"span",39),a(65,"Armado y despacho de pedidos 24hs/48hs."),o(),a(66," Avisar antes de pasar por el local. "),n(67,"a",40),a(68,"AGENDA EL Whatsapp: 5491125960900"),o(),a(69," Y MANDANOS UN MSJ PARA QUE PUEDAS VER PROMOCIONES DEL DIA, DESCUENTO, SORTEOS Y MAS!!! "),o()()()()()()()}if(r&2){let t=e,i=c(2);s(3),U("ngModel",i.searchQuery),s(3),x("items",i.breadcrumbItems()),s(4),f(i.selectedImage()?10:11),s(2),f(t.gallery_urls&&t.gallery_urls.length>0?12:-1),s(3),F(t.name),s(5),y("$",H(21,21,t.price,"1.0-0")),s(7),D(z(24,ve)),s(10),F(t.description||"Sin descripci\xF3n detallada."),s(8),f(t.sku?45:-1),s(9),b("border-red-500",i.isFavorite())("text-red-600",i.isFavorite())("bg-red-50",i.isFavorite()),s(),b("fas",i.isFavorite())("far",!i.isFavorite())("text-red-600",i.isFavorite()),s(),y(" ",i.isFavorite()?"Quitar de Favoritos":"Agregar a Favoritos"," ")}}function Ie(r,e){r&1&&d(0,"is-empty")}function Fe(r,e){if(r&1&&g(0,De,70,25,"div",0)(1,Ie,1,0,"is-empty"),r&2){let t,i=c();f((t=i.product())?0:1,t)}}var j=class r{route=u(X);categoryService=u(ue);productService=u(fe);location=u(J);fallbackService=u(P);seoService=u(se);document=u(O);breadcrumbItems=C(()=>{let e=this.product(),t=this.categoryRs.value(),i=[{label:"Inicio",url:"/"},{label:"Productos",url:"/productos"}];return t&&i.push({label:t.name,url:`/productos/categoria/${t.slug}`}),e&&i.push({label:e.name}),i});productRs=M({stream:()=>R([this.route.params.pipe(h(({productSlug:e})=>e)),this.route.queryParams.pipe(h(e=>+e._page||1))]).pipe(S(([e])=>this.productService.getData({_page:1,slug:e}).pipe(h(t=>{let i=this.fallbackService.getFallbackProduct(e);return(!t.data||t.data.length===0)&&i?{data:[i],items:1,pages:1,first:1,last:1,prev:void 0,next:void 0}:t}))))});product=C(()=>{let e=this.productRs.value();return!e||!e.data||e.data.length===0?null:e.data[0]});selectedImage=L(null);constructor(){T(this.product,{injector:this.injector}).subscribe(e=>{if(e){this.selectedImage()||this.selectedImage.set(e.image_url||null),this.seoService.setPageData({title:e.name,description:e.description||`Compra ${e.name} en Arecofix`,imageUrl:e.image_url||void 0,type:"product",url:`/productos/detalle/${e.slug}`});let t="product-json-ld",i=this.document.getElementById(t);i||(i=this.document.createElement("script"),i.id=t,i.type="application/ld+json",this.document.head.appendChild(i)),i.text=JSON.stringify({"@context":"https://schema.org/","@type":"Product",name:e.name,image:e.image_url?[`https://arecofix.com.ar${e.image_url}`]:[],description:e.description||`Compra ${e.name} en Arecofix`,brand:{"@type":"Brand",name:"Arecofix"},sku:e.sku||e.id,offers:{"@type":"Offer",url:`https://arecofix.com.ar/productos/detalle/${e.slug}`,priceCurrency:"ARS",price:e.price,availability:"https://schema.org/InStock",seller:{"@type":"Organization",name:"Arecofix"}}})}})}selectImage(e){this.selectedImage.set(e)}injector=u(B);categoryRs=M({stream:()=>T(this.product,{injector:this.injector}).pipe(S(e=>!e||!e.category_id?A(null):this.categoryService.getById(e.category_id.toString())))});goBack(){this.location.back()}cartService=u(ce);favoritesService=u(_e);isFavorite=C(()=>{let e=this.product();return e?this.favoritesService.isFavorite(e.id):!1});toggleFavorite(){let e=this.product();e&&this.favoritesService.toggleFavorite(e)}addToCart(){let e=this.product();e&&this.cartService.addToCart(e)}shareProduct(){let e=this.product();if(!e)return;let t={title:e.name,text:`Mira este producto: ${e.name}`,url:window.location.href};navigator.share?navigator.share(t).catch(i=>console.error("Error sharing:",i)):navigator.clipboard.writeText(window.location.href).then(()=>alert("Enlace copiado al portapapeles!")).catch(i=>console.error("Error copying to clipboard:",i))}searchQuery="";router=u(Z);onSearch(){this.searchQuery.trim()&&this.router.navigate(["/products/all"],{queryParams:{q:this.searchQuery}})}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=Q({type:r,selectors:[["app-products-details-page"]],decls:4,vars:1,consts:[[1,"bg-white","dark:bg-gray-900","pt-6"],[1,"container","mx-auto","px-4","lg:px-8","mt-4","mb-4","flex","justify-end"],[1,"relative","w-full","max-w-xs"],["type","text","placeholder","Buscar producto...",1,"input","input-bordered","w-full","pl-10","h-10",3,"ngModelChange","keyup.enter","ngModel"],[1,"absolute","right-2","top-1/2","-translate-y-1/2","btn","btn-ghost","btn-xs","btn-circle",3,"click"],[1,"fas","fa-search","text-gray-400"],[3,"items"],[1,"mx-auto","mt-6","max-w-2xl","px-4","sm:px-6","lg:max-w-7xl","lg:px-8","lg:grid","lg:grid-cols-2","lg:gap-x-8"],[1,"lg:max-w-lg","lg:self-end"],[1,"w-full","aspect-square","overflow-hidden","rounded-lg","bg-gray-100","dark:bg-gray-800","flex","items-center","justify-center","relative"],["fill","",1,"object-contain","object-center","max-h-full","max-w-full",3,"ngSrc","alt","priority"],["src","assets/img/no-image.png",1,"object-contain","object-center","max-h-full","max-w-full",3,"alt"],[1,"mt-4","grid","grid-cols-4","gap-4"],[1,"mt-10","px-4","sm:mt-16","sm:px-0","lg:mt-0"],[1,"text-3xl","font-bold","tracking-tight","text-gray-900","dark:text-white"],[1,"mt-3"],[1,"sr-only"],[1,"text-3xl","tracking-tight","text-gray-900","dark:text-white","font-bold"],[1,"flex","items-center"],["viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"size-5","shrink-0","text-yellow-500"],["href","#",1,"ml-3","text-sm","font-medium","text-indigo-600","hover:text-indigo-500","dark:text-indigo-400"],[1,"mt-6"],[1,"text-base","text-gray-700","dark:text-gray-300"],[1,"mt-10","border-t","border-gray-200","dark:border-gray-700","pt-10"],[1,"text-sm","font-medium","text-gray-900","dark:text-white"],[1,"mt-4","prose","prose-sm","text-gray-500","dark:text-gray-400"],["role","list"],[1,"mt-10"],["type","button",1,"flex","w-full","items-center","justify-center","rounded-md","border","border-transparent","bg-indigo-600","px-8","py-3","text-base","font-medium","text-white","hover:bg-indigo-700","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-2","focus:outline-hidden","cursor-pointer","hover:shadow-lg","hover:scale-[1.02]","transition-all","duration-200",3,"click"],[1,"fas","fa-shopping-cart","mr-2"],["type","button",1,"mt-4","flex","w-full","items-center","justify-center","rounded-md","border","border-gray-300","dark:border-gray-600","bg-transparent","px-8","py-3","text-base","font-medium","text-gray-900","dark:text-gray-300","hover:bg-gray-50","dark:hover:bg-gray-800","cursor-pointer","transition-colors",3,"click"],[1,"mr-2","fa-heart"],[1,"mt-8","bg-blue-50","dark:bg-blue-900/20","border-l-4","border-blue-500","p-4","rounded-r-lg"],[1,"flex"],[1,"shrink-0"],["viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","text-blue-400"],["fill-rule","evenodd","d","M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule","evenodd"],[1,"ml-3"],[1,"text-sm","text-blue-700","dark:text-blue-200"],[1,"font-bold"],["href","https://wa.me/5491125960900","target","_blank",1,"font-bold","underline","hover:text-blue-600"],["type","button",1,"aspect-square","rounded-lg","overflow-hidden","bg-gray-100","dark:bg-gray-800","relative","cursor-pointer","hover:opacity-75","transition-opacity","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","w-full","block",3,"ring-2","ring-indigo-500"],["type","button",1,"aspect-square","rounded-lg","overflow-hidden","bg-gray-100","dark:bg-gray-800","relative","cursor-pointer","hover:opacity-75","transition-opacity","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","w-full","block",3,"click"],["fill","",1,"object-cover","object-center","pointer-events-none",3,"ngSrc","alt"],["fill-rule","evenodd","d","M10.868 2.884c-.321-.772-1.415-.772-1.736 0l-1.83 4.401-4.753.381c-.833.067-1.171 1.107-.536 1.651l3.62 3.102-1.106 4.637c-.194.813.691 1.456 1.405 1.02L10 15.591l4.069 2.485c.713.436 1.598-.207 1.404-1.02l-1.106-4.637 3.62-3.102c.635-.544.297-1.584-.536-1.65l-4.752-.382-1.831-4.401Z","clip-rule","evenodd"]],template:function(t,i){t&1&&g(0,he,1,0,"is-loading")(1,be,1,0,"is-empty")(2,ye,2,0)(3,Fe,2,1),t&2&&f(i.productRs.isLoading()?0:i.productRs.hasValue()?i.productRs.error()?2:i.productRs.hasValue()?3:-1:1)},dependencies:[me,pe,ge,Y,le,ae,te,ie,re,ne,oe,ee,de,K,W],encapsulation:2,changeDetection:0})},et=j;export{j as ProductsDetailsPage,et as default};
