{
  "version": 3,
  "sources": ["src/app/features/products/domain/repositories/product.repository.ts"],
  "sourcesContent": ["\r\nimport { Observable } from 'rxjs';\r\nimport { Product } from '../entities/product.entity';\r\n\r\nimport { ProductsParams, ProductsResponse } from '@app/public/products/interfaces';\r\n\r\nexport interface ImportProductSummary {\r\n    id: string;\r\n    name: string;\r\n    slug: string;\r\n    sku?: string;\r\n    price: number;\r\n    image_url?: string;\r\n    gallery_urls?: string[];\r\n    description?: string;\r\n    category_id?: string;\r\n    brand_id?: string;\r\n}\r\n\r\nexport interface BulkPriceUpdate {\r\n    id: string;\r\n    price: number;\r\n    /** Optional: if provided, replaces the name only when current name matches 'repuesto' */\r\n    newName?: string;\r\n}\r\n\r\nexport abstract class ProductRepository {\r\n    abstract findWithFilters(params: ProductsParams): Observable<ProductsResponse>;\r\n\r\n    abstract findLowStock(threshold?: number): Observable<Product[]>;\r\n    abstract findAvailable(): Observable<Product[]>;\r\n\r\n    abstract getAll(branch_id?: string): Observable<Product[]>;\r\n    abstract getAllForImport(): Observable<ImportProductSummary[]>;\r\n    abstract getById(id: string): Observable<Product>;\r\n    abstract create(product: Product): Observable<Product>;\r\n    abstract update(id: string, product: Partial<Product>): Observable<Product>;\r\n    abstract delete(id: string): Observable<void>;\r\n    \r\n    abstract uploadImage(file: File): Promise<string>;\r\n    abstract upsertMany(products: Partial<Product>[]): Observable<Product[]>;\r\n    abstract updateMany(products: Partial<Product>[]): Observable<void>;\r\n    abstract bulkUpdatePrices(updates: BulkPriceUpdate[]): Observable<{ updated: number; errors: number }>;\r\n    abstract bulkDelete(ids: string[]): Observable<void>;\r\n}\r\n"],
  "mappings": ";;;AA0BM,IAAgB,oBAAhB,MAAiC;;",
  "names": []
}
