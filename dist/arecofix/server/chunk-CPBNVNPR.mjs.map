{
  "version": 3,
  "sources": ["src/app/admin/clients/admin-clients-page.ts", "src/app/admin/clients/admin-clients-page.html"],
  "sourcesContent": ["import { Component, inject, OnInit, signal } from '@angular/core';\r\n\r\nimport { RouterLink } from '@angular/router';\r\nimport { AuthService } from '@app/core/services/auth.service';\r\nimport { UserProfile } from '@app/features/authentication/domain/entities/user.entity';\r\n\r\n@Component({\r\n    selector: 'app-admin-clients-page',\r\n    standalone: true,\r\n    imports: [RouterLink],\r\n    templateUrl: './admin-clients-page.html',\r\n})\r\nexport class AdminClientsPage implements OnInit {\r\n    private auth = inject(AuthService);\r\n    clients = signal<UserProfile[]>([]);\r\n    loading = signal(true);\r\n\r\n    async ngOnInit() {\r\n        await this.loadClients();\r\n    }\r\n\r\n    async loadClients() {\r\n        this.loading.set(true);\r\n        const supabase = this.auth.getSupabaseClient();\r\n        // Assuming clients are just profiles with role 'user' or we filter by something else.\r\n        // For now, let's fetch all profiles that are not admin/staff or just all profiles.\r\n        // The requirement says \"Clientes: Nombre, Dirección, Celular, Email, DNI, estado\".\r\n        // We might need to check if we have these fields in profiles or if we need a separate clients table.\r\n        // The plan didn't specify a separate clients table, so we'll use profiles.\r\n        // But wait, the user might want to register clients who are not system users (no login).\r\n        // If so, we need a clients table. The user request said \"Clientes: que tenga...\".\r\n        // Usually in a repair shop, clients might not have a login.\r\n        // I'll check if I created a clients table. I didn't in the SQL script.\r\n        // I should probably use 'profiles' for now, or create a 'clients' table if they want offline clients.\r\n        // Given the fields \"DNI\", \"Dirección\", \"Celular\", these are in profiles (or should be).\r\n        // I'll query profiles for now.\r\n\r\n        const { data, error } = await supabase\r\n            .from('profiles')\r\n            .select('*')\r\n            .eq('role', 'user') // Assuming 'user' role is for clients\r\n            .order('created_at', { ascending: false });\r\n\r\n        if (data) {\r\n            this.clients.set(data);\r\n        }\r\n        this.loading.set(false);\r\n    }\r\n}\r\n", "<div class=\"flex justify-between items-center mb-6\">\r\n    <h1 class=\"text-2xl font-bold text-green-600\">Clientes</h1>\r\n    <a routerLink=\"/admin/clients/new\" class=\"btn btn-primary\">\r\n        <i class=\"fas fa-plus mr-2\"></i> Nuevo Cliente\r\n    </a>\r\n</div>\r\n\r\n<div class=\"bg-base-100 rounded-lg shadow overflow-hidden text-base-content\">\r\n    <div class=\"overflow-x-auto\">\r\n        <table class=\"table w-full\">\r\n            <thead>\r\n                <tr class=\"text-base-content\">\r\n                    <th>Nombre</th>\r\n                    <th>Contacto</th>\r\n                    <th>Ubicación</th>\r\n                    <th>Estado</th>\r\n                    <th>Acciones</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                @if (loading()) {\r\n                <tr>\r\n                    <td colspan=\"5\" class=\"text-center py-4\">Cargando...</td>\r\n                </tr>\r\n                } @else if (clients().length === 0) {\r\n                <tr>\r\n                    <td colspan=\"5\" class=\"text-center py-4\">No hay clientes registrados.</td>\r\n                </tr>\r\n                } @else {\r\n                @for (client of clients(); track client.id) {\r\n                <tr>\r\n                    <td>\r\n                        <div class=\"font-bold\">{{ client.first_name }} {{ client.last_name }}</div>\r\n                        <div class=\"text-sm opacity-50\">{{ client.email }}</div>\r\n                        <div class=\"text-xs text-gray-400\">DNI: {{ client.dni || 'N/A' }}</div>\r\n                    </td>\r\n                    <td>\r\n                        <div><i class=\"fas fa-phone text-xs mr-1\"></i> {{ client.phone || 'N/A' }}</div>\r\n                    </td>\r\n                    <td>\r\n                        <div class=\"text-sm\">{{ client.address || 'N/A' }}</div>\r\n                    </td>\r\n                    <td>\r\n                        <span class=\"badge badge-ghost\">Activo</span>\r\n                    </td>\r\n                    <td>\r\n                        <a [routerLink]=\"['/admin/clients', client.id]\" class=\"btn btn-sm btn-ghost\">\r\n                            <i class=\"fas fa-edit\"></i>\r\n                        </a>\r\n                    </td>\r\n                </tr>\r\n                }\r\n                }\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n</div>"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACqBgB,IAAA,yBAAA,GAAA,IAAA,EAAI,GAAA,MAAA,CAAA;AACyC,IAAA,iBAAA,GAAA,aAAA;AAAW,IAAA,uBAAA,EAAK;;;;;AAG7D,IAAA,yBAAA,GAAA,IAAA,EAAI,GAAA,MAAA,CAAA;AACyC,IAAA,iBAAA,GAAA,8BAAA;AAA4B,IAAA,uBAAA,EAAK;;;;;AAI9E,IAAA,yBAAA,GAAA,IAAA,EAAI,GAAA,IAAA,EACI,GAAA,OAAA,CAAA;AACuB,IAAA,iBAAA,CAAA;AAA8C,IAAA,uBAAA;AACrE,IAAA,yBAAA,GAAA,OAAA,EAAA;AAAgC,IAAA,iBAAA,CAAA;AAAkB,IAAA,uBAAA;AAClD,IAAA,yBAAA,GAAA,OAAA,EAAA;AAAmC,IAAA,iBAAA,CAAA;AAA8B,IAAA,uBAAA,EAAM;AAE3E,IAAA,yBAAA,GAAA,IAAA,EAAI,GAAA,KAAA;AACK,IAAA,oBAAA,IAAA,KAAA,EAAA;AAA0C,IAAA,iBAAA,EAAA;AAA2B,IAAA,uBAAA,EAAM;AAEpF,IAAA,yBAAA,IAAA,IAAA,EAAI,IAAA,OAAA,EAAA;AACqB,IAAA,iBAAA,EAAA;AAA6B,IAAA,uBAAA,EAAM;AAE5D,IAAA,yBAAA,IAAA,IAAA,EAAI,IAAA,QAAA,EAAA;AACgC,IAAA,iBAAA,IAAA,QAAA;AAAM,IAAA,uBAAA,EAAO;AAEjD,IAAA,yBAAA,IAAA,IAAA,EAAI,IAAA,KAAA,EAAA;AAEI,IAAA,oBAAA,IAAA,KAAA,EAAA;AACJ,IAAA,uBAAA,EAAI,EACH;;;;AAjBsB,IAAA,oBAAA,CAAA;AAAA,IAAA,6BAAA,IAAA,UAAA,YAAA,KAAA,UAAA,SAAA;AACS,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,UAAA,KAAA;AACG,IAAA,oBAAA,CAAA;AAAA,IAAA,6BAAA,SAAA,UAAA,OAAA,KAAA;AAGY,IAAA,oBAAA,CAAA;AAAA,IAAA,6BAAA,KAAA,UAAA,SAAA,KAAA;AAG1B,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,UAAA,WAAA,KAAA;AAMlB,IAAA,oBAAA,CAAA;AAAA,IAAA,qBAAA,cAAA,0BAAA,GAAA,KAAA,UAAA,EAAA,CAAA;;;;;AAjBX,IAAA,2BAAA,GAAA,gDAAA,IAAA,GAAA,MAAA,MAAA,UAAA;;;;AAAA,IAAA,qBAAA,OAAA,QAAA,CAAS;;;ADjBnB,IAAO,mBAAP,MAAO,kBAAgB;EACjB,OAAO,OAAO,WAAW;EACjC,UAAU,OAAsB,CAAA,GAAE,GAAA,YAAA,CAAA,EAAA,WAAA,UAAA,CAAA,IAAA,CAAA,CAAA;EAClC,UAAU,OAAO,MAAI,GAAA,YAAA,CAAA,EAAA,WAAA,UAAA,CAAA,IAAA,CAAA,CAAA;EAErB,MAAM,WAAQ;AACV,UAAM,KAAK,YAAW;EAC1B;EAEA,MAAM,cAAW;AACb,SAAK,QAAQ,IAAI,IAAI;AACrB,UAAM,WAAW,KAAK,KAAK,kBAAiB;AAc5C,UAAM,EAAE,MAAM,MAAK,IAAK,MAAM,SACzB,KAAK,UAAU,EACf,OAAO,GAAG,EACV,GAAG,QAAQ,MAAM,EACjB,MAAM,cAAc,EAAE,WAAW,MAAK,CAAE;AAE7C,QAAI,MAAM;AACN,WAAK,QAAQ,IAAI,IAAI;IACzB;AACA,SAAK,QAAQ,IAAI,KAAK;EAC1B;;qCAnCS,mBAAgB;EAAA;yEAAhB,mBAAgB,WAAA,CAAA,CAAA,wBAAA,CAAA,GAAA,OAAA,IAAA,MAAA,GAAA,QAAA,CAAA,CAAA,GAAA,QAAA,mBAAA,gBAAA,MAAA,GAAA,CAAA,GAAA,YAAA,aAAA,gBAAA,GAAA,CAAA,cAAA,sBAAA,GAAA,OAAA,aAAA,GAAA,CAAA,GAAA,OAAA,WAAA,MAAA,GAAA,CAAA,GAAA,eAAA,cAAA,UAAA,mBAAA,mBAAA,GAAA,CAAA,GAAA,iBAAA,GAAA,CAAA,GAAA,SAAA,QAAA,GAAA,CAAA,GAAA,mBAAA,GAAA,CAAA,WAAA,KAAA,GAAA,eAAA,MAAA,GAAA,CAAA,GAAA,WAAA,GAAA,CAAA,GAAA,WAAA,YAAA,GAAA,CAAA,GAAA,WAAA,eAAA,GAAA,CAAA,GAAA,OAAA,YAAA,WAAA,MAAA,GAAA,CAAA,GAAA,SAAA,GAAA,CAAA,GAAA,SAAA,aAAA,GAAA,CAAA,GAAA,OAAA,UAAA,aAAA,GAAA,YAAA,GAAA,CAAA,GAAA,OAAA,SAAA,CAAA,GAAA,UAAA,SAAA,0BAAA,IAAA,KAAA;AAAA,QAAA,KAAA,GAAA;ACZ7B,MAAA,yBAAA,GAAA,OAAA,CAAA,EAAoD,GAAA,MAAA,CAAA;AACF,MAAA,iBAAA,GAAA,UAAA;AAAQ,MAAA,uBAAA;AACtD,MAAA,yBAAA,GAAA,KAAA,CAAA;AACI,MAAA,oBAAA,GAAA,KAAA,CAAA;AAAiC,MAAA,iBAAA,GAAA,iBAAA;AACrC,MAAA,uBAAA,EAAI;AAGR,MAAA,yBAAA,GAAA,OAAA,CAAA,EAA6E,GAAA,OAAA,CAAA,EAC5C,GAAA,SAAA,CAAA,EACG,GAAA,OAAA,EACjB,IAAA,MAAA,CAAA,EAC2B,IAAA,IAAA;AACtB,MAAA,iBAAA,IAAA,QAAA;AAAM,MAAA,uBAAA;AACV,MAAA,yBAAA,IAAA,IAAA;AAAI,MAAA,iBAAA,IAAA,UAAA;AAAQ,MAAA,uBAAA;AACZ,MAAA,yBAAA,IAAA,IAAA;AAAI,MAAA,iBAAA,IAAA,cAAA;AAAS,MAAA,uBAAA;AACb,MAAA,yBAAA,IAAA,IAAA;AAAI,MAAA,iBAAA,IAAA,QAAA;AAAM,MAAA,uBAAA;AACV,MAAA,yBAAA,IAAA,IAAA;AAAI,MAAA,iBAAA,IAAA,UAAA;AAAQ,MAAA,uBAAA,EAAK,EAChB;AAET,MAAA,yBAAA,IAAA,OAAA;AACI,MAAA,8BAAA,IAAA,0CAAA,GAAA,GAAA,IAAA,EAAiB,IAAA,0CAAA,GAAA,GAAA,IAAA,EAIoB,IAAA,0CAAA,GAAA,CAAA;AA6BzC,MAAA,uBAAA,EAAQ,EACJ,EACN;;;AAnCM,MAAA,oBAAA,EAAA;AAAA,MAAA,wBAAA,IAAA,QAAA,IAAA,KAAA,IAAA,QAAA,EAAA,WAAA,IAAA,KAAA,EAAA;;oBDXF,UAAU,GAAA,eAAA,EAAA,CAAA;;;sEAGX,kBAAgB,CAAA;UAN5B;uBACa,0BAAwB,YACtB,MAAI,SACP,CAAC,UAAU,GAAC,UAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QAAA,CAAA;;;;6EAGZ,kBAAgB,EAAA,WAAA,oBAAA,UAAA,+CAAA,YAAA,GAAA,CAAA;AAAA,GAAA;",
  "names": []
}
