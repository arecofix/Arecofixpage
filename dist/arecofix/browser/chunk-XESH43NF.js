import{a as k}from"./chunk-DZJIBAYE.js";import"./chunk-SFGK2H4E.js";import"./chunk-RLEXB5XQ.js";import{h as P}from"./chunk-UWELTD43.js";import"./chunk-KREPGFQR.js";import"./chunk-T7AXESXA.js";import{j as y,o as E,r as O}from"./chunk-IZ4CGVWK.js";import{Ab as C,Bb as g,Cb as e,Cc as b,Db as n,Eb as l,Qb as p,Wa as o,Y as x,Yb as a,Zb as s,_b as f,ib as _,kc as u,nc as h,pc as S,vb as m,wb as c,zb as v}from"./chunk-IZKGPZFC.js";import"./chunk-VOSPIT4N.js";var I=t=>["/admin/orders",t],T=t=>["/admin/orders",t,"edit"],F=(t,r)=>r.id;function w(t,r){t&1&&(e(0,"div",4),l(1,"span",6),n())}function D(t,r){if(t&1&&(e(0,"div",5),l(1,"i",7),e(2,"span"),a(3),n()()),t&2){let i=p();o(3),s(i.error)}}function L(t,r){t&1&&(e(0,"div",8),l(1,"i",10),e(2,"p",11),a(3,"No hay pedidos registrados"),n(),e(4,"a",12),a(5,"Crear Primer Pedido"),n()())}function N(t,r){if(t&1&&(e(0,"tr")(1,"td",15),a(2),n(),e(3,"td")(4,"div",16),a(5),n(),e(6,"div",17),a(7),n()(),e(8,"td",18),a(9),n(),e(10,"td")(11,"span",19),a(12),n()(),e(13,"td"),a(14),h(15,"date"),n(),e(16,"td")(17,"div",20)(18,"a",21),l(19,"i",22),n(),e(20,"a",21),l(21,"i",23),n()()()()),t&2){let i=r.$implicit,d=p(3);o(2),s(i.order_number),o(3),s(i.customer_name),o(2),s(i.customer_email),o(2),f("$",i.total.toFixed(2)),o(2),g("ngClass",d.getStatusBadgeClass(i.status)),o(),f(" ",d.getStatusText(i.status)," "),o(2),s(S(15,9,i.created_at,"short")),o(4),g("routerLink",u(12,I,i.id)),o(2),g("routerLink",u(14,T,i.id))}}function R(t,r){if(t&1&&(e(0,"div",9)(1,"table",13)(2,"thead")(3,"tr",14)(4,"th"),a(5,"N\xFAmero"),n(),e(6,"th"),a(7,"Cliente"),n(),e(8,"th"),a(9,"Total"),n(),e(10,"th"),a(11,"Estado"),n(),e(12,"th"),a(13,"Fecha"),n(),e(14,"th"),a(15,"Acciones"),n()()(),e(16,"tbody"),v(17,N,22,16,"tr",null,F),n()()()),t&2){let i=p(2);o(17),C(i.orders)}}function j(t,r){if(t&1&&m(0,L,6,0,"div",8)(1,R,19,0,"div",9),t&2){let i=p();c(i.orders.length===0?0:1)}}var A=class t{orderService=x(k);cdr=x(b);orders=[];loading=!0;error=null;async ngOnInit(){try{this.orderService.getOrders().subscribe({next:r=>{this.orders=r,this.loading=!1,this.cdr.markForCheck()},error:r=>{this.error=r.message||"Error al cargar pedidos",this.loading=!1,this.cdr.markForCheck()}})}catch(r){this.error=r.message||"Error al cargar pedidos",this.loading=!1,this.cdr.markForCheck()}}getStatusBadgeClass(r){return{pending:"badge-warning",processing:"badge-info",completed:"badge-success",cancelled:"badge-error"}[r]||"badge-ghost"}getStatusText(r){return{pending:"Pendiente",processing:"Procesando",completed:"Completado",cancelled:"Cancelado"}[r]||r}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=_({type:t,selectors:[["app-admin-orders-page"]],decls:9,vars:3,consts:[[1,"flex","justify-between","items-center","mb-6"],[1,"text-2xl","font-bold","text-gray-800"],["routerLink","/admin/orders/new",1,"btn","btn-primary"],[1,"fas","fa-plus","mr-2"],[1,"flex","justify-center","items-center","py-12"],[1,"alert","alert-error"],[1,"loading","loading-spinner","loading-lg"],[1,"fas","fa-exclamation-circle"],[1,"text-center","py-12"],[1,"overflow-x-auto","bg-white","rounded-lg","shadow","text-gray-800"],[1,"fas","fa-shopping-cart","text-6xl","text-gray-300","mb-4"],[1,"text-gray-500","text-lg"],["routerLink","/admin/orders/new",1,"btn","btn-primary","mt-4"],[1,"table","w-full"],[1,"text-gray-800"],[1,"font-mono"],[1,"font-medium"],[1,"text-sm","text-gray-500"],[1,"font-semibold"],[1,"badge",3,"ngClass"],[1,"flex","gap-2"],[1,"btn","btn-sm","btn-ghost",3,"routerLink"],[1,"fas","fa-eye"],[1,"fas","fa-edit"]],template:function(i,d){i&1&&(e(0,"div",0)(1,"h2",1),a(2,"Pedidos"),n(),e(3,"a",2),l(4,"i",3),a(5," Nuevo Pedido "),n()(),m(6,w,2,0,"div",4),m(7,D,4,1,"div",5),m(8,j,2,1)),i&2&&(o(6),c(d.loading?6:-1),o(),c(d.error?7:-1),o(),c(!d.loading&&!d.error?8:-1))},dependencies:[P,O,y,E],encapsulation:2,changeDetection:0})};export{A as AdminOrdersPage};
