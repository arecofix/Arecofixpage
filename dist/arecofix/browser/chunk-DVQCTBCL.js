import{b as s}from"./chunk-YMLALQJL.js";import{d as n}from"./chunk-N3TMG4ML.js";import"./chunk-KO4BXOND.js";import"./chunk-FNNVO3A6.js";import{R as c,W as o}from"./chunk-J6ZALCGR.js";import"./chunk-VOSPIT4N.js";var m=class t{authService=o(s);router=o(n);async canActivate(){return await this.authService.getSession()?!0:(this.router.navigate(["/login"]),!1)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=c({token:t,factory:t.\u0275fac,providedIn:"root"})},d=(t,r)=>{let i=o(s),u=o(n);return new Promise(async e=>{let a=await i.getSession();if(!a){u.navigate(["/login"],{queryParams:{returnUrl:r.url}}),e(!1);return}if(r.url.startsWith("/admin")){let l=await i.getUserProfile(a.user.id);if(["ezequielenrico15@gmail.com","Ezequielenrico1015@hotmail.com"].includes(a.user.email?.toLowerCase()||"")){e(!0);return}if(l?.role==="admin"){e(!0);return}u.navigate(["/"]),e(!1);return}e(!0)})};var p=[{title:"Admin",path:"",canActivate:[d],loadComponent:()=>import("./chunk-OE2KTJF7.js").then(t=>t.AdminLayout),children:[{path:"",redirectTo:"products",pathMatch:"full"},{title:"Productos",path:"products",loadComponent:()=>import("./chunk-QZEJ5JME.js").then(t=>t.AdminProductsPage)},{title:"Nuevo Producto",path:"products/new",loadComponent:()=>import("./chunk-AY6CH3VU.js").then(t=>t.AdminProductFormPage)},{title:"Editar Producto",path:"products/:id",loadComponent:()=>import("./chunk-AY6CH3VU.js").then(t=>t.AdminProductFormPage)},{title:"Cursos",path:"courses",loadComponent:()=>import("./chunk-YE64QJBS.js").then(t=>t.AdminCoursesPage)},{title:"Nuevo Curso",path:"courses/new",loadComponent:()=>import("./chunk-3RDV5XKZ.js").then(t=>t.AdminCourseFormPage)},{title:"Editar Curso",path:"courses/:id",loadComponent:()=>import("./chunk-3RDV5XKZ.js").then(t=>t.AdminCourseFormPage)}]}],y=p;export{p as adminRoutes,y as default};
