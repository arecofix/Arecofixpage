import{a as y}from"./chunk-FDEIW4RV.js";import"./chunk-KXBHGC7O.js";import{e as P}from"./chunk-SJUHAIWY.js";import"./chunk-2IHNZNBZ.js";import"./chunk-NGBKTTVY.js";import{Fa as n,Fb as o,Gb as s,Hb as _,Ta as u,Tb as C,W as m,eb as c,fb as l,hb as g,ib as f,ic as h,jb as v,kb as x,lb as a,mb as r,xb as p}from"./chunk-CVZCBU36.js";import"./chunk-VOSPIT4N.js";var b=e=>["/admin/products",e];function E(e,i){e&1&&(a(0,"div"),o(1,"Cargando..."),r())}function k(e,i){if(e&1&&(a(0,"div",3),o(1),r()),e&2){let t=p();n(),s(t.error)}}function I(e,i){if(e&1&&(a(0,"div",5)(1,"div",6),o(2),r(),a(3,"div",7),o(4),r(),a(5,"div",8),o(6),r(),a(7,"a",9),o(8,"Editar"),r()()),e&2){let t=i.$implicit;n(2),s(t.name),n(2),s(t.slug),n(2),_("$ ",t.price),n(),x("routerLink",C(4,b,t.id))}}function A(e,i){if(e&1&&(a(0,"div",4),f(1,I,9,6,"div",5,g),r()),e&2){let t=p();n(),v(t.products)}}var S=class e{auth=m(y);cdr=m(h);products=[];loading=!0;error=null;async ngOnInit(){try{let i=this.auth.getSupabaseClient(),{data:t,error:d}=await i.from("products").select("*").order("created_at",{ascending:!1});if(d)throw d;this.products=t||[]}catch(i){this.error=i.message||"Error al cargar productos"}finally{this.loading=!1,this.cdr.markForCheck()}}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=u({type:e,selectors:[["app-admin-products-page"]],decls:8,vars:3,consts:[[1,"flex","justify-between","items-center","mb-4"],[1,"text-lg","font-medium"],["routerLink","/admin/products/new",1,"btn","btn-primary"],[1,"text-red-600"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4"],[1,"border","rounded","p-3"],[1,"font-semibold"],[1,"text-sm","opacity-80"],[1,"mt-2"],[1,"link","mt-2","inline-block",3,"routerLink"]],template:function(t,d){t&1&&(a(0,"div",0)(1,"h2",1),o(2,"Productos"),r(),a(3,"a",2),o(4,"Nuevo producto"),r()(),c(5,E,2,0,"div"),c(6,k,2,1,"div",3),c(7,A,3,0,"div",4)),t&2&&(n(5),l(d.loading?5:-1),n(),l(d.error?6:-1),n(),l(!d.loading&&!d.error?7:-1))},dependencies:[P],encapsulation:2,changeDetection:0})};export{S as AdminProductsPage};
