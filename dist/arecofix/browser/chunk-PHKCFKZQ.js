import{a as N}from"./chunk-CXQLCJLY.js";import{a as G}from"./chunk-D7UM7OT5.js";import{a as z,c as A,d as B,e as q}from"./chunk-YJINA3M4.js";import{a as H}from"./chunk-UGQOJHW4.js";import"./chunk-V2I26IUK.js";import{c as F}from"./chunk-PQSPWLSB.js";import{a as R}from"./chunk-AICXNJUB.js";import"./chunk-BASCMOWO.js";import"./chunk-AUYAPYBZ.js";import{e as L}from"./chunk-QSLR4FGB.js";import"./chunk-LAXSCOZR.js";import{Fa as M,Hb as a,Ia as l,Ib as x,Jb as v,K as w,S as D,Wa as T,X as c,aa as S,ba as h,ca as s,da as m,dc as j,gb as p,hb as u,mb as V,nb as e,ob as t,pb as d,tb as I,u as f,v as E,xb as P,zb as g}from"./chunk-UMWLAP3G.js";import{a as k,b as y}from"./chunk-VOSPIT4N.js";var b=class n{fallbackProducts=[{id:"1001",category_id:"0",slug:"joystick-play-station-4",name:"Joystick Play Station 4",description:"En venta Joystick nuevo de play station 4 DUALSHOCK",price:29800,featured:!0,image_url:"assets/img/products/joystick-ps4-v2.webp"},{id:"1002",category_id:"0",slug:"iphone-8-plus",name:"iPhone 8 Plus",description:"En venta iPhone 8 Plus vidrio astillado no afecta su uso",price:96e3,featured:!0,image_url:"assets/img/products/iph8plus.webp"},{id:"1003",category_id:"0",slug:"iphone-x",name:"iPhone X",description:"En venta celular iphone x a wifi",price:149e3,featured:!0,image_url:"assets/img/products/iphx.webp"}];getFallbackProduct(i){return this.fallbackProducts.find(o=>o.slug===i)}getAllFallbackProducts(){return[...this.fallbackProducts]}isFallbackProduct(i){return this.fallbackProducts.some(o=>o.slug===i)}static \u0275fac=function(o){return new(o||n)};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})};function J(n,i){n&1&&d(0,"is-loading")}function K(n,i){n&1&&d(0,"is-empty")}function O(n,i){n&1&&d(0,"is-error")}function W(n,i){n&1&&(e(0,"div",11)(1,"div",42),s(),e(2,"svg",43),d(3,"path",44),t(),a(4," Featured Product "),t()())}function X(n,i){n&1&&(e(0,"span",26),a(1,"Featured"),t())}function $(n,i){n&1&&(e(0,"span",27),a(1,"Regular"),t())}function Q(n,i){if(n&1){let o=I();e(0,"div",1)(1,"button",2),P("click",function(){S(o);let _=g(2);return h(_.goBack())}),s(),e(2,"svg",3),d(3,"path",4),t(),a(4," Back to Products "),t()(),m(),e(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"figure",9),d(10,"img",10),p(11,W,5,0,"div",11),e(12,"div",12)(13,"div",13),a(14),t()()()(),e(15,"div",14)(16,"div")(17,"h1",15),a(18),t(),e(19,"div",16)(20,"div",17),a(21),t(),e(22,"div",18),a(23),t()()(),e(24,"h3",19),a(25,"Product Specifications"),t(),e(26,"div",20)(27,"div",21)(28,"div",22),a(29,"Product ID"),t(),e(30,"div",23),a(31),t(),e(32,"div",24),a(33,"Unique identifier"),t()(),e(34,"div",21)(35,"div",22),a(36,"Category"),t(),e(37,"div",23),a(38),t(),e(39,"div",24),a(40,"Category reference"),t()(),e(41,"div",21)(42,"div",22),a(43,"Status"),t(),e(44,"div",25),p(45,X,2,0,"span",26)(46,$,2,0,"span",27),t(),e(47,"div",24),a(48,"Product tier"),t()(),e(49,"div",21)(50,"div",22),a(51,"Price"),t(),e(52,"div",28),a(53),t(),e(54,"div",24),a(55,"Current price"),t()()()(),e(56,"div",29)(57,"div",30)(58,"div",31)(59,"button",32),s(),e(60,"svg",3),d(61,"path",33),t(),a(62," Share "),t(),m(),e(63,"button",32),s(),e(64,"svg",3),d(65,"path",34),t(),a(66," Compare "),t(),m(),e(67,"button",32),s(),e(68,"svg",3),d(69,"path",35),t(),a(70," Details "),t()()()(),m(),e(71,"div",36)(72,"button",37),P("click",function(){S(o);let _=g(2);return h(_.addToCart())}),s(),e(73,"svg",38),d(74,"path",39),t(),a(75," Add to Cart "),t(),m(),e(76,"button",40),s(),e(77,"svg",38),d(78,"path",41),t(),a(79," Add to Wishlist "),t()()()()()}if(n&2){let o,r=g(2);l(10),V("src",r.product().image_url||((o=r.product().gallery_urls)==null?null:o[0])||"assets/img/no-image.png",M)("alt",r.product().name),l(),u(r.product().featured?11:-1),l(3),v(" #",r.product().id," "),l(4),v(" ",r.product().name," "),l(3),v(" Category ID: ",r.product().category_id," "),l(2),x(r.product().slug),l(8),x(r.product().id),l(7),x(r.product().category_id),l(7),u(r.product().featured?45:46),l(8),v(" $",r.product().price," ")}}function Y(n,i){if(n&1&&(e(0,"div",0),p(1,Q,80,11),t()),n&2){let o=g();l(),u(o.product()?1:-1)}}var C=class n{route=c(R);categoryService=c(H);productService=c(N);paginationService=c(z);location=c(L);fallbackService=c(b);productRs=F({stream:()=>E([this.route.params.pipe(f(({productSlug:i})=>i)),this.route.queryParams.pipe(f(i=>+i._page||1))]).pipe(w(([i])=>this.productService.getData({_page:1,slug:i}).pipe(f(o=>{let r=this.fallbackService.getFallbackProduct(i);return(!o.data||o.data.length===0)&&r?y(k({},o),{data:[r],items:1,pages:1}):o}))))});product=j(()=>{let i=this.productRs.value();return!i||!i.data||i.data.length===0?null:i.data[0]},{});goBack(){this.location.back()}cartService=c(G);addToCart(){let i=this.product();i&&this.cartService.addToCart(i)}static \u0275fac=function(o){return new(o||n)};static \u0275cmp=T({type:n,selectors:[["app-products-details-page"]],decls:4,vars:1,consts:[[1,"container","mx-auto","px-4","py-8","max-w-6xl"],[1,"mb-6"],[1,"btn","btn-ghost","btn-sm","gap-2",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"card","bg-base-100","shadow-2xl"],[1,"card-body","p-0"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-8","p-8"],[1,"relative"],[1,"relative","rounded-2xl","overflow-hidden"],[1,"w-full","h-96","object-cover",3,"src","alt"],[1,"absolute","top-4","right-4"],[1,"absolute","top-4","left-4"],[1,"badge","badge-ghost","badge-lg","opacity-90"],[1,"flex","flex-col","justify-center","space-y-6"],[1,"text-3xl","lg:text-4xl","font-bold","text-base-content","mb-2"],[1,"flex","gap-2","mb-4"],[1,"badge","badge-secondary"],[1,"badge","badge-outline"],[1,"text-2xl","font-bold","mb-6"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-6"],[1,"stat","bg-base-100","rounded-xl"],[1,"stat-title"],[1,"stat-value","text-2xl"],[1,"stat-desc"],[1,"stat-value","text-lg"],[1,"text-primary"],[1,"text-base-content"],[1,"stat-value","text-2xl","text-primary"],[1,"p-8","border-t","border-base-300"],[1,"flex","justify-center"],[1,"join"],[1,"btn","join-item","btn-outline","gap-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 4V2a1 1 0 011-1h8a1 1 0 011 1v2m0 0V4a1 1 0 01-1 1H8a1 1 0 01-1-1V2m8 2v12a2 2 0 01-2 2H8a2 2 0 01-2-2V6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"flex","flex-col","sm:flex-row","gap-4","pt-4","px-8","pb-8"],[1,"btn","btn-primary","btn-lg","flex-1","gap-2",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5m6-5v6a2 2 0 11-4 0v-6m4 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01"],[1,"btn","btn-outline","btn-lg","flex-1","gap-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"],[1,"badge","badge-primary","badge-lg","gap-2"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4"],["d","M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"]],template:function(o,r){o&1&&p(0,J,1,0,"is-loading")(1,K,1,0,"is-empty")(2,O,1,0,"is-error")(3,Y,2,1,"div",0),o&2&&u(r.productRs.isLoading()?0:r.productRs.hasValue()?r.productRs.error()?2:r.productRs.hasValue()?3:-1:1)},dependencies:[A,B,q],encapsulation:2,changeDetection:0})},fe=C;export{C as ProductsDetailsPage,fe as default};
