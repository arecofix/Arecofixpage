import{a as c}from"./chunk-GLMPELGN.js";import{a as f}from"./chunk-YUNB63IX.js";import{R as s,W as i,ma as a,oa as v}from"./chunk-YEQHDEKA.js";var d=class o{logger=i(f);toastService=i(c);favorites=a([]);constructor(){let e=localStorage.getItem("favorites");if(e)try{this.favorites.set(JSON.parse(e))}catch(t){console.error("Error parsing favorites",t),this.favorites.set([])}v(()=>{localStorage.setItem("favorites",JSON.stringify(this.favorites()))})}toggleFavorite(e){this.isFavorite(e.id)?this.removeFavorite(e.id):this.addFavorite(e)}addFavorite(e){this.favorites.update(t=>t.some(r=>r.id===e.id)?t:[...t,e]),this.logger.debug("Product added to favorites",{productName:e.name}),this.toastService.show("Agregado a favoritos","success")}removeFavorite(e){this.favorites.update(t=>t.filter(r=>r.id!==e)),this.logger.debug("Product removed from favorites",{productId:e}),this.toastService.show("Eliminado de favoritos","info")}isFavorite(e){return this.favorites().some(t=>t.id===e)}static \u0275fac=function(t){return new(t||o)};static \u0275prov=s({token:o,factory:o.\u0275fac,providedIn:"root"})};export{d as a};
