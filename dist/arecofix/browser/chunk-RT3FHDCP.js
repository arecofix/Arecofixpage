import{k as i,l as c}from"./chunk-ECZXGVFH.js";import{a as n}from"./chunk-P2JKZEUE.js";import{R as o,W as a}from"./chunk-DX2LKEMG.js";var g=class s{authService=a(c);logger=a(n);tenantService=a(i);supabase;constructor(){this.supabase=this.authService.getSupabaseClient()}async createMessage(r){try{let e={name:r.name,email:r.email,phone:r.phone||null,subject:r.subject||null,message:r.message,is_read:!1,tenant_id:this.tenantService.getTenantId()},{error:t}=await this.supabase.from("contact_messages").insert(e);return t&&this.logger.error("Supabase ContactService Error:",t),{error:t}}catch(e){return this.logger.error("ContactService Exception:",e),{error:{message:e instanceof Error?e.message:"Unknown error",details:"",hint:"",code:"UNKNOWN",name:"PostgrestError"}}}}static \u0275fac=function(e){return new(e||s)};static \u0275prov=o({token:s,factory:s.\u0275fac,providedIn:"root"})};export{g as a};
