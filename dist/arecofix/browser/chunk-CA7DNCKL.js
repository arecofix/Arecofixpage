import{a as k}from"./chunk-MCSV4IA2.js";import{d as E}from"./chunk-BWQSVEWZ.js";import"./chunk-44RGWP63.js";import"./chunk-4CQ4C23O.js";import{n as I}from"./chunk-XV34LPXM.js";import{Bb as g,Ca as f,Db as a,Eb as l,Fa as o,Fb as s,Rb as S,Sa as _,X as x,cb as p,db as u,gb as y,hb as b,ib as v,jb as i,kb as e,lb as d,na as c,vb as h}from"./chunk-DPJIKM6M.js";import"./chunk-VOSPIT4N.js";var P=n=>["/admin/products",n],A=(n,r)=>r.id;function w(n,r){n&1&&(i(0,"tr")(1,"td",8),a(2,"Cargando..."),e()())}function T(n,r){n&1&&(i(0,"tr")(1,"td",8),a(2,"No hay productos registrados."),e()())}function F(n,r){n&1&&(i(0,"div",18),a(1," Stock Bajo "),e())}function N(n,r){if(n&1&&(i(0,"tr")(1,"td")(2,"div",9)(3,"div",10)(4,"div",11),d(5,"img",12),e()(),i(6,"div")(7,"div",13),a(8),e(),i(9,"div",14),a(10),e()()()(),i(11,"td")(12,"div",15),a(13),e(),i(14,"div",16),a(15),e()(),i(16,"td")(17,"div",17),a(18),e(),p(19,F,2,0,"div",18),e(),i(20,"td")(21,"span",19),a(22),e()(),i(23,"td")(24,"a",20),d(25,"i",21),e()()()),n&2){let t=r.$implicit;o(5),v("src",t.image_url||"assets/img/no-image.png",f),o(3),l(t.name),o(2),s("$",t.price),o(3),l(t.sku||"N/A"),o(2),l(t.barcode||"Sin c\xF3digo de barras"),o(2),g("text-error",t.stock<=(t.min_stock_alert||5))("text-success",t.stock>(t.min_stock_alert||5)),o(),s(" ",t.stock," "),o(),u(t.stock<=(t.min_stock_alert||5)?19:-1),o(2),g("badge-success",t.is_active)("badge-ghost",!t.is_active),o(),s(" ",t.is_active?"Activo":"Inactivo"," "),o(2),v("routerLink",S(17,P,t.id))}}function D(n,r){if(n&1&&y(0,N,26,19,"tr",null,A),n&2){let t=h();b(t.products())}}var C=class n{auth=x(k);products=c([],{});loading=c(!0,{});async ngOnInit(){await this.loadInventory()}async loadInventory(){this.loading.set(!0);let r=this.auth.getSupabaseClient(),{data:t,error:m}=await r.from("products").select("*").order("stock",{ascending:!0});t&&this.products.set(t),this.loading.set(!1)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=_({type:n,selectors:[["app-admin-inventory-page"]],decls:25,vars:1,consts:[[1,"flex","justify-between","items-center","mb-6"],[1,"text-2xl","font-bold","text-gray-800"],["routerLink","/admin/purchases/new",1,"btn","btn-primary"],[1,"fas","fa-plus","mr-2"],[1,"bg-white","rounded-lg","shadow","overflow-hidden","text-gray-800"],[1,"overflow-x-auto"],[1,"table","w-full"],[1,"text-gray-800"],["colspan","5",1,"text-center","py-4"],[1,"flex","items-center","gap-3"],[1,"avatar"],[1,"mask","mask-squircle","w-12","h-12"],["alt","Product",3,"src"],[1,"font-bold"],[1,"text-sm","opacity-50"],[1,"text-sm"],[1,"text-xs","text-gray-400"],[1,"font-bold","text-lg"],[1,"badge","badge-error","badge-xs"],[1,"badge"],[1,"btn","btn-sm","btn-ghost",3,"routerLink"],[1,"fas","fa-edit"]],template:function(t,m){t&1&&(i(0,"div",0)(1,"h1",1),a(2,"Inventario"),e(),i(3,"a",2),d(4,"i",3),a(5," Registrar Compra "),e()(),i(6,"div",4)(7,"div",5)(8,"table",6)(9,"thead")(10,"tr",7)(11,"th"),a(12,"Producto"),e(),i(13,"th"),a(14,"SKU / C\xF3digo"),e(),i(15,"th"),a(16,"Stock Actual"),e(),i(17,"th"),a(18,"Estado"),e(),i(19,"th"),a(20,"Acciones"),e()()(),i(21,"tbody"),p(22,w,3,0,"tr")(23,T,3,0,"tr")(24,D,2,0),e()()()()),t&2&&(o(22),u(m.loading()?22:m.products().length===0?23:24))},dependencies:[I,E],encapsulation:2})};export{C as AdminInventoryPage};
