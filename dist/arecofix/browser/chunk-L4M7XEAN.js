import{a as k}from"./chunk-4FNFMYN4.js";import{d as E}from"./chunk-4WX2KV2B.js";import"./chunk-QBWIJBVM.js";import"./chunk-BCXBSHNT.js";import{o as I}from"./chunk-YHPCNF66.js";import{Ca as f,Db as g,Fa as o,Fb as a,Gb as l,Hb as s,Ta as _,Tb as S,W as x,eb as p,fb as u,ib as b,jb as y,kb as v,lb as i,ma as c,mb as t,nb as d,xb as h}from"./chunk-YBYZLFPG.js";import"./chunk-VOSPIT4N.js";var P=n=>["/admin/products",n],A=(n,r)=>r.id;function w(n,r){n&1&&(i(0,"tr")(1,"td",7),a(2,"Cargando..."),t()())}function T(n,r){n&1&&(i(0,"tr")(1,"td",7),a(2,"No hay productos registrados."),t()())}function F(n,r){n&1&&(i(0,"div",17),a(1," Stock Bajo "),t())}function N(n,r){if(n&1&&(i(0,"tr")(1,"td")(2,"div",8)(3,"div",9)(4,"div",10),d(5,"img",11),t()(),i(6,"div")(7,"div",12),a(8),t(),i(9,"div",13),a(10),t()()()(),i(11,"td")(12,"div",14),a(13),t(),i(14,"div",15),a(15),t()(),i(16,"td")(17,"div",16),a(18),t(),p(19,F,2,0,"div",17),t(),i(20,"td")(21,"span",18),a(22),t()(),i(23,"td")(24,"a",19),d(25,"i",20),t()()()),n&2){let e=r.$implicit;o(5),v("src",e.image_url||"assets/img/no-image.png",f),o(3),l(e.name),o(2),s("$",e.price),o(3),l(e.sku||"N/A"),o(2),l(e.barcode||"Sin c\xF3digo de barras"),o(2),g("text-error",e.stock<=(e.min_stock_alert||5))("text-success",e.stock>(e.min_stock_alert||5)),o(),s(" ",e.stock," "),o(),u(e.stock<=(e.min_stock_alert||5)?19:-1),o(2),g("badge-success",e.is_active)("badge-ghost",!e.is_active),o(),s(" ",e.is_active?"Activo":"Inactivo"," "),o(2),v("routerLink",S(17,P,e.id))}}function D(n,r){if(n&1&&b(0,N,26,19,"tr",null,A),n&2){let e=h();y(e.products())}}var C=class n{auth=x(k);products=c([],{});loading=c(!0,{});async ngOnInit(){await this.loadInventory()}async loadInventory(){this.loading.set(!0);let r=this.auth.getSupabaseClient(),{data:e,error:m}=await r.from("products").select("*").order("stock",{ascending:!0});e&&this.products.set(e),this.loading.set(!1)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=_({type:n,selectors:[["app-admin-inventory-page"]],decls:25,vars:1,consts:[[1,"flex","justify-between","items-center","mb-6"],[1,"text-2xl","font-bold","text-gray-800"],["routerLink","/admin/purchases/new",1,"btn","btn-primary"],[1,"fas","fa-plus","mr-2"],[1,"bg-white","rounded-lg","shadow","overflow-hidden"],[1,"overflow-x-auto"],[1,"table","w-full"],["colspan","5",1,"text-center","py-4"],[1,"flex","items-center","gap-3"],[1,"avatar"],[1,"mask","mask-squircle","w-12","h-12"],["alt","Product",3,"src"],[1,"font-bold"],[1,"text-sm","opacity-50"],[1,"text-sm"],[1,"text-xs","text-gray-400"],[1,"font-bold","text-lg"],[1,"badge","badge-error","badge-xs"],[1,"badge"],[1,"btn","btn-sm","btn-ghost",3,"routerLink"],[1,"fas","fa-edit"]],template:function(e,m){e&1&&(i(0,"div",0)(1,"h1",1),a(2,"Inventario"),t(),i(3,"a",2),d(4,"i",3),a(5," Registrar Compra "),t()(),i(6,"div",4)(7,"div",5)(8,"table",6)(9,"thead")(10,"tr")(11,"th"),a(12,"Producto"),t(),i(13,"th"),a(14,"SKU / C\xF3digo"),t(),i(15,"th"),a(16,"Stock Actual"),t(),i(17,"th"),a(18,"Estado"),t(),i(19,"th"),a(20,"Acciones"),t()()(),i(21,"tbody"),p(22,w,3,0,"tr")(23,T,3,0,"tr")(24,D,2,0),t()()()()),e&2&&(o(22),u(m.loading()?22:m.products().length===0?23:24))},dependencies:[I,E],encapsulation:2})};export{C as AdminInventoryPage};
