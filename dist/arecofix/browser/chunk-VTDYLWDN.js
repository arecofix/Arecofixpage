import{a as S}from"./chunk-DCQKJI4U.js";import{a as h}from"./chunk-YDRYCRWB.js";import"./chunk-XABE7YIC.js";import"./chunk-FNOMVEKC.js";import{a as b}from"./chunk-UMKSLB7V.js";import"./chunk-WKJZXT3A.js";import"./chunk-6C55BXVK.js";import"./chunk-T7AXESXA.js";import{h as P}from"./chunk-CFVR47WG.js";import"./chunk-BPBGA3ZM.js";import{r as y}from"./chunk-E6PREHEQ.js";import{Ab as f,Bb as x,Cb as _,Db as o,Eb as n,Fb as r,Rb as p,Xa as d,Z as g,Zb as a,jb as C,pa as c,u,wb as s,xb as m}from"./chunk-25C2KVON.js";import"./chunk-VOSPIT4N.js";var E=(e,t)=>t.id;function D(e,t){e&1&&(o(0,"div",3),r(1,"span",4),n())}function N(e,t){if(e&1&&r(0,"product-card",14),e&2){let i=t.$implicit;_("product",i)}}function w(e,t){if(e&1&&(o(0,"div",10),f(1,N,1,1,"product-card",14,E),n()),e&2){let i=p(2);d(),x(i.celulares())}}function M(e,t){e&1&&(o(0,"div",11),r(1,"i",15),o(2,"span"),a(3,"No hay celulares disponibles por el momento."),n()())}function R(e,t){if(e&1&&r(0,"product-card",14),e&2){let i=t.$implicit;_("product",i)}}function k(e,t){if(e&1&&(o(0,"div",10),f(1,R,1,1,"product-card",14,E),n()),e&2){let i=p(2);d(),x(i.repuestos())}}function F(e,t){e&1&&(o(0,"div",11),r(1,"i",15),o(2,"span"),a(3,"No hay repuestos disponibles por el momento."),n()())}function $(e,t){if(e&1&&(o(0,"section",5)(1,"div",6)(2,"h2",7),a(3,"Celulares"),n(),o(4,"a",8),a(5,"Ver todos "),r(6,"i",9),n()(),s(7,w,3,0,"div",10)(8,M,4,0,"div",11),n(),o(9,"section")(10,"div",6)(11,"h2",12),a(12,"Repuestos"),n(),o(13,"a",13),a(14,"Ver todos "),r(15,"i",9),n()(),s(16,k,3,0,"div",10)(17,F,4,0,"div",11),n()),e&2){let i=p();d(7),m(i.celulares().length>0?7:8),d(9),m(i.repuestos().length>0?16:17)}}var I=class e{categoryService=g(b);productService=g(h);celulares=c([]);repuestos=c([]);loading=c(!0);async ngOnInit(){try{await Promise.all([this.loadCategoryProducts("celulares",this.celulares),this.loadCategoryProducts("repuestos",this.repuestos)])}catch(t){console.error("Error loading products",t)}finally{this.loading.set(!1)}}async loadCategoryProducts(t,i){try{let v=(await u(this.categoryService.getDataBySlug(t))).data?.[0];if(v?.id){let T=await u(this.productService.getData({category_id:v.id}));i.set(T.data?.slice(0,4)||[])}}catch(l){console.log(`Category ${t} not found or error`,l)}}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=C({type:e,selectors:[["app-products-index-page"]],decls:6,vars:1,consts:[[1,"min-h-screen","bg-base-100","py-10","px-4"],[1,"max-w-7xl","mx-auto"],[1,"text-4xl","font-bold","text-center","mb-12"],[1,"flex","justify-center","p-10"],[1,"loading","loading-spinner","loading-lg"],[1,"mb-16"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-2xl","font-bold","border-l-4","border-primary","pl-4"],["routerLink","/products/category/celulares",1,"btn","btn-sm","btn-ghost"],[1,"fas","fa-arrow-right","ml-1"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-4","gap-6"],[1,"alert","alert-info"],[1,"text-2xl","font-bold","border-l-4","border-secondary","pl-4"],["routerLink","/products/category/repuestos",1,"btn","btn-sm","btn-ghost"],[3,"product"],[1,"fas","fa-info-circle"]],template:function(i,l){i&1&&(o(0,"div",0)(1,"div",1)(2,"h1",2),a(3,"Nuestros Productos"),n(),s(4,D,2,0,"div",3)(5,$,18,2),n()()),i&2&&(d(4),m(l.loading()?4:5))},dependencies:[y,P,S],encapsulation:2})};export{I as ProductsIndexPage};
