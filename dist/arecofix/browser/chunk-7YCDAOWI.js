import{R as n,bc as s,ma as d,oa as u}from"./chunk-CVZCBU36.js";import{a as c,b as i}from"./chunk-VOSPIT4N.js";var m=class o{cartItems=d([]);constructor(){let t=localStorage.getItem("cart");t&&this.cartItems.set(JSON.parse(t)),u(()=>{localStorage.setItem("cart",JSON.stringify(this.cartItems()))})}addToCart(t){this.cartItems.update(e=>e.find(r=>r.product.id===t.id)?e.map(r=>r.product.id===t.id?i(c({},r),{quantity:r.quantity+1}):r):[...e,{product:t,quantity:1}]),console.log("Product added to cart:",t.name)}removeFromCart(t){this.cartItems.update(e=>e.filter(a=>a.product.id!==t))}updateQuantity(t,e){if(e<=0){this.removeFromCart(t);return}this.cartItems.update(a=>a.map(r=>r.product.id===t?i(c({},r),{quantity:e}):r))}clearCart(){this.cartItems.set([])}totalItems=s(()=>this.cartItems().reduce((t,e)=>t+e.quantity,0));totalPrice=s(()=>this.cartItems().reduce((t,e)=>t+e.product.price*e.quantity,0));static \u0275fac=function(e){return new(e||o)};static \u0275prov=n({token:o,factory:o.\u0275fac,providedIn:"root"})};export{m as a};
