import{a as ie}from"./chunk-5KHGYN6K.js";import"./chunk-YSO73UTU.js";import{b as A,d as O,g as q,i as H,l as G,m as z,n as J,o as K,s as Q}from"./chunk-ROKQGBVC.js";import{a as te}from"./chunk-RXMBBHWW.js";import{a as U,b as X}from"./chunk-6NIKX3VO.js";import{a as ee}from"./chunk-QVOMAY4Q.js";import"./chunk-5HH3CGAW.js";import{a as Y,b as Z,c as $}from"./chunk-WC62EBFN.js";import{a as V}from"./chunk-W47BFGN6.js";import"./chunk-RZKRXCEK.js";import{d as j}from"./chunk-JJOGRHHJ.js";import"./chunk-XFT2X3PC.js";import{a as I,c as B}from"./chunk-CYIQDGHK.js";import"./chunk-BVKNO7TK.js";import"./chunk-RZVF5N6E.js";import{a as L}from"./chunk-T7AXESXA.js";import{p as W}from"./chunk-BKULT56L.js";import{Cb as c,Eb as g,Kb as w,La as s,Mb as o,Nb as E,Ob as D,Qb as x,Rb as _,Sb as b,Y as m,Za as T,ba as k,ca as P,jb as u,jc as N,kb as f,nb as h,oa as y,ob as v,pb as C,qb as t,rb as n,sb as p,yb as F}from"./chunk-YATSW66L.js";import{a as S,c as R}from"./chunk-VOSPIT4N.js";var M=(a,i)=>i.id;function ae(a,i){if(a&1){let r=F();t(0,"li")(1,"button",20),c("click",function(){let d=k(r).$implicit,l=g();return l.filterState.category=d.id,P(l.applyFilters())}),o(2),n()()}if(a&2){let r=i.$implicit,e=g();s(),w("text-blue-600",e.filterState.category===r.id)("font-semibold",e.filterState.category===r.id)("bg-blue-50",e.filterState.category===r.id),s(),D(" ",r.name," ")}}function oe(a,i){if(a&1&&(t(0,"option",23),o(1),n()),a&2){let r=i.$implicit;C("value",r.id),s(),E(r.name)}}function re(a,i){if(a&1&&(o(0," Mostrando "),t(1,"span",44),o(2),n(),o(3," resultados ")),a&2){let r=g();s(2),E(r.productsRs.value().items)}}function le(a,i){a&1&&o(0," Cargando... ")}function se(a,i){a&1&&p(0,"is-loading")}function de(a,i){a&1&&p(0,"is-error")}function pe(a,i){a&1&&p(0,"is-empty")}function me(a,i){if(a&1&&p(0,"product-card",46),a&2){let r=i.$implicit;C("product",r)}}function ce(a,i){if(a&1&&(t(0,"div",47),p(1,"pagination",48),n()),a&2){let r=g(3);s(),C("pages",r.productsRs.value().pages)("currentPage",r.paginationService.currentPage())}}function ge(a,i){if(a&1&&(t(0,"div",45),h(1,me,1,1,"product-card",46,M),n(),u(3,ce,2,2,"div",47)),a&2){let r=g(2);s(),v(r.productsRs.value().data),s(2),f(r.paginationData()?3:-1)}}function ue(a,i){if(a&1&&u(0,pe,1,0,"is-empty")(1,ge,4,1),a&2){let r=g();f(r.productsRs.value().data.length===0?0:1)}}var ne=class a{whatsappNumber=L.contact.whatsappNumber;router=m(B);route=m(I);categoryService=m(V);productService=m(ee);brandRepo=m(ie);paginationService=m(U);categories=y([]);brands=y([]);filterState={search:"",category:"all",brand:"all",maxPrice:null,sort:"relevance"};activeFilter=y(S({},this.filterState));productsRs=j({stream:()=>{let i=this.activeFilter(),e={_page:this.paginationService.currentPage()||1,_per_page:12};return i.search&&(e.name=i.search),i.category!=="all"&&(e.category_id=i.category),i.brand!=="all"&&(e.brand_id=i.brand),i.maxPrice&&(e.price=i.maxPrice),this.productService.getData(e)}});paginationData=N(()=>{let i=this.productsRs.value();if(!i)return null;let d=i,{data:r}=d;return R(d,["data"])});async ngOnInit(){await this.loadCategories(),await this.loadBrands()}async loadCategories(){this.categoryService.getData({_page:1,_per_page:100}).subscribe(i=>{this.categories.set(i.data)})}async loadBrands(){try{let i=await this.brandRepo.findAll({column:"name",ascending:!0});this.brands.set(i)}catch(i){console.error("Error loading brands",i)}}applyFilters(){this.activeFilter.set(S({},this.filterState)),this.router.navigate([],{relativeTo:this.route,queryParams:{_page:1},queryParamsHandling:"merge"})}goToHome(){this.router.navigate(["/"])}static \u0275fac=function(r){return new(r||a)};static \u0275cmp=T({type:a,selectors:[["app-repuestos"]],decls:95,vars:12,consts:[[1,"relative","bg-gray-900","text-white","py-12","mb-8","overflow-hidden"],[1,"absolute","inset-0","opacity-20","bg-gradient-to-r","from-blue-900","to-indigo-900"],[1,"absolute","top-0","right-0","-mr-20","-mt-20","w-64","h-64","rounded-full","bg-blue-500","opacity-10","blur-3xl"],[1,"absolute","bottom-0","left-0","-ml-20","-mb-20","w-64","h-64","rounded-full","bg-indigo-500","opacity-10","blur-3xl"],[1,"relative","container","mx-auto","px-4"],[1,"max-w-3xl"],[1,"text-sm","breadcrumbs","text-gray-300","mb-4"],["routerLink","/"],["routerLink","/products"],[1,"font-semibold","text-white"],[1,"text-4xl","md:text-5xl","font-bold","mb-4","tracking-tight"],[1,"text-lg","text-gray-300","max-w-2xl","leading-relaxed"],[1,"container","mx-auto","px-4","pb-16"],[1,"flex","flex-col","lg:flex-row","gap-8"],[1,"hidden","lg:block","w-64","flex-shrink-0"],[1,"sticky","top-24","space-y-8"],[1,"bg-white","dark:bg-gray-800","rounded-xl","shadow-sm","border","border-gray-100","dark:border-gray-700","p-6"],[1,"font-bold","text-gray-900","dark:text-white","mb-4","text-lg"],["type","text","placeholder","Ej: Pantalla iPhone 12",1,"w-full","rounded-lg","border","border-gray-300","dark:border-gray-600","bg-white","dark:bg-gray-700","text-gray-900","dark:text-white","px-3","py-2","focus:outline-none","focus:ring-2","focus:ring-blue-600",3,"ngModelChange","ngModel"],[1,"space-y-2"],[1,"w-full","text-left","block","px-3","py-2","rounded-lg","text-gray-600","dark:text-gray-300","hover:bg-gray-50","dark:hover:bg-gray-700","hover:text-blue-600","transition-colors",3,"click"],[1,"w-full","rounded-lg","border","border-gray-300","dark:border-gray-600","bg-white","dark:bg-gray-700","text-gray-900","dark:text-white","px-3","py-2","focus:outline-none","focus:ring-2","focus:ring-blue-600",3,"ngModelChange","ngModel"],["value","all"],[3,"value"],[1,"space-y-4"],["type","number","min","0","placeholder","Ej: 20000",1,"w-full","rounded-lg","border","border-gray-300","dark:border-gray-600","bg-white","dark:bg-gray-700","text-gray-900","dark:text-white","px-3","py-2","focus:outline-none","focus:ring-2","focus:ring-blue-600",3,"ngModelChange","ngModel"],[1,"flex-1"],[1,"flex","flex-wrap","items-center","justify-between","mb-6","bg-white","dark:bg-gray-800","p-4","rounded-xl","shadow-sm","border","border-gray-100","dark:border-gray-700"],[1,"text-gray-600","dark:text-gray-300"],[1,"flex","items-center","gap-4"],[1,"select","select-bordered","select-sm","w-full","max-w-xs","bg-white","dark:bg-gray-700","text-gray-900","dark:text-white","border-gray-300","dark:border-gray-600",3,"ngModelChange","ngModel"],["value","relevance"],["value","price-asc"],["value","price-desc"],["value","rating-desc"],[1,"py-16","bg-indigo-900","text-white","mt-8"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-8","text-center"],[1,"fas","fa-shipping-fast","text-5xl","mb-4","text-indigo-300"],[1,"text-xl","font-bold","mb-2"],[1,"text-indigo-200"],[1,"fas","fa-shield-check","text-5xl","mb-4","text-indigo-300"],[1,"fas","fa-tags","text-5xl","mb-4","text-indigo-300"],[1,"fas","fa-headset","text-5xl","mb-4","text-indigo-300"],[1,"font-semibold","text-gray-900","dark:text-white"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","gap-6"],[3,"product"],[1,"mt-12","flex","justify-center"],[3,"pages","currentPage"]],template:function(r,e){r&1&&(t(0,"div",0),p(1,"div",1)(2,"div",2)(3,"div",3),t(4,"div",4)(5,"div",5)(6,"div",6)(7,"ul")(8,"li")(9,"a",7),o(10,"Inicio"),n()(),t(11,"li")(12,"a",8),o(13,"Productos"),n()(),t(14,"li",9),o(15,"Repuestos"),n()()(),t(16,"h1",10),o(17," Repuestos para Celulares "),n(),t(18,"p",11),o(19," Los mejores repuestos originales y compatibles para tu dispositivo. "),n()()()(),t(20,"div",12)(21,"div",13)(22,"aside",14)(23,"div",15)(24,"div",16)(25,"h3",17),o(26,"Buscar"),n(),t(27,"input",18),b("ngModelChange",function(l){return _(e.filterState.search,l)||(e.filterState.search=l),l}),c("ngModelChange",function(){return e.applyFilters()}),n()(),t(28,"div",16)(29,"h3",17),o(30,"Categor\xEDas"),n(),t(31,"ul",19)(32,"li")(33,"button",20),c("click",function(){return e.filterState.category="all",e.applyFilters()}),o(34," Todas "),n()(),h(35,ae,3,7,"li",null,M),n()(),t(37,"div",16)(38,"h3",17),o(39,"Marcas"),n(),t(40,"select",21),b("ngModelChange",function(l){return _(e.filterState.brand,l)||(e.filterState.brand=l),l}),c("ngModelChange",function(){return e.applyFilters()}),t(41,"option",22),o(42,"Todas"),n(),h(43,oe,2,2,"option",23,M),n()(),t(45,"div",16)(46,"h3",17),o(47,"Precio M\xE1ximo"),n(),t(48,"div",24)(49,"input",25),b("ngModelChange",function(l){return _(e.filterState.maxPrice,l)||(e.filterState.maxPrice=l),l}),c("ngModelChange",function(){return e.applyFilters()}),n()()()()(),t(50,"main",26)(51,"div",27)(52,"div",28),u(53,re,4,1)(54,le,1,0),n(),t(55,"div",29)(56,"select",30),b("ngModelChange",function(l){return _(e.filterState.sort,l)||(e.filterState.sort=l),l}),c("ngModelChange",function(){return e.applyFilters()}),t(57,"option",31),o(58,"Relevancia"),n(),t(59,"option",32),o(60,"Precio: menor a mayor"),n(),t(61,"option",33),o(62,"Precio: mayor a menor"),n(),t(63,"option",34),o(64,"Mejor valoraci\xF3n"),n()()()(),u(65,se,1,0,"is-loading")(66,de,1,0,"is-error")(67,ue,2,1),n()()(),t(68,"section",35)(69,"div",36)(70,"div",37)(71,"div"),p(72,"i",38),t(73,"h3",39),o(74,"Env\xEDo R\xE1pido"),n(),t(75,"p",40),o(76,"Entregas en 24-48 horas"),n()(),t(77,"div"),p(78,"i",41),t(79,"h3",39),o(80,"Garant\xEDa"),n(),t(81,"p",40),o(82,"Todos los repuestos con garant\xEDa"),n()(),t(83,"div"),p(84,"i",42),t(85,"h3",39),o(86,"Mejores Precios"),n(),t(87,"p",40),o(88,"Precios mayoristas disponibles"),n()(),t(89,"div"),p(90,"i",43),t(91,"h3",39),o(92,"Asesoramiento"),n(),t(93,"p",40),o(94,"Soporte t\xE9cnico incluido"),n()()()()()),r&2&&(s(27),x("ngModel",e.filterState.search),s(6),w("text-blue-600",e.filterState.category==="all")("font-semibold",e.filterState.category==="all")("bg-blue-50",e.filterState.category==="all"),s(2),v(e.categories()),s(5),x("ngModel",e.filterState.brand),s(3),v(e.brands()),s(6),x("ngModel",e.filterState.maxPrice),s(4),f(e.productsRs.hasValue()?53:54),s(3),x("ngModel",e.filterState.sort),s(9),f(e.productsRs.isLoading()?65:e.productsRs.error()?66:e.productsRs.hasValue()?67:-1))},dependencies:[W,Q,z,J,A,H,G,O,K,q,Y,Z,$,te,X],encapsulation:2})};export{ne as RepuestosComponent};
