import{l as E}from"./chunk-ECZXGVFH.js";import"./chunk-P2JKZEUE.js";import"./chunk-XIH5YEDL.js";import"./chunk-M7RWEG4P.js";import{o as S}from"./chunk-YNFFGNY6.js";import"./chunk-Q44XB7TV.js";import{Ab as e,Bb as t,Cb as d,Mb as h,Ua as o,Vb as i,W as p,Wb as m,Xb as c,Yb as C,gb as f,hc as _,ma as s,tb as x,ub as g,xb as u,yb as b,zb as v}from"./chunk-DX2LKEMG.js";import"./chunk-C6Q5SG76.js";var A=a=>["/admin/clients",a],N=(a,l)=>l.id;function I(a,l){a&1&&(e(0,"tr")(1,"td",8),i(2,"Cargando..."),t()())}function P(a,l){a&1&&(e(0,"tr")(1,"td",8),i(2,"No hay clientes registrados."),t()())}function w(a,l){if(a&1&&(e(0,"tr")(1,"td")(2,"div",9),i(3),t(),e(4,"div",10),i(5),t(),e(6,"div",11),i(7),t()(),e(8,"td")(9,"div"),d(10,"i",12),i(11),t()(),e(12,"td")(13,"div",13),i(14),t()(),e(15,"td")(16,"span",14),i(17,"Activo"),t()(),e(18,"td")(19,"a",15),d(20,"i",16),t()()()),a&2){let n=l.$implicit;o(3),C("",n.first_name," ",n.last_name),o(2),m(n.email),o(2),c("DNI: ",n.dni||"N/A"),o(4),c(" ",n.phone||"N/A"),o(3),m(n.address||"N/A"),o(5),v("routerLink",_(7,A,n.id))}}function D(a,l){if(a&1&&u(0,w,21,9,"tr",null,N),a&2){let n=h();b(n.clients())}}var y=class a{auth=p(E);clients=s([]);loading=s(!0);async ngOnInit(){await this.loadClients()}async loadClients(){this.loading.set(!0);let l=this.auth.getSupabaseClient(),{data:n,error:r}=await l.from("profiles").select("*").eq("role","user").order("created_at",{ascending:!1});n&&this.clients.set(n),this.loading.set(!1)}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=f({type:a,selectors:[["app-admin-clients-page"]],decls:25,vars:1,consts:[[1,"flex","justify-between","items-center","mb-6"],[1,"text-2xl","font-bold","text-green-600"],["routerLink","/admin/clients/new",1,"btn","btn-primary"],[1,"fas","fa-plus","mr-2"],[1,"bg-base-100","rounded-lg","shadow","overflow-hidden","text-base-content"],[1,"overflow-x-auto"],[1,"table","w-full"],[1,"text-base-content"],["colspan","5",1,"text-center","py-4"],[1,"font-bold"],[1,"text-sm","opacity-50"],[1,"text-xs","text-gray-400"],[1,"fas","fa-phone","text-xs","mr-1"],[1,"text-sm"],[1,"badge","badge-ghost"],[1,"btn","btn-sm","btn-ghost",3,"routerLink"],[1,"fas","fa-edit"]],template:function(n,r){n&1&&(e(0,"div",0)(1,"h1",1),i(2,"Clientes"),t(),e(3,"a",2),d(4,"i",3),i(5," Nuevo Cliente "),t()(),e(6,"div",4)(7,"div",5)(8,"table",6)(9,"thead")(10,"tr",7)(11,"th"),i(12,"Nombre"),t(),e(13,"th"),i(14,"Contacto"),t(),e(15,"th"),i(16,"Ubicaci\xF3n"),t(),e(17,"th"),i(18,"Estado"),t(),e(19,"th"),i(20,"Acciones"),t()()(),e(21,"tbody"),x(22,I,3,0,"tr")(23,P,3,0,"tr")(24,D,2,0),t()()()()),n&2&&(o(22),g(r.loading()?22:r.clients().length===0?23:24))},dependencies:[S],encapsulation:2})};export{y as AdminClientsPage};
