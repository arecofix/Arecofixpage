import{a as q,b as J,c as K}from"./chunk-IJS43ZBZ.js";import{a as U,d as k}from"./chunk-Z3WVGUK4.js";import{a as X}from"./chunk-YAAVV4UE.js";import{a as $}from"./chunk-LYLVQZHT.js";import"./chunk-FNOMVEKC.js";import{a as O}from"./chunk-W6CDOMGN.js";import"./chunk-VGQVHFGG.js";import"./chunk-FOCRVBU7.js";import"./chunk-NIOBXWFE.js";import{a as N}from"./chunk-FNG3N4ES.js";import{e as z,r as H}from"./chunk-ZF2WZNXG.js";import{Ab as S,Bb as a,Cb as r,Db as c,Jb as V,K as h,Nb as B,Pb as s,Qa as R,S as I,Va as l,X as d,Xb as n,Yb as x,Zb as f,aa as j,ba as F,ca as g,da as y,ea as L,hb as M,ic as A,o as D,u,ub as m,v as T,vb as p,vc as G,xb as _,yb as b,zb as P}from"./chunk-J6ZEXR2D.js";import{a as w,b as E}from"./chunk-7CGTOI24.js";var v=class i{fallbackProducts=[{id:"1001",category_id:"0",slug:"joystick-play-station-4",name:"Joystick Play Station 4",description:"En venta Joystick nuevo de play station 4 DUALSHOCK",price:29800,featured:!0,image_url:"assets/img/products/joystick-ps4-v2.webp"},{id:"1002",category_id:"0",slug:"iphone-8-plus",name:"iPhone 8 Plus",description:"En venta iPhone 8 Plus vidrio astillado no afecta su uso",price:96e3,featured:!0,image_url:"assets/img/products/iph8plus.webp"},{id:"1003",category_id:"0",slug:"iphone-x",name:"iPhone X",description:"En venta celular iphone x a wifi",price:149e3,featured:!0,image_url:"assets/img/products/iphx.webp"}];getFallbackProduct(e){return this.fallbackProducts.find(t=>t.slug===e)}getAllFallbackProducts(){return[...this.fallbackProducts]}isFallbackProduct(e){return this.fallbackProducts.some(t=>t.slug===e)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})};var W=()=>[1,2,3,4,5];function Y(i,e){i&1&&c(0,"is-loading")}function ee(i,e){i&1&&c(0,"is-empty")}function te(i,e){i&1&&c(0,"is-error")}function ie(i,e){if(i&1&&n(0),i&2){let t,o=s(2);f(" ",((t=o.categoryRs.value())==null?null:t.name)||"General"," ")}}function re(i,e){i&1&&n(0," ... ")}function ae(i,e){if(i&1&&(a(0,"div",31),c(1,"img",32),r()),i&2){let t=e.$implicit,o=s(3);l(),S("src",t,R)("alt",o.product().name)}}function ne(i,e){if(i&1&&(a(0,"div",14),b(1,ae,2,2,"div",31,_),r()),i&2){let t=s(2);l(),P(t.product().gallery_urls)}}function oe(i,e){i&1&&(g(),a(0,"svg",20),c(1,"path",33),r())}function le(i,e){if(i&1&&(a(0,"li"),n(1),r()),i&2){let t=s(2);l(),f("SKU: ",t.product().sku)}}function ce(i,e){if(i&1){let t=V();a(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li")(4,"div",3)(5,"a",4),n(6,"Productos"),r(),g(),a(7,"svg",5),c(8,"path",6),r()()(),y(),a(9,"li")(10,"div",3)(11,"span",7),m(12,ie,1,1)(13,re,1,0),r(),g(),a(14,"svg",5),c(15,"path",6),r()()(),y(),a(16,"li",8)(17,"a",9),n(18),r()()()(),a(19,"div",10)(20,"div",11)(21,"div",12),c(22,"img",13),r(),m(23,ne,3,0,"div",14),r(),a(24,"div",15)(25,"h1",16),n(26),r(),a(27,"div",17)(28,"h2",18),n(29,"Product information"),r(),a(30,"p",19),n(31),r()(),a(32,"div",17)(33,"h3",18),n(34,"Reviews"),r(),a(35,"div",3)(36,"div",3),b(37,oe,2,0,":svg:svg",20,_),r(),a(39,"p",18),n(40,"5 out of 5 stars"),r(),a(41,"a",21),n(42,"Ver rese\xF1as"),r()()(),a(43,"div",22)(44,"h3",18),n(45,"Description"),r(),a(46,"p",23),n(47),r()(),a(48,"div",24)(49,"h3",25),n(50,"Caracter\xEDsticas"),r(),a(51,"div",26)(52,"ul",27)(53,"li"),n(54,"Garant\xEDa: 3 meses"),r(),m(55,le,2,1,"li"),a(56,"li"),n(57,"Env\xEDo a todo el pa\xEDs"),r(),a(58,"li"),n(59,"Stock disponible"),r()()()(),a(60,"form",28)(61,"button",29),B("click",function(){j(t);let Z=s();return F(Z.addToCart())}),n(62," Agregar al Carrito "),r(),a(63,"button",30),n(64," Agregar a Favoritos "),r()()()()()}if(i&2){let t=s();l(12),p(t.categoryRs.isLoading()?13:12),l(6),x(t.product().name),l(4),S("ngSrc",t.product().image_url||"assets/img/no-image.png")("alt",t.product().name)("priority",!0),l(),p(t.product().gallery_urls&&t.product().gallery_urls.length>0?23:-1),l(3),x(t.product().name),l(5),f("$",t.product().price),l(6),P(A(10,W)),l(10),x(t.product().description||"Sin descripci\xF3n detallada."),l(8),p(t.product().sku?55:-1)}}var C=class i{route=d(N);categoryService=d(O);productService=d(X);location=d(z);fallbackService=d(v);productRs=k({stream:()=>T([this.route.params.pipe(u(({productSlug:e})=>e)),this.route.queryParams.pipe(u(e=>+e._page||1))]).pipe(h(([e])=>this.productService.getData({_page:1,slug:e}).pipe(u(t=>{let o=this.fallbackService.getFallbackProduct(e);return(!t.data||t.data.length===0)&&o?E(w({},t),{data:[o],items:1,pages:1}):t}))))});product=G(()=>{let e=this.productRs.value();return!e||!e.data||e.data.length===0?null:e.data[0]});injector=d(L);categoryRs=k({stream:()=>U(this.product,{injector:this.injector}).pipe(h(e=>e?this.categoryService.getById(e.category_id):D(null)))});goBack(){this.location.back()}cartService=d($);addToCart(){let e=this.product();e&&this.cartService.addToCart(e)}shareProduct(){let e=this.product();if(!e)return;let t={title:e.name,text:`Mira este producto: ${e.name}`,url:window.location.href};navigator.share?navigator.share(t).catch(o=>console.error("Error sharing:",o)):navigator.clipboard.writeText(window.location.href).then(()=>alert("Enlace copiado al portapapeles!")).catch(o=>console.error("Error copying to clipboard:",o))}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=M({type:i,selectors:[["app-products-details-page"]],decls:4,vars:1,consts:[[1,"bg-white","dark:bg-gray-900","pt-6"],["aria-label","Breadcrumb"],["role","list",1,"mx-auto","flex","max-w-2xl","items-center","space-x-2","px-4","sm:px-6","lg:max-w-7xl","lg:px-8"],[1,"flex","items-center"],["routerLink","/products",1,"mr-2","text-sm","font-medium","text-gray-900","dark:text-gray-300"],["viewBox","0 0 16 20","width","16","height","20","fill","currentColor","aria-hidden","true",1,"h-5","w-4","text-gray-300"],["d","M5.697 4.34L8.98 16.532h1.327L7.025 4.341H5.697z"],[1,"mr-2","text-sm","font-medium","text-gray-900","dark:text-gray-300"],[1,"text-sm"],["href","#","aria-current","page",1,"font-medium","text-gray-500","hover:text-gray-600","dark:text-gray-400"],[1,"mx-auto","mt-6","max-w-2xl","px-4","sm:px-6","lg:max-w-7xl","lg:px-8","lg:grid","lg:grid-cols-2","lg:gap-x-8"],[1,"lg:max-w-lg","lg:self-end"],[1,"w-full","max-h-[500px]","overflow-hidden","rounded-lg","bg-gray-100","dark:bg-gray-800","flex","items-center","justify-center","relative"],["width","500","height","500",1,"w-full","h-auto","max-h-[500px]","object-contain","object-center",3,"ngSrc","alt","priority"],[1,"mt-4","grid","grid-cols-4","gap-4"],[1,"mt-10","px-4","sm:mt-16","sm:px-0","lg:mt-0"],[1,"text-3xl","font-bold","tracking-tight","text-gray-900","dark:text-white"],[1,"mt-3"],[1,"sr-only"],[1,"text-3xl","tracking-tight","text-gray-900","dark:text-white"],["viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"size-5","shrink-0","text-yellow-500"],["href","#",1,"ml-3","text-sm","font-medium","text-indigo-600","hover:text-indigo-500","dark:text-indigo-400"],[1,"mt-6"],[1,"text-base","text-gray-700","dark:text-gray-300"],[1,"mt-10","border-t","border-gray-200","dark:border-gray-700","pt-10"],[1,"text-sm","font-medium","text-gray-900","dark:text-white"],[1,"mt-4","prose","prose-sm","text-gray-500","dark:text-gray-400"],["role","list"],[1,"mt-10"],["type","button",1,"flex","w-full","items-center","justify-center","rounded-md","border","border-transparent","bg-indigo-600","px-8","py-3","text-base","font-medium","text-white","hover:bg-indigo-700","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-2","focus:outline-hidden",3,"click"],["type","button",1,"mt-4","flex","w-full","items-center","justify-center","rounded-md","border","border-gray-300","dark:border-gray-600","bg-transparent","px-8","py-3","text-base","font-medium","text-gray-900","dark:text-gray-300","hover:bg-gray-50","dark:hover:bg-gray-800"],[1,"aspect-square","rounded-lg","overflow-hidden","bg-gray-100","dark:bg-gray-800"],[1,"h-full","w-full","object-cover","object-center",3,"src","alt"],["fill-rule","evenodd","d","M10.868 2.884c-.321-.772-1.415-.772-1.736 0l-1.83 4.401-4.753.381c-.833.067-1.171 1.107-.536 1.651l3.62 3.102-1.106 4.637c-.194.813.691 1.456 1.405 1.02L10 15.591l4.069 2.485c.713.436 1.598-.207 1.404-1.02l-1.106-4.637 3.62-3.102c.635-.544.297-1.584-.536-1.65l-4.752-.382-1.831-4.401Z","clip-rule","evenodd"]],template:function(t,o){t&1&&m(0,Y,1,0,"is-loading")(1,ee,1,0,"is-empty")(2,te,1,0,"is-error")(3,ce,65,11,"div",0),t&2&&p(o.productRs.isLoading()?0:o.productRs.hasValue()?o.productRs.error()?2:o.productRs.hasValue()?3:-1:1)},dependencies:[q,J,K,H],encapsulation:2,changeDetection:0})},Se=C;export{C as ProductsDetailsPage,Se as default};
