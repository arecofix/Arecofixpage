import{a as X}from"./chunk-SF6BTA4R.js";import"./chunk-FNOMVEKC.js";import{a as R}from"./chunk-N3IIFNSI.js";import{a as K}from"./chunk-3AW4FRRM.js";import{a as H}from"./chunk-3CSQQBNX.js";import"./chunk-ZAF732JY.js";import{b as W,d as $,g as G,s as J}from"./chunk-LSPUXVBI.js";import"./chunk-4HXPTVC3.js";import"./chunk-773BQMTG.js";import"./chunk-NIOBXWFE.js";import{d as z,e as A}from"./chunk-755N3HP6.js";import{m as B,o as U}from"./chunk-P77MY6VE.js";import{A as E,Ab as h,Bb as P,C as I,Cb as n,Db as i,Eb as s,Kb as k,L as T,Ob as m,Qb as d,Ra as D,T as q,Wa as l,Y as p,Yb as c,_b as v,ac as M,ba as g,bc as N,ca as _,cc as j,ib as Q,kc as O,o as y,oa as x,oc as F,qc as L,s as V,u as S,vb as f,wb as b,zb as C}from"./chunk-OOA6GWW3.js";import"./chunk-7CGTOI24.js";var w=class e{categoryService=p(R);productService=p(H);execute(o,t=4){return this.categoryService.getDataBySlug(o).pipe(T(r=>{let a=r.data?.[0];return a?.id?this.productService.getData({category_id:a.id,_per_page:t}).pipe(S(u=>u.data||[])):y([])}),I(r=>(console.error(`Error fetching products for category ${o}`,r),y([]))))}static \u0275fac=function(t){return new(t||e)};static \u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})};var te=e=>["/productos/detalle",e],Z=(e,o)=>o.id;function ie(e,o){e&1&&(n(0,"div",11),s(1,"span",13),i())}function ne(e,o){if(e&1){let t=k();n(0,"product-card",24),m("quickView",function(a){g(t);let u=d(3);return _(u.openQuickView(a))}),i()}if(e&2){let t=o.$implicit;P("product",t)}}function re(e,o){if(e&1&&(n(0,"div",19),C(1,ne,1,1,"product-card",23,Z),i()),e&2){let t=d(2);l(),h(t.celulares())}}function oe(e,o){e&1&&(n(0,"div",20),s(1,"i",25),n(2,"span"),c(3,"No hay celulares disponibles por el momento."),i()())}function ae(e,o){if(e&1){let t=k();n(0,"product-card",24),m("quickView",function(a){g(t);let u=d(3);return _(u.openQuickView(a))}),i()}if(e&2){let t=o.$implicit;P("product",t)}}function ce(e,o){if(e&1&&(n(0,"div",19),C(1,ae,1,1,"product-card",23,Z),i()),e&2){let t=d(2);l(),h(t.repuestos())}}function le(e,o){e&1&&(n(0,"div",20),s(1,"i",25),n(2,"span"),c(3,"No hay repuestos disponibles por el momento."),i()())}function se(e,o){if(e&1&&(n(0,"section",14)(1,"div",15)(2,"h2",16),c(3,"Celulares"),i(),n(4,"a",17),c(5,"Ver todos "),s(6,"i",18),i()(),f(7,re,3,0,"div",19)(8,oe,4,0,"div",20),i(),n(9,"section")(10,"div",15)(11,"h2",21),c(12,"Repuestos"),i(),n(13,"a",22),c(14,"Ver todos "),s(15,"i",18),i()(),f(16,ce,3,0,"div",19)(17,le,4,0,"div",20),i()),e&2){let t=d();l(7),b(t.celulares().length>0?7:8),l(9),b(t.repuestos().length>0?16:17)}}function de(e,o){e&1&&(n(0,"span",38),s(1,"i",45),c(2," En Stock "),i())}function ue(e,o){e&1&&(n(0,"span",39),s(1,"i",29),c(2," Agotado "),i())}function me(e,o){if(e&1){let t=k();n(0,"div",26),m("click",function(){g(t);let a=d();return _(a.closeQuickView())}),n(1,"div",27),m("click",function(a){return g(t),_(a.stopPropagation())}),n(2,"button",28),m("click",function(){g(t);let a=d();return _(a.closeQuickView())}),s(3,"i",29),i(),n(4,"div",30)(5,"div",31),s(6,"img",32),i(),n(7,"div",33)(8,"span",34),c(9),i(),n(10,"h2",35),c(11),i(),n(12,"div",36)(13,"span",37),c(14),F(15,"number"),i(),f(16,de,3,0,"span",38)(17,ue,3,0,"span",39),i(),n(18,"p",40),c(19),i(),n(20,"div",41)(21,"button",42),s(22,"i",43),c(23," Agregar al Carrito "),i(),n(24,"a",44),m("click",function(){g(t);let a=d();return _(a.closeQuickView())}),c(25," Ver Detalles "),i()()()()()()}if(e&2){let t,r=d();l(6),P("src",r.quickViewProduct().image_url||"assets/img/no-image.png",D)("alt",r.quickViewProduct().name),l(3),v(" ",((t=r.quickViewProduct().category)==null?null:t.name)||"Producto"," "),l(2),v(" ",r.quickViewProduct().name," "),l(3),v(" $",L(15,8,r.quickViewProduct().price,"1.0-0")," "),l(2),b(r.quickViewProduct().stock>0?16:17),l(3),v(" ",r.quickViewProduct().description," "),l(5),P("routerLink",O(11,te,r.quickViewProduct().slug))}}var Y=class e{getProductsUseCase=p(w);seoService=p(X);router=p(z);celulares=x([]);repuestos=x([]);loading=x(!0);searchQuery="";quickViewProduct=x(null);isQuickViewOpen=x(!1);ngOnInit(){this.setSeoData(),this.loadData()}setSeoData(){this.seoService.setPageData("Productos - Celulares y Repuestos","Explora nuestra selecci\xF3n de celulares nuevos y usados, y encuentra los repuestos que necesitas en Arecofix.","https://arecofix.com.ar/assets/img/brands/logo/logo-normal1.PNG")}async loadData(){try{let[o,t]=await V(E([this.getProductsUseCase.execute("celulares"),this.getProductsUseCase.execute("repuestos")]));this.celulares.set(o),this.repuestos.set(t)}catch(o){console.error("Error loading products",o)}finally{this.loading.set(!1)}}onSearch(){this.searchQuery.trim()&&this.router.navigate(["/products/all"],{queryParams:{q:this.searchQuery}})}openQuickView(o){this.quickViewProduct.set(o),this.isQuickViewOpen.set(!0)}closeQuickView(){this.isQuickViewOpen.set(!1),this.quickViewProduct.set(null)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=Q({type:e,selectors:[["app-products-index-page"]],decls:16,vars:3,consts:[[1,"min-h-screen","bg-base-100","py-10","px-4"],[1,"max-w-7xl","mx-auto"],[1,"flex","flex-col","md:flex-row","justify-center","items-center","gap-4","mb-4"],[1,"text-4xl","font-bold","text-center"],["routerLink","/productos",1,"btn","btn-primary","btn-outline","btn-sm"],[1,"fas","fa-list","ml-1"],[1,"flex","justify-center","mb-12"],[1,"relative","w-full","max-w-md"],["type","text","placeholder","Buscar producto...",1,"input","input-bordered","w-full","pl-10","shadow-lg",3,"ngModelChange","keyup.enter","ngModel"],[1,"absolute","right-2","top-1/2","-translate-y-1/2","btn","btn-ghost","btn-sm","btn-circle",3,"click"],[1,"fas","fa-search","text-base-content/50"],[1,"flex","justify-center","p-10"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","p-4","bg-black/50","backdrop-blur-sm"],[1,"loading","loading-spinner","loading-lg"],[1,"mb-16"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-2xl","font-bold","border-l-4","border-primary","pl-4"],["routerLink","/productos/categoria/celulares",1,"btn","btn-sm","btn-ghost"],[1,"fas","fa-arrow-right","ml-1"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-4","gap-6"],[1,"alert","alert-info"],[1,"text-2xl","font-bold","border-l-4","border-secondary","pl-4"],["routerLink","/productos/categoria/repuestos",1,"btn","btn-sm","btn-ghost"],[3,"product"],[3,"quickView","product"],[1,"fas","fa-info-circle"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","p-4","bg-black/50","backdrop-blur-sm",3,"click"],[1,"bg-white","dark:bg-gray-800","rounded-2xl","shadow-2xl","max-w-4xl","w-full","max-h-[90vh]","overflow-y-auto","relative","animate-fade-in-up",3,"click"],[1,"absolute","top-4","right-4","btn","btn-circle","btn-sm","btn-ghost","z-10",3,"click"],[1,"fas","fa-times"],[1,"grid","grid-cols-1","md:grid-cols-2"],[1,"bg-gray-50","dark:bg-gray-700","p-8","flex","items-center","justify-center"],[1,"max-h-96","object-contain",3,"src","alt"],[1,"p-8","flex","flex-col","h-full"],[1,"text-sm","text-indigo-600","font-bold","uppercase","tracking-wider","mb-2"],[1,"text-3xl","font-bold","text-gray-900","dark:text-white","mb-4"],[1,"flex","items-center","gap-4","mb-6"],[1,"text-3xl","font-bold","text-gray-900","dark:text-white"],[1,"badge","badge-success","gap-2"],[1,"badge","badge-error","gap-2"],[1,"text-gray-600","dark:text-gray-300","text-lg","mb-8","leading-relaxed"],[1,"mt-auto","flex","gap-4"],[1,"btn","btn-primary","flex-1"],[1,"fas","fa-shopping-cart","mr-2"],[1,"btn","btn-outline","flex-1",3,"click","routerLink"],[1,"fas","fa-check"]],template:function(t,r){t&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),c(4,"Nuestros Productos"),i(),n(5,"a",4),c(6," Ver Cat\xE1logo Completo "),s(7,"i",5),i()(),n(8,"div",6)(9,"div",7)(10,"input",8),j("ngModelChange",function(u){return N(r.searchQuery,u)||(r.searchQuery=u),u}),m("keyup.enter",function(){return r.onSearch()}),i(),n(11,"button",9),m("click",function(){return r.onSearch()}),s(12,"i",10),i()()(),f(13,ie,2,0,"div",11)(14,se,18,2),i(),f(15,me,26,13,"div",12),i()),t&2&&(l(10),M("ngModel",r.searchQuery),l(3),b(r.loading()?13:14),l(2),b(r.isQuickViewOpen()&&r.quickViewProduct()?15:-1))},dependencies:[U,A,K,J,W,$,G,B],encapsulation:2})};export{Y as ProductsIndexPage};
