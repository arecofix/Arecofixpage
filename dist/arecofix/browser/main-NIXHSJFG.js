import{b as Pc,d as Cc,e as kc,f as Dc,g as Nc,h as xc,p as Oc,r as Vc}from"./chunk-D7NQUWND.js";import{b as Rc}from"./chunk-QNGOMWQO.js";import{a as yc,c as wc,e as Ec,g as Tc,h as bc,i as Ac,j as Sc}from"./chunk-N3TMG4ML.js";import{b as vc,c as Ic}from"./chunk-KO4BXOND.js";import"./chunk-FNNVO3A6.js";import{Bb as K,Cb as Qi,Db as fc,Ea as Je,Fb as pc,Gb as mc,Hb as gc,M as rc,N as ic,R as sc,Ra as Ft,U as Vt,Ub as _c,W as mt,X as Lt,Z as oc,_ as mr,ba as ac,bb as Wi,bc as Yi,c as qi,ca as cc,cb as Gi,da as Mt,f as tc,g as nc,hb as Hi,i as $i,ia as Se,ib as j,jb as z,kb as Xe,l as yd,la as uc,lb as gr,m as ji,mb as _r,n as zi,na as lc,nb as yr,pa as me,sb as dc,ub as Ki,xa as hc}from"./chunk-J6ZALCGR.js";import{a as H,b as pe,c as ec}from"./chunk-VOSPIT4N.js";var Lc=[{title:"Home",path:"",loadChildren:()=>import("./chunk-XSM44OSS.js")},{title:"Admin",path:"admin",loadChildren:()=>import("./chunk-DVQCTBCL.js")}];var Mc=()=>{};var Bc=function(n){let e=[],t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},vd=function(n){let e=[],t=0,i=0;for(;t<n.length;){let s=n[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){let a=n[t++];e[i++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){let a=n[t++],u=n[t++],h=n[t++],d=((s&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{let a=n[t++],u=n[t++];e[i++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},vr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){let a=n[s],u=s+1<n.length,h=u?n[s+1]:0,d=s+2<n.length,y=d?n[s+2]:0,b=a>>2,A=(a&3)<<4|h>>4,T=(h&15)<<2|y>>6,C=y&63;d||(C=64,u||(T=64)),i.push(t[b],t[A],t[T],t[C])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Bc(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):vd(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){let a=t[n.charAt(s++)],h=s<n.length?t[n.charAt(s)]:0;++s;let y=s<n.length?t[n.charAt(s)]:64;++s;let A=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||h==null||y==null||A==null)throw new Xi;let T=a<<2|h>>4;if(i.push(T),y!==64){let C=h<<4&240|y>>2;if(i.push(C),A!==64){let R=y<<6&192|A;i.push(R)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Xi=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Id=function(n){let e=Bc(n);return vr.encodeByteArray(e,!0)},_n=function(n){return Id(n).replace(/\./g,"")},Ir=function(n){try{return vr.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function es(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var wd=()=>es().__FIREBASE_DEFAULTS__,Ed=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Td=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Ir(n[1]);return e&&JSON.parse(e)},ts=()=>{try{return Mc()||wd()||Ed()||Td()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},ns=n=>{var e,t;return(t=(e=ts())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},qc=n=>{let e=ns(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},rs=()=>{var n;return(n=ts())===null||n===void 0?void 0:n.config},is=n=>{var e;return(e=ts())===null||e===void 0?void 0:e[`_${n}`]};var gt=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}};function _t(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function wr(n){return(await fetch(n,{credentials:"include"})).ok}function $c(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},i=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[_n(JSON.stringify(t)),_n(JSON.stringify(u)),""].join(".")}var gn={};function bd(){let n={prod:[],emulator:[]};for(let e of Object.keys(gn))gn[e]?n.emulator.push(e):n.prod.push(e);return n}function Ad(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var Fc=!1;function Er(n,e){if(typeof window>"u"||typeof document>"u"||!_t(window.location.host)||gn[n]===e||gn[n]||Fc)return;gn[n]=e;function t(T){return`__firebase__banner__${T}`}let i="__firebase__banner",a=bd().prod.length>0;function u(){let T=document.getElementById(i);T&&T.remove()}function h(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function d(T,C){T.setAttribute("width","24"),T.setAttribute("id",C),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function y(){let T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{Fc=!0,u()},T}function b(T,C){T.setAttribute("id",C),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function A(){let T=Ad(i),C=t("text"),R=document.getElementById(C)||document.createElement("span"),N=t("learnmore"),P=document.getElementById(N)||document.createElement("a"),D=t("preprendIcon"),F=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){let $=T.element;h($),b(P,N);let ie=y();d(F,D),$.append(F,R,P,ie),document.body.appendChild($)}a?(R.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function J(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jc(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(J())}function zc(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Wc(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Gc(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Hc(){let n=J();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function yn(){try{return typeof indexedDB=="object"}catch{return!1}}function Kc(){return new Promise((n,e)=>{try{let t=!0,i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}var Sd="FirebaseError",de=class n extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=Sd,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ie.prototype.create)}},Ie=class{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){let i=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?Rd(a,i):"Error",h=`${this.serviceName}: ${u} (${s}).`;return new de(s,h,i)}};function Rd(n,e){return n.replace(Pd,(t,i)=>{let s=e[i];return s!=null?String(s):`<${i}?>`})}var Pd=/\{\$([^}]+)}/g;function Qc(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Re(n,e){if(n===e)return!0;let t=Object.keys(n),i=Object.keys(e);for(let s of t){if(!i.includes(s))return!1;let a=n[s],u=e[s];if(Uc(a)&&Uc(u)){if(!Re(a,u))return!1}else if(a!==u)return!1}for(let s of i)if(!t.includes(s))return!1;return!0}function Uc(n){return n!==null&&typeof n=="object"}function vn(n){let e=[];for(let[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Yc(n,e){let t=new Zi(n,e);return t.subscribe.bind(t)}var Zi=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let s;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");Cd(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:i},s.next===void 0&&(s.next=Ji),s.error===void 0&&(s.error=Ji),s.complete===void 0&&(s.complete=Ji);let a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Cd(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ji(){}var ky=14400*1e3;function Fe(n){return n&&n._delegate?n._delegate:n}var ae=class{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var yt="[DEFAULT]";var ss=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let i=new gt;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{let s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let i=this.normalizeInstanceIdentifier(e?.identifier),s=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Dd(e))try{this.getOrInitializeService({instanceIdentifier:yt})}catch{}for(let[t,i]of this.instancesDeferred.entries()){let s=this.normalizeInstanceIdentifier(t);try{let a=this.getOrInitializeService({instanceIdentifier:s});i.resolve(a)}catch{}}}}clearInstance(e=yt){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=yt){return this.instances.has(e)}getOptions(e=yt){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(let[a,u]of this.instancesDeferred.entries()){let h=this.normalizeInstanceIdentifier(a);i===h&&u.resolve(s)}return s}onInit(e,t){var i;let s=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(s,a);let u=this.instances.get(s);return u&&e(u,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){let i=this.onInitCallbacks.get(t);if(i)for(let s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:kd(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=yt){return this.component?this.component.multipleInstances?e:yt:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function kd(n){return n===yt?void 0:n}function Dd(n){return n.instantiationMode==="EAGER"}var Tr=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new ss(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var Nd=[],M=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(M||{}),xd={debug:M.DEBUG,verbose:M.VERBOSE,info:M.INFO,warn:M.WARN,error:M.ERROR,silent:M.SILENT},Od=M.INFO,Vd={[M.DEBUG]:"log",[M.VERBOSE]:"log",[M.INFO]:"info",[M.WARN]:"warn",[M.ERROR]:"error"},Ld=(n,e,...t)=>{if(e<n.logLevel)return;let i=new Date().toISOString(),s=Vd[e];if(s)console[s](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Pe=class{constructor(e){this.name=e,this._logLevel=Od,this._logHandler=Ld,this._userLogHandler=null,Nd.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in M))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xd[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,M.DEBUG,...e),this._logHandler(this,M.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,M.VERBOSE,...e),this._logHandler(this,M.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,M.INFO,...e),this._logHandler(this,M.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,M.WARN,...e),this._logHandler(this,M.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,M.ERROR,...e),this._logHandler(this,M.ERROR,...e)}};var Md=(n,e)=>e.some(t=>n instanceof t),Jc,Xc;function Fd(){return Jc||(Jc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ud(){return Xc||(Xc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Zc=new WeakMap,as=new WeakMap,eu=new WeakMap,os=new WeakMap,us=new WeakMap;function Bd(n){let e=new Promise((t,i)=>{let s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Ce(n.result)),s()},u=()=>{i(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&Zc.set(t,n)}).catch(()=>{}),us.set(e,n),e}function qd(n){if(as.has(n))return;let e=new Promise((t,i)=>{let s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),s()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});as.set(n,e)}var cs={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return as.get(n);if(e==="objectStoreNames")return n.objectStoreNames||eu.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ce(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function tu(n){cs=n(cs)}function $d(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let i=n.call(br(this),e,...t);return eu.set(i,e.sort?e.sort():[e]),Ce(i)}:Ud().includes(n)?function(...e){return n.apply(br(this),e),Ce(Zc.get(this))}:function(...e){return Ce(n.apply(br(this),e))}}function jd(n){return typeof n=="function"?$d(n):(n instanceof IDBTransaction&&qd(n),Md(n,Fd())?new Proxy(n,cs):n)}function Ce(n){if(n instanceof IDBRequest)return Bd(n);if(os.has(n))return os.get(n);let e=jd(n);return e!==n&&(os.set(n,e),us.set(e,n)),e}var br=n=>us.get(n);function ru(n,e,{blocked:t,upgrade:i,blocking:s,terminated:a}={}){let u=indexedDB.open(n,e),h=Ce(u);return i&&u.addEventListener("upgradeneeded",d=>{i(Ce(u.result),d.oldVersion,d.newVersion,Ce(u.transaction),d)}),t&&u.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),h.then(d=>{a&&d.addEventListener("close",()=>a()),s&&d.addEventListener("versionchange",y=>s(y.oldVersion,y.newVersion,y))}).catch(()=>{}),h}var zd=["get","getKey","getAll","getAllKeys","count"],Wd=["put","add","delete","clear"],ls=new Map;function nu(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ls.get(e))return ls.get(e);let t=e.replace(/FromIndex$/,""),i=e!==t,s=Wd.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||zd.includes(t)))return;let a=async function(u,...h){let d=this.transaction(u,s?"readwrite":"readonly"),y=d.store;return i&&(y=y.index(h.shift())),(await Promise.all([y[t](...h),s&&d.done]))[0]};return ls.set(e,a),a}tu(n=>pe(H({},n),{get:(e,t,i)=>nu(e,t)||n.get(e,t,i),has:(e,t)=>!!nu(e,t)||n.has(e,t)}));var ds=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Gd(t)){let i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}};function Gd(n){let e=n.getComponent();return e?.type==="VERSION"}var fs="@firebase/app",iu="0.13.2";var Ue=new Pe("@firebase/app"),Hd="@firebase/app-compat",Kd="@firebase/analytics-compat",Qd="@firebase/analytics",Yd="@firebase/app-check-compat",Jd="@firebase/app-check",Xd="@firebase/auth",Zd="@firebase/auth-compat",ef="@firebase/database",tf="@firebase/data-connect",nf="@firebase/database-compat",rf="@firebase/functions",sf="@firebase/functions-compat",of="@firebase/installations",af="@firebase/installations-compat",cf="@firebase/messaging",uf="@firebase/messaging-compat",lf="@firebase/performance",hf="@firebase/performance-compat",df="@firebase/remote-config",ff="@firebase/remote-config-compat",pf="@firebase/storage",mf="@firebase/storage-compat",gf="@firebase/firestore",_f="@firebase/ai",yf="@firebase/firestore-compat",vf="firebase",If="11.10.0";var ps="[DEFAULT]",wf={[fs]:"fire-core",[Hd]:"fire-core-compat",[Qd]:"fire-analytics",[Kd]:"fire-analytics-compat",[Jd]:"fire-app-check",[Yd]:"fire-app-check-compat",[Xd]:"fire-auth",[Zd]:"fire-auth-compat",[ef]:"fire-rtdb",[tf]:"fire-data-connect",[nf]:"fire-rtdb-compat",[rf]:"fire-fn",[sf]:"fire-fn-compat",[of]:"fire-iid",[af]:"fire-iid-compat",[cf]:"fire-fcm",[uf]:"fire-fcm-compat",[lf]:"fire-perf",[hf]:"fire-perf-compat",[df]:"fire-rc",[ff]:"fire-rc-compat",[pf]:"fire-gcs",[mf]:"fire-gcs-compat",[gf]:"fire-fst",[yf]:"fire-fst-compat",[_f]:"fire-vertex","fire-js":"fire-js",[vf]:"fire-js-all"};var In=new Map,Ef=new Map,ms=new Map;function su(n,e){try{n.container.addComponent(e)}catch(t){Ue.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function we(n){let e=n.name;if(ms.has(e))return Ue.debug(`There were multiple attempts to register component ${e}.`),!1;ms.set(e,n);for(let t of In.values())su(t,n);for(let t of Ef.values())su(t,n);return!0}function Ut(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ge(n){return n==null?!1:n.settings!==void 0}var Tf={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ze=new Ie("app","Firebase",Tf);var gs=class{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ae("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ze.create("app-deleted",{appName:this._name})}};var et=If;function vs(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let i=Object.assign({name:ps,automaticDataCollectionEnabled:!0},e),s=i.name;if(typeof s!="string"||!s)throw Ze.create("bad-app-name",{appName:String(s)});if(t||(t=rs()),!t)throw Ze.create("no-options");let a=In.get(s);if(a){if(Re(t,a.options)&&Re(i,a.config))return a;throw Ze.create("duplicate-app",{appName:s})}let u=new Tr(s);for(let d of ms.values())u.addComponent(d);let h=new gs(t,i,u);return In.set(s,h),h}function vt(n=ps){let e=In.get(n);if(!e&&n===ps&&rs())return vs();if(!e)throw Ze.create("no-app",{appName:n});return e}function Ar(){return Array.from(In.values())}function G(n,e,t){var i;let s=(i=wf[n])!==null&&i!==void 0?i:n;t&&(s+=`-${t}`);let a=s.match(/\s|\//),u=e.match(/\s|\//);if(a||u){let h=[`Unable to register library "${s}" with version "${e}":`];a&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ue.warn(h.join(" "));return}we(new ae(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}var bf="firebase-heartbeat-database",Af=1,wn="firebase-heartbeat-store",hs=null;function uu(){return hs||(hs=ru(bf,Af,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(wn)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ze.create("idb-open",{originalErrorMessage:n.message})})),hs}async function Sf(n){try{let t=(await uu()).transaction(wn),i=await t.objectStore(wn).get(lu(n));return await t.done,i}catch(e){if(e instanceof de)Ue.warn(e.message);else{let t=Ze.create("idb-get",{originalErrorMessage:e?.message});Ue.warn(t.message)}}}async function ou(n,e){try{let i=(await uu()).transaction(wn,"readwrite");await i.objectStore(wn).put(e,lu(n)),await i.done}catch(t){if(t instanceof de)Ue.warn(t.message);else{let i=Ze.create("idb-set",{originalErrorMessage:t?.message});Ue.warn(i.message)}}}function lu(n){return`${n.name}!${n.options.appId}`}var Rf=1024,Pf=30,_s=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new ys(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{let s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=au();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>Pf){let u=kf(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ue.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=au(),{heartbeatsToSend:i,unsentEntries:s}=Cf(this._heartbeatsCache.heartbeats),a=_n(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Ue.warn(t),""}}};function au(){return new Date().toISOString().substring(0,10)}function Cf(n,e=Rf){let t=[],i=n.slice();for(let s of n){let a=t.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),cu(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),cu(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}var ys=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yn()?Kc().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let t=await Sf(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){let s=await this.read();return ou(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){let s=await this.read();return ou(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}};function cu(n){return _n(JSON.stringify({version:2,heartbeats:n})).length}function kf(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}function Df(n){we(new ae("platform-logger",e=>new ds(e),"PRIVATE")),we(new ae("heartbeat",e=>new _s(e),"PRIVATE")),G(fs,iu,n),G(fs,iu,"esm2017"),G("fire-js","")}Df("");var Nf="firebase",xf="11.10.0";G(Nf,xf,"app");var tt=new rc("ANGULARFIRE2_VERSION");function En(n,e,t){if(e){if(e.length===1)return e[0];let a=e.filter(u=>u.app===t);if(a.length===1)return a[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var qt=(n,e)=>{let t=e?[e]:Ar(),i=[];return t.forEach(s=>{s.container.getProvider(n).instances.forEach(u=>{i.includes(u)||i.push(u)})}),i},Bt=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(Bt||{}),hu=Yi()&&typeof Zone<"u"?Bt.WARN:Bt.SILENT;var Sr=class{zone;delegate;constructor(e,t=nc){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){let s=this.zone,a=function(u){s?s.runGuarded(()=>{e.apply(this,[u])}):e.apply(this,[u])};return this.delegate.schedule(a,t,i)}},nt=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=mt(Se);this.outsideAngular=t.runOutsideAngular(()=>new Sr(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Sr(typeof Zone>"u"?void 0:Zone.current,tc))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=sc({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),du=!1;function Of(n,e){!du&&(hu>Bt.SILENT||Yi())&&(du=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),hu>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function Vf(n){let e=mt(Se,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function It(n){let e=mt(Se,{optional:!0});return e?e.run(()=>n()):n()}var Lf=(n,e,t)=>(...i)=>(e&&setTimeout(e,0),mr(t,()=>It(()=>n.apply(void 0,i)))),wt=(n,e,t)=>(t||=e?Bt.WARN:Bt.VERBOSE,function(){let i,s=arguments,a,u,h;try{a=mt(nt),u=mt(lc),h=mt(oc)}catch{return Of(n,t),n.apply(this,s)}for(let y=0;y<arguments.length;y++)typeof s[y]=="function"&&(e&&(i||=It(()=>u.add())),s[y]=Lf(s[y],i,h));let d=Vf(()=>n.apply(this,s));return e?d instanceof qi?d.pipe(zi(a.outsideAngular),ji(a.insideAngular),Rc(h)):d instanceof Promise?It(()=>{let y=u.add();return new Promise((b,A)=>{d.then(T=>mr(h,()=>It(()=>b(T))),T=>mr(h,()=>It(()=>A(T)))).finally(y)})}):typeof d=="function"&&i?function(){return setTimeout(i,0),d.apply(this,arguments)}:It(()=>d):d instanceof qi?d.pipe(zi(a.outsideAngular),ji(a.insideAngular)):It(()=>d)});var Be=class{constructor(e){return e}},Et=class{constructor(){return Ar()}};function Mf(n){return n&&n.length===1?n[0]:new Be(vt())}var ws=new Vt("angularfire2._apps"),Ff={provide:Be,useFactory:Mf,deps:[[new me,ws]]},Uf={provide:Et,deps:[[new me,ws]]};function Bf(n){return(e,t)=>{let i=t.get(hc);G("angularfire",tt.full,"core"),G("angularfire",tt.full,"app"),G("angular",ic.full,i.toString());let s=e.runOutsideAngular(()=>n(t));return new Be(s)}}function fu(n,...e){return Lt([Ff,Uf,{provide:ws,useFactory:Bf(n),multi:!0,deps:[Se,Mt,nt,...e]}])}var pu=wt(vs,!0);var qf=new Map,$f={activated:!1,tokenObservers:[]},jf={initialized:!1,enabled:!1};function Ee(n){return qf.get(n)||Object.assign({},$f)}function yu(){return jf}var zf="https://content-firebaseappcheck.googleapis.com/v1";var Wf="exchangeDebugToken",mu={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},Tv=1440*60*1e3;var bs=class{constructor(e,t,i,s,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=s,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=s,s>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new gt,this.pending.promise.catch(t=>{}),await Gf(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new gt,this.pending.promise.catch(t=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function Gf(n){return new Promise(e=>{setTimeout(e,n)})}var Hf={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},rt=new Ie("appCheck","AppCheck",Hf);function vu(n){if(!Ee(n).activated)throw rt.create("use-before-activation",{appName:n.name})}async function Iu({url:n,body:e},t){let i={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let A=await s.getHeartbeatsHeader();A&&(i["X-Firebase-Client"]=A)}let a={method:"POST",body:JSON.stringify(e),headers:i},u;try{u=await fetch(n,a)}catch(A){throw rt.create("fetch-network-error",{originalErrorMessage:A?.message})}if(u.status!==200)throw rt.create("fetch-status-error",{httpStatus:u.status});let h;try{h=await u.json()}catch(A){throw rt.create("fetch-parse-error",{originalErrorMessage:A?.message})}let d=h.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw rt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});let y=Number(d[1])*1e3,b=Date.now();return{token:h.token,expireTimeMillis:b+y,issuedAtTimeMillis:b}}function wu(n,e){let{projectId:t,appId:i,apiKey:s}=n.options;return{url:`${zf}/projects/${t}/apps/${i}:${Wf}?key=${s}`,body:{debug_token:e}}}var Kf="firebase-app-check-database",Qf=1,As="firebase-app-check-store";var Rr=null;function Yf(){return Rr||(Rr=new Promise((n,e)=>{try{let t=indexedDB.open(Kf,Qf);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var s;e(rt.create("storage-open",{originalErrorMessage:(s=i.target.error)===null||s===void 0?void 0:s.message}))},t.onupgradeneeded=i=>{let s=i.target.result;switch(i.oldVersion){case 0:s.createObjectStore(As,{keyPath:"compositeKey"})}}}catch(t){e(rt.create("storage-open",{originalErrorMessage:t?.message}))}}),Rr)}function Jf(n,e){return Xf(Zf(n),e)}async function Xf(n,e){let i=(await Yf()).transaction(As,"readwrite"),a=i.objectStore(As).put({compositeKey:n,value:e});return new Promise((u,h)=>{a.onsuccess=d=>{u()},i.onerror=d=>{var y;h(rt.create("storage-set",{originalErrorMessage:(y=d.target.error)===null||y===void 0?void 0:y.message}))}})}function Zf(n){return`${n.options.appId}-${n.name}`}var Tn=new Pe("@firebase/app-check");function Es(n,e){return yn()?Jf(n,e).catch(t=>{Tn.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Eu(){return yu().enabled}async function Tu(){let n=yu();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}var ep={error:"UNKNOWN_ERROR"};function tp(n){return vr.encodeString(JSON.stringify(n),!1)}async function Ss(n,e=!1,t=!1){let i=n.app;vu(i);let s=Ee(i),a=s.token,u;if(a&&!bn(a)&&(s.token=void 0,a=void 0),!a){let y=await s.cachedTokenPromise;y&&(bn(y)?a=y:await Es(i,void 0))}if(!e&&a&&bn(a))return{token:a.token};let h=!1;if(Eu())try{s.exchangeTokenPromise||(s.exchangeTokenPromise=Iu(wu(i,await Tu()),n.heartbeatServiceProvider).finally(()=>{s.exchangeTokenPromise=void 0}),h=!0);let y=await s.exchangeTokenPromise;return await Es(i,y),s.token=y,{token:y.token}}catch(y){return y.code==="appCheck/throttled"||y.code==="appCheck/initial-throttle"?Tn.warn(y.message):t&&Tn.error(y),Ts(y)}try{s.exchangeTokenPromise||(s.exchangeTokenPromise=s.provider.getToken().finally(()=>{s.exchangeTokenPromise=void 0}),h=!0),a=await Ee(i).exchangeTokenPromise}catch(y){y.code==="appCheck/throttled"||y.code==="appCheck/initial-throttle"?Tn.warn(y.message):t&&Tn.error(y),u=y}let d;return a?u?bn(a)?d={token:a.token,internalError:u}:d=Ts(u):(d={token:a.token},s.token=a,await Es(i,a)):d=Ts(u),h&&sp(i,d),d}async function np(n){let e=n.app;vu(e);let{provider:t}=Ee(e);if(Eu()){let i=await Tu(),{token:s}=await Iu(wu(e,i),n.heartbeatServiceProvider);return{token:s}}else{let{token:i}=await t.getToken();return{token:i}}}function rp(n,e,t,i){let{app:s}=n,a=Ee(s),u={next:t,error:i,type:e};if(a.tokenObservers=[...a.tokenObservers,u],a.token&&bn(a.token)){let h=a.token;Promise.resolve().then(()=>{t({token:h.token}),gu(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>gu(n))}function bu(n,e){let t=Ee(n),i=t.tokenObservers.filter(s=>s.next!==e);i.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function gu(n){let{app:e}=n,t=Ee(e),i=t.tokenRefresher;i||(i=ip(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function ip(n){let{app:e}=n;return new bs(async()=>{let t=Ee(e),i;if(t.token?i=await Ss(n,!0):i=await Ss(n),i.error)throw i.error;if(i.internalError)throw i.internalError},()=>!0,()=>{let t=Ee(e);if(t.token){let i=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,s=t.token.expireTimeMillis-300*1e3;return i=Math.min(i,s),Math.max(0,i-Date.now())}else return 0},mu.RETRIAL_MIN_WAIT,mu.RETRIAL_MAX_WAIT)}function sp(n,e){let t=Ee(n).tokenObservers;for(let i of t)try{i.type==="EXTERNAL"&&e.error!=null?i.error(e.error):i.next(e)}catch{}}function bn(n){return n.expireTimeMillis-Date.now()>0}function Ts(n){return{token:tp(ep),error:n}}var Rs=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Ee(this.app);for(let t of e)bu(this.app,t.next);return Promise.resolve()}};function op(n,e){return new Rs(n,e)}function ap(n){return{getToken:e=>Ss(n,e),getLimitedUseToken:()=>np(n),addTokenListener:e=>rp(n,"INTERNAL",e),removeTokenListener:e=>bu(n.app,e)}}var cp="@firebase/app-check",up="0.10.1";var lp="app-check",_u="app-check-internal";function hp(){we(new ae(lp,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return op(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(_u).initialize()})),we(new ae(_u,n=>{let e=n.getProvider("app-check").getImmediate();return ap(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),G(cp,up)}hp();var dp="app-check";var $t=class{constructor(){return qt(dp)}};var fp=["localhost","0.0.0.0","127.0.0.1"],Vv=typeof window<"u"&&fp.includes(window.location.hostname);yd();function Uu(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Bu=Uu,qu=new Ie("auth","Firebase",Uu());var xr=new Pe("@firebase/auth");function pp(n,...e){xr.logLevel<=M.WARN&&xr.warn(`Auth (${et}): ${n}`,...e)}function Cr(n,...e){xr.logLevel<=M.ERROR&&xr.error(`Auth (${et}): ${n}`,...e)}function ot(n,...e){throw Hs(n,...e)}function bt(n,...e){return Hs(n,...e)}function $u(n,e,t){let i=Object.assign(Object.assign({},Bu()),{[e]:t});return new Ie("auth","Firebase",i).create(e,{appName:n.name})}function Tt(n){return $u(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hs(n,...e){if(typeof n!="string"){let t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return qu.create(n,...e)}function k(n,e,...t){if(!n)throw Hs(e,...t)}function qe(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Cr(e),new Error(e)}function at(n,e){n||qe(e)}function Ds(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function mp(){return Au()==="http:"||Au()==="https:"}function Au(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function gp(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mp()||Wc()||"connection"in navigator)?navigator.onLine:!0}function _p(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var At=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,at(t>e,"Short delay should be less than long delay!"),this.isMobile=jc()||Gc()}get(){return gp()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Ks(n,e){at(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Or=class{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var yp={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var vp=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Ip=new At(3e4,6e4);function Qs(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function jt(n,e,t,i,s={}){return ju(n,s,async()=>{let a={},u={};i&&(e==="GET"?u=i:a={body:JSON.stringify(i)});let h=vn(Object.assign({key:n.config.apiKey},u)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);let y=Object.assign({method:e,headers:d},a);return zc()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&_t(n.emulatorConfig.host)&&(y.credentials="include"),Or.fetch()(await zu(n,n.config.apiHost,t,h),y)})}async function ju(n,e,t){n._canInitEmulator=!1;let i=Object.assign(Object.assign({},yp),e);try{let s=new Ns(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();let u=await a.json();if("needConfirmation"in u)throw Pr(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{let h=a.ok?u.errorMessage:u.error.message,[d,y]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pr(n,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw Pr(n,"email-already-in-use",u);if(d==="USER_DISABLED")throw Pr(n,"user-disabled",u);let b=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw $u(n,b,y);ot(n,b)}}catch(s){if(s instanceof de)throw s;ot(n,"network-request-failed",{message:String(s)})}}async function wp(n,e,t,i,s={}){let a=await jt(n,e,t,i,s);return"mfaPendingCredential"in a&&ot(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function zu(n,e,t,i){let s=`${e}${t}?${i}`,a=n,u=a.config.emulator?Ks(n.config,s):`${n.config.apiScheme}://${s}`;return vp.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}var Ns=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(bt(this.auth,"network-request-failed")),Ip.get())})}};function Pr(n,e,t){let i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);let s=bt(n,e,i);return s.customData._tokenResponse=t,s}async function Ep(n,e){return jt(n,"POST","/v1/accounts:delete",e)}async function Vr(n,e){return jt(n,"POST","/v1/accounts:lookup",e)}function An(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ys(n,e=!1){let t=Fe(n),i=await t.getIdToken(e),s=Js(i);k(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");let a=typeof s.firebase=="object"?s.firebase:void 0,u=a?.sign_in_provider;return{claims:s,token:i,authTime:An(Ps(s.auth_time)),issuedAtTime:An(Ps(s.iat)),expirationTime:An(Ps(s.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Ps(n){return Number(n)*1e3}function Js(n){let[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Cr("JWT malformed, contained fewer than 3 sections"),null;try{let s=Ir(t);return s?JSON.parse(s):(Cr("Failed to decode base64 JWT payload"),null)}catch(s){return Cr("Caught error parsing JWT payload as JSON",s?.toString()),null}}function Su(n){let e=Js(n);return k(e,"internal-error"),k(typeof e.exp<"u","internal-error"),k(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Rn(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof de&&Tp(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function Tp({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var xs=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var Pn=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=An(this.lastLoginAt),this.creationTime=An(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function Lr(n){var e;let t=n.auth,i=await n.getIdToken(),s=await Rn(n,Vr(t,{idToken:i}));k(s?.users.length,t,"internal-error");let a=s.users[0];n._notifyReloadListener(a);let u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?Wu(a.providerUserInfo):[],h=bp(n.providerData,u),d=n.isAnonymous,y=!(n.email&&a.passwordHash)&&!h?.length,b=d?y:!1,A={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new Pn(a.createdAt,a.lastLoginAt),isAnonymous:b};Object.assign(n,A)}async function Xs(n){let e=Fe(n);await Lr(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function bp(n,e){return[...n.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function Wu(n){return n.map(e=>{var{providerId:t}=e,i=$i(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}async function Ap(n,e){let t=await ju(n,{},async()=>{let i=vn({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,u=await zu(n,s,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";let d={method:"POST",headers:h,body:i};return n.emulatorConfig&&_t(n.emulatorConfig.host)&&(d.credentials="include"),Or.fetch()(u,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Sp(n,e){return jt(n,"POST","/v2/accounts:revokeToken",Qs(n,e))}var Sn=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){k(e.idToken,"internal-error"),k(typeof e.idToken<"u","internal-error"),k(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Su(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){k(e.length!==0,"internal-error");let t=Su(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(k(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:i,refreshToken:s,expiresIn:a}=await Ap(e,t);this.updateTokensAndExpiration(i,s,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){let{refreshToken:i,accessToken:s,expirationTime:a}=t,u=new n;return i&&(k(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),s&&(k(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),a&&(k(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return qe("not implemented")}};function it(n,e){k(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var st=class n{constructor(e){var{uid:t,auth:i,stsTokenManager:s}=e,a=$i(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xs(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Pn(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){let t=await Rn(this,this.stsTokenManager.getToken(this.auth,e));return k(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Ys(this,e)}reload(){return Xs(this)}_assign(e){this!==e&&(k(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){k(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Lr(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ge(this.auth.app))return Promise.reject(Tt(this.auth));let e=await this.getIdToken();return await Rn(this,Ep(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,s,a,u,h,d,y,b;let A=(i=t.displayName)!==null&&i!==void 0?i:void 0,T=(s=t.email)!==null&&s!==void 0?s:void 0,C=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,R=(u=t.photoURL)!==null&&u!==void 0?u:void 0,N=(h=t.tenantId)!==null&&h!==void 0?h:void 0,P=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,D=(y=t.createdAt)!==null&&y!==void 0?y:void 0,F=(b=t.lastLoginAt)!==null&&b!==void 0?b:void 0,{uid:$,emailVerified:ie,isAnonymous:Oe,providerData:Z,stsTokenManager:v}=t;k($&&v,e,"internal-error");let f=Sn.fromJSON(this.name,v);k(typeof $=="string",e,"internal-error"),it(A,e.name),it(T,e.name),k(typeof ie=="boolean",e,"internal-error"),k(typeof Oe=="boolean",e,"internal-error"),it(C,e.name),it(R,e.name),it(N,e.name),it(P,e.name),it(D,e.name),it(F,e.name);let m=new n({uid:$,auth:e,email:T,emailVerified:ie,displayName:A,isAnonymous:Oe,photoURL:R,phoneNumber:C,tenantId:N,stsTokenManager:f,createdAt:D,lastLoginAt:F});return Z&&Array.isArray(Z)&&(m.providerData=Z.map(g=>Object.assign({},g))),P&&(m._redirectEventId=P),m}static async _fromIdTokenResponse(e,t,i=!1){let s=new Sn;s.updateFromServerResponse(t);let a=new n({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Lr(a),a}static async _fromGetAccountInfoResponse(e,t,i){let s=t.users[0];k(s.localId!==void 0,"internal-error");let a=s.providerUserInfo!==void 0?Wu(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!a?.length,h=new Sn;h.updateFromIdToken(i);let d=new n({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:u}),y={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Pn(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(d,y),d}};var Ru=new Map;function $e(n){at(n instanceof Function,"Expected a class definition");let e=Ru.get(n);return e?(at(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Ru.set(n,e),e)}var Rp=(()=>{class n{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){let i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})(),Os=Rp;function kr(n,e,t){return`firebase:${n}:${e}:${t}`}var Mr=class n{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;let{config:s,name:a}=this.auth;this.fullUserKey=kr(this.userKey,s.apiKey,a),this.fullPersistenceKey=kr("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=await Vr(this.auth,{idToken:e}).catch(()=>{});return t?st._fromGetAccountInfoResponse(this.auth,t,e):null}return st._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new n($e(Os),e,i);let s=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y),a=s[0]||$e(Os),u=kr(i,e.config.apiKey,e.name),h=null;for(let y of t)try{let b=await y._get(u);if(b){let A;if(typeof b=="string"){let T=await Vr(e,{idToken:b}).catch(()=>{});if(!T)break;A=await st._fromGetAccountInfoResponse(e,T,b)}else A=st._fromJSON(e,b);y!==a&&(h=A),a=y;break}}catch{}let d=s.filter(y=>y._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new n(a,e,i):(a=d[0],h&&await a._set(u,h.toJSON()),await Promise.all(t.map(async y=>{if(y!==a)try{await y._remove(u)}catch{}})),new n(a,e,i))}};function Pu(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Qu(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Gu(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ju(e))return"Blackberry";if(Xu(e))return"Webos";if(Hu(e))return"Safari";if((e.includes("chrome/")||Ku(e))&&!e.includes("edge/"))return"Chrome";if(Yu(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function Gu(n=J()){return/firefox\//i.test(n)}function Hu(n=J()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ku(n=J()){return/crios\//i.test(n)}function Qu(n=J()){return/iemobile/i.test(n)}function Yu(n=J()){return/android/i.test(n)}function Ju(n=J()){return/blackberry/i.test(n)}function Xu(n=J()){return/webos/i.test(n)}function Zs(n=J()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Pp(n=J()){var e;return Zs(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Cp(){return Hc()&&document.documentMode===10}function Zu(n=J()){return Zs(n)||Yu(n)||Xu(n)||Ju(n)||/windows phone/i.test(n)||Qu(n)}function el(n,e=[]){let t;switch(n){case"Browser":t=Pu(J());break;case"Worker":t=`${Pu(J())}-${n}`;break;default:t=n}let i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${et}/${i}`}var Vs=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let i=a=>new Promise((u,h)=>{try{let d=e(a);u(d)}catch(d){h(d)}});i.onAbort=t,this.queue.push(i);let s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(let s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}};async function kp(n,e={}){return jt(n,"GET","/v2/passwordPolicy",Qs(n,e))}var Dp=6,Ls=class{constructor(e){var t,i,s,a;let u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:Dp,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,s,a,u,h;let d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(i=d.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(s=d.containsLowercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(a=d.containsUppercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(u=d.containsNumericCharacter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(e,t){let i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}};var Ms=class{constructor(e,t,i,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fr(this),this.idTokenSubscription=new Fr(this),this.beforeStateQueue=new Vs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qu,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=$e(t)),this._initializationPromise=this.queue(async()=>{var i,s,a;if(!this._deleted&&(this.persistenceManager=await Mr.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await Vr(this,{idToken:e}),i=await st._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ge(this.app)){let u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}let i=await this.assertedPersistence.getCurrentUser(),s=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=s?._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===h)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return k(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Lr(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_p()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ge(this.app))return Promise.reject(Tt(this));let t=e?Fe(e):null;return t&&k(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&k(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ge(this.app)?Promise.reject(Tt(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ge(this.app)?Promise.reject(Tt(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($e(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await kp(this),t=new Ls(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ie("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await Sp(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){let i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&$e(e)||this._popupRedirectResolver;k(t,this,"argument-error"),this.redirectPersistenceManager=await Mr.create(this,[$e(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,s){if(this._deleted)return()=>{};let a=typeof t=="function"?t:t.next.bind(t),u=!1,h=this._isInitialized?Promise.resolve():this._initializationPromise;if(k(h,this,"internal-error"),h.then(()=>{u||a(this.currentUser)}),typeof t=="function"){let d=e.addObserver(t,i,s);return()=>{u=!0,d()}}else{let d=e.addObserver(t);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return k(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=el(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);let s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(ge(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&pp(`Error while retrieving App Check token: ${t.error}`),t?.token}};function eo(n){return Fe(n)}var Fr=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Yc(t=>this.observer=t)}get next(){return k(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var to={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Np(n){to=n}function xp(n){return to.loadJS(n)}function Op(){return to.gapiScript}function tl(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function no(n,e){let t=Ut(n,"auth");if(t.isInitialized()){let s=t.getImmediate(),a=t.getOptions();if(Re(a,e??{}))return s;ot(s,"already-initialized")}return t.initialize({options:e})}function Vp(n,e){let t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map($e);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function ro(n,e,t){let i=eo(n);k(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let s=!!t?.disableWarnings,a=nl(e),{host:u,port:h}=Lp(e),d=h===null?"":`:${h}`,y={url:`${a}//${u}${d}/`},b=Object.freeze({host:u,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){k(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),k(Re(y,i.config.emulator)&&Re(b,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=y,i.emulatorConfig=b,i.settings.appVerificationDisabledForTesting=!0,_t(u)?(wr(`${a}//${u}${d}`),Er("Auth",!0)):s||Mp()}function nl(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Lp(n){let e=nl(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let i=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){let a=s[1];return{host:a,port:Cu(i.substr(a.length+1))}}else{let[a,u]=i.split(":");return{host:a,port:Cu(u)}}}function Cu(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function Mp(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Ur=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return qe("not implemented")}_getIdTokenResponse(e){return qe("not implemented")}_linkToIdToken(e,t){return qe("not implemented")}_getReauthenticationResolver(e){return qe("not implemented")}};async function Cs(n,e){return wp(n,"POST","/v1/accounts:signInWithIdp",Qs(n,e))}var Br=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Fs=class extends Br{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Cn=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,s=!1){let a=await st._fromIdTokenResponse(e,i,s),u=ku(i);return new n({user:a,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);let s=ku(i);return new n({user:e,providerId:s,_tokenResponse:i,operationType:t})}};function ku(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var Us=class n extends de{constructor(e,t,i,s){var a;super(t.code,t.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,s){return new n(e,t,i,s)}};function rl(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Us._fromErrorAndOperation(n,a,e,i):a})}async function Fp(n,e,t=!1){let i=await Rn(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Cn._forOperation(n,"link",i)}async function Up(n,e,t=!1){let{auth:i}=n;if(ge(i.app))return Promise.reject(Tt(i));let s="reauthenticate";try{let a=await Rn(n,rl(i,s,e,n),t);k(a.idToken,i,"internal-error");let u=Js(a.idToken);k(u,i,"internal-error");let{sub:h}=u;return k(n.uid===h,i,"user-mismatch"),Cn._forOperation(n,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&ot(i,"user-mismatch"),a}}async function Bp(n,e,t=!1){if(ge(n.app))return Promise.reject(Tt(n));let i="signIn",s=await rl(n,i,e),a=await Cn._fromIdTokenResponse(n,i,s);return t||await n._updateCurrentUser(a.user),a}function io(n,e,t,i){return Fe(n).onIdTokenChanged(e,t,i)}function so(n,e,t){return Fe(n).beforeAuthStateChanged(e,t)}var qr="__sak";var $r=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(qr,"1"),this.storage.removeItem(qr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var qp=1e3,$p=10,jp=(()=>{class n extends $r{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Zu(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let i of Object.keys(this.listeners)){let s=this.storage.getItem(i),a=this.localCache[i];s!==a&&t(i,a,s)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((h,d,y)=>{this.notifyListeners(h,y)});return}let s=t.key;i?this.detachListener():this.stopPolling();let a=()=>{let h=this.storage.getItem(s);!i&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);Cp()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,$p):a()}notifyListeners(t,i){this.localCache[t]=i;let s=this.listeners[t];if(s)for(let a of Array.from(s))a(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:s}),!0)})},qp)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){let i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}return n.type="LOCAL",n})(),il=jp;var zp=(()=>{class n extends $r{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}return n.type="SESSION",n})(),oo=zp;function Wp(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}var Gp=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let i=this.receivers.find(a=>a.isListeningto(t));if(i)return i;let s=new n(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){let i=t,{eventId:s,eventType:a,data:u}=i.data,h=this.handlersMap[a];if(!h?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:a});let d=Array.from(h).map(async b=>b(i.origin,u)),y=await Wp(d);i.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function sl(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}var Bs=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){let s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((h,d)=>{let y=sl("",20);s.port1.start();let b=setTimeout(()=>{d(new Error("unsupported_event"))},i);u={messageChannel:s,onMessage(A){let T=A;if(T.data.eventId===y)switch(T.data.status){case"ack":clearTimeout(b),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(T.data.response);break;default:clearTimeout(b),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}};function ke(){return window}function Hp(n){ke().location.href=n}function ol(){return typeof ke().WorkerGlobalScope<"u"&&typeof ke().importScripts=="function"}async function Kp(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Qp(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Yp(){return ol()?self:null}var al="firebaseLocalStorageDb",Jp=1,jr="firebaseLocalStorage",cl="fbase_key",St=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Wr(n,e){return n.transaction([jr],e?"readwrite":"readonly").objectStore(jr)}function Xp(){let n=indexedDB.deleteDatabase(al);return new St(n).toPromise()}function qs(){let n=indexedDB.open(al,Jp);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let i=n.result;try{i.createObjectStore(jr,{keyPath:cl})}catch(s){t(s)}}),n.addEventListener("success",async()=>{let i=n.result;i.objectStoreNames.contains(jr)?e(i):(i.close(),await Xp(),e(await qs()))})})}async function Du(n,e,t){let i=Wr(n,!0).put({[cl]:e,value:t});return new St(i).toPromise()}async function Zp(n,e){let t=Wr(n,!1).get(e),i=await new St(t).toPromise();return i===void 0?null:i.value}function Nu(n,e){let t=Wr(n,!0).delete(e);return new St(t).toPromise()}var em=800,tm=3,nm=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qs(),this.db)}async _withRetries(t){let i=0;for(;;)try{let s=await this._openDb();return await t(s)}catch(s){if(i++>tm)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ol()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gp._getInstance(Yp()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await Kp(),!this.activeServiceWorker)return;this.sender=new Bs(this.activeServiceWorker);let s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((i=s[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Qp()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let t=await qs();return await Du(t,qr,"1"),await Nu(t,qr),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>Du(s,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){let i=await this._withRetries(s=>Zp(s,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Nu(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){let t=await this._withRetries(a=>{let u=Wr(a,!1).getAll();return new St(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let i=[],s=new Set;if(t.length!==0)for(let{fbase_key:a,value:u}of t)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(u)&&(this.notifyListeners(a,u),i.push(a));for(let a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),i.push(a));return i}notifyListeners(t,i){this.localCache[t]=i;let s=this.listeners[t];if(s)for(let a of Array.from(s))a(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),em)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),ul=nm;var Wv=tl("rcb"),Gv=new At(3e4,6e4);function rm(n,e){return e?$e(e):(k(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var kn=class extends Ur{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Cs(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Cs(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Cs(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function im(n){return Bp(n.auth,new kn(n),n.bypassAuthState)}function sm(n){let{auth:e,user:t}=n;return k(t,e,"internal-error"),Up(t,new kn(n),n.bypassAuthState)}async function om(n){let{auth:e,user:t}=n;return k(t,e,"internal-error"),Fp(t,new kn(n),n.bypassAuthState)}var $s=class{constructor(e,t,i,s,a=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:i,postBody:s,tenantId:a,error:u,type:h}=e;if(u){this.reject(u);return}let d={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return im;case"linkViaPopup":case"linkViaRedirect":return om;case"reauthViaPopup":case"reauthViaRedirect":return sm;default:ot(this.auth,"internal-error")}}resolve(e){at(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){at(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Hv=new At(2e3,1e4);var am="pendingRedirect",Dr=new Map,js=class extends $s{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Dr.get(this.auth._key());if(!e){try{let i=await cm(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Dr.set(this.auth._key(),e)}return this.bypassAuthState||Dr.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function cm(n,e){let t=hm(e),i=lm(n);if(!await i._isAvailable())return!1;let s=await i._get(t)==="true";return await i._remove(t),s}function um(n,e){Dr.set(n._key(),e)}function lm(n){return $e(n._redirectPersistence)}function hm(n){return kr(am,n.config.apiKey,n.name)}async function dm(n,e,t=!1){if(ge(n.app))return Promise.reject(Tt(n));let i=eo(n),s=rm(i,e),u=await new js(i,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}var fm=600*1e3,zs=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pm(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!ll(e)){let s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(bt(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fm&&this.cachedEventUids.clear(),this.cachedEventUids.has(xu(e))}saveEventToCache(e){this.cachedEventUids.add(xu(e)),this.lastProcessedEventTime=Date.now()}};function xu(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function ll({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function pm(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ll(n);default:return!1}}async function mm(n,e={}){return jt(n,"GET","/v1/projects",e)}var gm=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_m=/^https?/;async function ym(n){if(n.config.emulator)return;let{authorizedDomains:e}=await mm(n);for(let t of e)try{if(vm(t))return}catch{}ot(n,"unauthorized-domain")}function vm(n){let e=Ds(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){let u=new URL(n);return u.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!_m.test(t))return!1;if(gm.test(n))return i===n;let s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}var Im=new At(3e4,6e4);function Ou(){let n=ke().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function wm(n){return new Promise((e,t)=>{var i,s,a;function u(){Ou(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ou(),t(bt(n,"network-request-failed"))},timeout:Im.get()})}if(!((s=(i=ke().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=ke().gapi)===null||a===void 0)&&a.load)u();else{let h=tl("iframefcb");return ke()[h]=()=>{gapi.load?u():t(bt(n,"network-request-failed"))},xp(`${Op()}?onload=${h}`).catch(d=>t(d))}}).catch(e=>{throw Nr=null,e})}var Nr=null;function Em(n){return Nr=Nr||wm(n),Nr}var Tm=new At(5e3,15e3),bm="__/auth/iframe",Am="emulator/auth/iframe",Sm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Rm=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pm(n){let e=n.config;k(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?Ks(e,Am):`https://${n.config.authDomain}/${bm}`,i={apiKey:e.apiKey,appName:n.name,v:et},s=Rm.get(n.config.apiHost);s&&(i.eid=s);let a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${vn(i).slice(1)}`}async function Cm(n){let e=await Em(n),t=ke().gapi;return k(t,n,"internal-error"),e.open({where:document.body,url:Pm(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sm,dontclear:!0},i=>new Promise(async(s,a)=>{await i.restyle({setHideOnLeave:!1});let u=bt(n,"network-request-failed"),h=ke().setTimeout(()=>{a(u)},Tm.get());function d(){ke().clearTimeout(h),s(i)}i.ping(d).then(d,()=>{a(u)})}))}var km={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Dm=500,Nm=600,xm="_blank",Om="http://localhost",zr=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Vm(n,e,t,i=Dm,s=Nm){let a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString(),h="",d=Object.assign(Object.assign({},km),{width:i.toString(),height:s.toString(),top:a,left:u}),y=J().toLowerCase();t&&(h=Ku(y)?xm:t),Gu(y)&&(e=e||Om,d.scrollbars="yes");let b=Object.entries(d).reduce((T,[C,R])=>`${T}${C}=${R},`,"");if(Pp(y)&&h!=="_self")return Lm(e||"",h),new zr(null);let A=window.open(e||"",h,b);k(A,n,"popup-blocked");try{A.focus()}catch{}return new zr(A)}function Lm(n,e){let t=document.createElement("a");t.href=n,t.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}var Mm="__/auth/handler",Fm="emulator/auth/handler",Um=encodeURIComponent("fac");async function Vu(n,e,t,i,s,a){k(n.config.authDomain,n,"auth-domain-config-required"),k(n.config.apiKey,n,"invalid-api-key");let u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:et,eventId:s};if(e instanceof Br){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",Qc(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(let[b,A]of Object.entries(a||{}))u[b]=A}if(e instanceof Fs){let b=e.getScopes().filter(A=>A!=="");b.length>0&&(u.scopes=b.join(","))}n.tenantId&&(u.tid=n.tenantId);let h=u;for(let b of Object.keys(h))h[b]===void 0&&delete h[b];let d=await n._getAppCheckToken(),y=d?`#${Um}=${encodeURIComponent(d)}`:"";return`${Bm(n)}?${vn(h).slice(1)}${y}`}function Bm({config:n}){return n.emulator?Ks(n,Fm):`https://${n.authDomain}/${Mm}`}var ks="webStorageSupport",Ws=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oo,this._completeRedirectFn=dm,this._overrideRedirectResult=um}async _openPopup(e,t,i,s){var a;at((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");let u=await Vu(e,t,i,Ds(),s);return Vm(e,u,sl())}async _openRedirect(e,t,i,s){await this._originValidation(e);let a=await Vu(e,t,i,Ds(),s);return Hp(a),new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(at(a,"If manager is not set, promise should be"),a)}let i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){let t=await Cm(e),i=new zs(e);return t.register("authEvent",s=>(k(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ks,{type:ks},s=>{var a;let u=(a=s?.[0])===null||a===void 0?void 0:a[ks];u!==void 0&&t(!!u),ot(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ym(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Zu()||Hu()||Zs()}},hl=Ws;var Lu="@firebase/auth",Mu="1.10.8";var Gs=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){k(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function qm(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $m(n){we(new ae("auth",(e,{options:t})=>{let i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=i.options;k(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});let d={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:el(n)},y=new Ms(i,s,a,d);return Vp(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),we(new ae("auth-internal",e=>{let t=eo(e.getProvider("auth").getImmediate());return(i=>new Gs(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),G(Lu,Mu,qm(n)),G(Lu,Mu,"esm2017")}var jm=300,zm=is("authIdTokenMaxAge")||jm,Fu=null,Wm=n=>async e=>{let t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>zm)return;let s=t?.token;Fu!==s&&(Fu=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function ao(n=vt()){let e=Ut(n,"auth");if(e.isInitialized())return e.getImmediate();let t=no(n,{popupRedirectResolver:hl,persistence:[ul,il,oo]}),i=is("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let a=new URL(i,location.origin);if(location.origin===a.origin){let u=Wm(a.toString());so(t,u,()=>u(t.currentUser)),io(t,h=>u(h))}}let s=ns("auth");return s&&ro(t,`http://${s}`),t}function Gm(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Np({loadJS(n){return new Promise((e,t)=>{let i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=s=>{let a=bt("internal-error");a.customData=s,t(a)},i.type="text/javascript",i.charset="UTF-8",Gm().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$m("Browser");var dl="auth",Dn=class{constructor(e){return e}},Nn=class{constructor(){return qt(dl)}};var co=new Vt("angularfire2.auth-instances");function Ug(n,e){let t=En(dl,n,e);return t&&new Dn(t)}function Bg(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new Dn(i)}}var qg={provide:Nn,deps:[[new me,co]]},$g={provide:Dn,useFactory:Ug,deps:[[new me,co],Be]};function fl(n,...e){return G("angularfire",tt.full,"auth"),Lt([$g,qg,{provide:co,useFactory:Bg(n),multi:!0,deps:[Se,Mt,nt,Et,[new me,$t],...e]}])}var pl=wt(ao,!0);var ml=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},gl={};var Gr,_l;(function(){var n;function e(v,f){function m(){}m.prototype=f.prototype,v.D=f.prototype,v.prototype=new m,v.prototype.constructor=v,v.C=function(g,_,w){for(var p=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)p[ce-2]=arguments[ce];return f.prototype[_].apply(g,p)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(v,f,m){m||(m=0);var g=Array(16);if(typeof f=="string")for(var _=0;16>_;++_)g[_]=f.charCodeAt(m++)|f.charCodeAt(m++)<<8|f.charCodeAt(m++)<<16|f.charCodeAt(m++)<<24;else for(_=0;16>_;++_)g[_]=f[m++]|f[m++]<<8|f[m++]<<16|f[m++]<<24;f=v.g[0],m=v.g[1],_=v.g[2];var w=v.g[3],p=f+(w^m&(_^w))+g[0]+3614090360&4294967295;f=m+(p<<7&4294967295|p>>>25),p=w+(_^f&(m^_))+g[1]+3905402710&4294967295,w=f+(p<<12&4294967295|p>>>20),p=_+(m^w&(f^m))+g[2]+606105819&4294967295,_=w+(p<<17&4294967295|p>>>15),p=m+(f^_&(w^f))+g[3]+3250441966&4294967295,m=_+(p<<22&4294967295|p>>>10),p=f+(w^m&(_^w))+g[4]+4118548399&4294967295,f=m+(p<<7&4294967295|p>>>25),p=w+(_^f&(m^_))+g[5]+1200080426&4294967295,w=f+(p<<12&4294967295|p>>>20),p=_+(m^w&(f^m))+g[6]+2821735955&4294967295,_=w+(p<<17&4294967295|p>>>15),p=m+(f^_&(w^f))+g[7]+4249261313&4294967295,m=_+(p<<22&4294967295|p>>>10),p=f+(w^m&(_^w))+g[8]+1770035416&4294967295,f=m+(p<<7&4294967295|p>>>25),p=w+(_^f&(m^_))+g[9]+2336552879&4294967295,w=f+(p<<12&4294967295|p>>>20),p=_+(m^w&(f^m))+g[10]+4294925233&4294967295,_=w+(p<<17&4294967295|p>>>15),p=m+(f^_&(w^f))+g[11]+2304563134&4294967295,m=_+(p<<22&4294967295|p>>>10),p=f+(w^m&(_^w))+g[12]+1804603682&4294967295,f=m+(p<<7&4294967295|p>>>25),p=w+(_^f&(m^_))+g[13]+4254626195&4294967295,w=f+(p<<12&4294967295|p>>>20),p=_+(m^w&(f^m))+g[14]+2792965006&4294967295,_=w+(p<<17&4294967295|p>>>15),p=m+(f^_&(w^f))+g[15]+1236535329&4294967295,m=_+(p<<22&4294967295|p>>>10),p=f+(_^w&(m^_))+g[1]+4129170786&4294967295,f=m+(p<<5&4294967295|p>>>27),p=w+(m^_&(f^m))+g[6]+3225465664&4294967295,w=f+(p<<9&4294967295|p>>>23),p=_+(f^m&(w^f))+g[11]+643717713&4294967295,_=w+(p<<14&4294967295|p>>>18),p=m+(w^f&(_^w))+g[0]+3921069994&4294967295,m=_+(p<<20&4294967295|p>>>12),p=f+(_^w&(m^_))+g[5]+3593408605&4294967295,f=m+(p<<5&4294967295|p>>>27),p=w+(m^_&(f^m))+g[10]+38016083&4294967295,w=f+(p<<9&4294967295|p>>>23),p=_+(f^m&(w^f))+g[15]+3634488961&4294967295,_=w+(p<<14&4294967295|p>>>18),p=m+(w^f&(_^w))+g[4]+3889429448&4294967295,m=_+(p<<20&4294967295|p>>>12),p=f+(_^w&(m^_))+g[9]+568446438&4294967295,f=m+(p<<5&4294967295|p>>>27),p=w+(m^_&(f^m))+g[14]+3275163606&4294967295,w=f+(p<<9&4294967295|p>>>23),p=_+(f^m&(w^f))+g[3]+4107603335&4294967295,_=w+(p<<14&4294967295|p>>>18),p=m+(w^f&(_^w))+g[8]+1163531501&4294967295,m=_+(p<<20&4294967295|p>>>12),p=f+(_^w&(m^_))+g[13]+2850285829&4294967295,f=m+(p<<5&4294967295|p>>>27),p=w+(m^_&(f^m))+g[2]+4243563512&4294967295,w=f+(p<<9&4294967295|p>>>23),p=_+(f^m&(w^f))+g[7]+1735328473&4294967295,_=w+(p<<14&4294967295|p>>>18),p=m+(w^f&(_^w))+g[12]+2368359562&4294967295,m=_+(p<<20&4294967295|p>>>12),p=f+(m^_^w)+g[5]+4294588738&4294967295,f=m+(p<<4&4294967295|p>>>28),p=w+(f^m^_)+g[8]+2272392833&4294967295,w=f+(p<<11&4294967295|p>>>21),p=_+(w^f^m)+g[11]+1839030562&4294967295,_=w+(p<<16&4294967295|p>>>16),p=m+(_^w^f)+g[14]+4259657740&4294967295,m=_+(p<<23&4294967295|p>>>9),p=f+(m^_^w)+g[1]+2763975236&4294967295,f=m+(p<<4&4294967295|p>>>28),p=w+(f^m^_)+g[4]+1272893353&4294967295,w=f+(p<<11&4294967295|p>>>21),p=_+(w^f^m)+g[7]+4139469664&4294967295,_=w+(p<<16&4294967295|p>>>16),p=m+(_^w^f)+g[10]+3200236656&4294967295,m=_+(p<<23&4294967295|p>>>9),p=f+(m^_^w)+g[13]+681279174&4294967295,f=m+(p<<4&4294967295|p>>>28),p=w+(f^m^_)+g[0]+3936430074&4294967295,w=f+(p<<11&4294967295|p>>>21),p=_+(w^f^m)+g[3]+3572445317&4294967295,_=w+(p<<16&4294967295|p>>>16),p=m+(_^w^f)+g[6]+76029189&4294967295,m=_+(p<<23&4294967295|p>>>9),p=f+(m^_^w)+g[9]+3654602809&4294967295,f=m+(p<<4&4294967295|p>>>28),p=w+(f^m^_)+g[12]+3873151461&4294967295,w=f+(p<<11&4294967295|p>>>21),p=_+(w^f^m)+g[15]+530742520&4294967295,_=w+(p<<16&4294967295|p>>>16),p=m+(_^w^f)+g[2]+3299628645&4294967295,m=_+(p<<23&4294967295|p>>>9),p=f+(_^(m|~w))+g[0]+4096336452&4294967295,f=m+(p<<6&4294967295|p>>>26),p=w+(m^(f|~_))+g[7]+1126891415&4294967295,w=f+(p<<10&4294967295|p>>>22),p=_+(f^(w|~m))+g[14]+2878612391&4294967295,_=w+(p<<15&4294967295|p>>>17),p=m+(w^(_|~f))+g[5]+4237533241&4294967295,m=_+(p<<21&4294967295|p>>>11),p=f+(_^(m|~w))+g[12]+1700485571&4294967295,f=m+(p<<6&4294967295|p>>>26),p=w+(m^(f|~_))+g[3]+2399980690&4294967295,w=f+(p<<10&4294967295|p>>>22),p=_+(f^(w|~m))+g[10]+4293915773&4294967295,_=w+(p<<15&4294967295|p>>>17),p=m+(w^(_|~f))+g[1]+2240044497&4294967295,m=_+(p<<21&4294967295|p>>>11),p=f+(_^(m|~w))+g[8]+1873313359&4294967295,f=m+(p<<6&4294967295|p>>>26),p=w+(m^(f|~_))+g[15]+4264355552&4294967295,w=f+(p<<10&4294967295|p>>>22),p=_+(f^(w|~m))+g[6]+2734768916&4294967295,_=w+(p<<15&4294967295|p>>>17),p=m+(w^(_|~f))+g[13]+1309151649&4294967295,m=_+(p<<21&4294967295|p>>>11),p=f+(_^(m|~w))+g[4]+4149444226&4294967295,f=m+(p<<6&4294967295|p>>>26),p=w+(m^(f|~_))+g[11]+3174756917&4294967295,w=f+(p<<10&4294967295|p>>>22),p=_+(f^(w|~m))+g[2]+718787259&4294967295,_=w+(p<<15&4294967295|p>>>17),p=m+(w^(_|~f))+g[9]+3951481745&4294967295,v.g[0]=v.g[0]+f&4294967295,v.g[1]=v.g[1]+(_+(p<<21&4294967295|p>>>11))&4294967295,v.g[2]=v.g[2]+_&4294967295,v.g[3]=v.g[3]+w&4294967295}i.prototype.u=function(v,f){f===void 0&&(f=v.length);for(var m=f-this.blockSize,g=this.B,_=this.h,w=0;w<f;){if(_==0)for(;w<=m;)s(this,v,w),w+=this.blockSize;if(typeof v=="string"){for(;w<f;)if(g[_++]=v.charCodeAt(w++),_==this.blockSize){s(this,g),_=0;break}}else for(;w<f;)if(g[_++]=v[w++],_==this.blockSize){s(this,g),_=0;break}}this.h=_,this.o+=f},i.prototype.v=function(){var v=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);v[0]=128;for(var f=1;f<v.length-8;++f)v[f]=0;var m=8*this.o;for(f=v.length-8;f<v.length;++f)v[f]=m&255,m/=256;for(this.u(v),v=Array(16),f=m=0;4>f;++f)for(var g=0;32>g;g+=8)v[m++]=this.g[f]>>>g&255;return v};function a(v,f){var m=h;return Object.prototype.hasOwnProperty.call(m,v)?m[v]:m[v]=f(v)}function u(v,f){this.h=f;for(var m=[],g=!0,_=v.length-1;0<=_;_--){var w=v[_]|0;g&&w==f||(m[_]=w,g=!1)}this.g=m}var h={};function d(v){return-128<=v&&128>v?a(v,function(f){return new u([f|0],0>f?-1:0)}):new u([v|0],0>v?-1:0)}function y(v){if(isNaN(v)||!isFinite(v))return A;if(0>v)return P(y(-v));for(var f=[],m=1,g=0;v>=m;g++)f[g]=v/m|0,m*=4294967296;return new u(f,0)}function b(v,f){if(v.length==0)throw Error("number format error: empty string");if(f=f||10,2>f||36<f)throw Error("radix out of range: "+f);if(v.charAt(0)=="-")return P(b(v.substring(1),f));if(0<=v.indexOf("-"))throw Error('number format error: interior "-" character');for(var m=y(Math.pow(f,8)),g=A,_=0;_<v.length;_+=8){var w=Math.min(8,v.length-_),p=parseInt(v.substring(_,_+w),f);8>w?(w=y(Math.pow(f,w)),g=g.j(w).add(y(p))):(g=g.j(m),g=g.add(y(p)))}return g}var A=d(0),T=d(1),C=d(16777216);n=u.prototype,n.m=function(){if(N(this))return-P(this).m();for(var v=0,f=1,m=0;m<this.g.length;m++){var g=this.i(m);v+=(0<=g?g:4294967296+g)*f,f*=4294967296}return v},n.toString=function(v){if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(R(this))return"0";if(N(this))return"-"+P(this).toString(v);for(var f=y(Math.pow(v,6)),m=this,g="";;){var _=ie(m,f).g;m=D(m,_.j(f));var w=((0<m.g.length?m.g[0]:m.h)>>>0).toString(v);if(m=_,R(m))return w+g;for(;6>w.length;)w="0"+w;g=w+g}},n.i=function(v){return 0>v?0:v<this.g.length?this.g[v]:this.h};function R(v){if(v.h!=0)return!1;for(var f=0;f<v.g.length;f++)if(v.g[f]!=0)return!1;return!0}function N(v){return v.h==-1}n.l=function(v){return v=D(this,v),N(v)?-1:R(v)?0:1};function P(v){for(var f=v.g.length,m=[],g=0;g<f;g++)m[g]=~v.g[g];return new u(m,~v.h).add(T)}n.abs=function(){return N(this)?P(this):this},n.add=function(v){for(var f=Math.max(this.g.length,v.g.length),m=[],g=0,_=0;_<=f;_++){var w=g+(this.i(_)&65535)+(v.i(_)&65535),p=(w>>>16)+(this.i(_)>>>16)+(v.i(_)>>>16);g=p>>>16,w&=65535,p&=65535,m[_]=p<<16|w}return new u(m,m[m.length-1]&-2147483648?-1:0)};function D(v,f){return v.add(P(f))}n.j=function(v){if(R(this)||R(v))return A;if(N(this))return N(v)?P(this).j(P(v)):P(P(this).j(v));if(N(v))return P(this.j(P(v)));if(0>this.l(C)&&0>v.l(C))return y(this.m()*v.m());for(var f=this.g.length+v.g.length,m=[],g=0;g<2*f;g++)m[g]=0;for(g=0;g<this.g.length;g++)for(var _=0;_<v.g.length;_++){var w=this.i(g)>>>16,p=this.i(g)&65535,ce=v.i(_)>>>16,Ae=v.i(_)&65535;m[2*g+2*_]+=p*Ae,F(m,2*g+2*_),m[2*g+2*_+1]+=w*Ae,F(m,2*g+2*_+1),m[2*g+2*_+1]+=p*ce,F(m,2*g+2*_+1),m[2*g+2*_+2]+=w*ce,F(m,2*g+2*_+2)}for(g=0;g<f;g++)m[g]=m[2*g+1]<<16|m[2*g];for(g=f;g<2*f;g++)m[g]=0;return new u(m,0)};function F(v,f){for(;(v[f]&65535)!=v[f];)v[f+1]+=v[f]>>>16,v[f]&=65535,f++}function $(v,f){this.g=v,this.h=f}function ie(v,f){if(R(f))throw Error("division by zero");if(R(v))return new $(A,A);if(N(v))return f=ie(P(v),f),new $(P(f.g),P(f.h));if(N(f))return f=ie(v,P(f)),new $(P(f.g),f.h);if(30<v.g.length){if(N(v)||N(f))throw Error("slowDivide_ only works with positive integers.");for(var m=T,g=f;0>=g.l(v);)m=Oe(m),g=Oe(g);var _=Z(m,1),w=Z(g,1);for(g=Z(g,2),m=Z(m,2);!R(g);){var p=w.add(g);0>=p.l(v)&&(_=_.add(m),w=p),g=Z(g,1),m=Z(m,1)}return f=D(v,_.j(f)),new $(_,f)}for(_=A;0<=v.l(f);){for(m=Math.max(1,Math.floor(v.m()/f.m())),g=Math.ceil(Math.log(m)/Math.LN2),g=48>=g?1:Math.pow(2,g-48),w=y(m),p=w.j(f);N(p)||0<p.l(v);)m-=g,w=y(m),p=w.j(f);R(w)&&(w=T),_=_.add(w),v=D(v,p)}return new $(_,v)}n.A=function(v){return ie(this,v).h},n.and=function(v){for(var f=Math.max(this.g.length,v.g.length),m=[],g=0;g<f;g++)m[g]=this.i(g)&v.i(g);return new u(m,this.h&v.h)},n.or=function(v){for(var f=Math.max(this.g.length,v.g.length),m=[],g=0;g<f;g++)m[g]=this.i(g)|v.i(g);return new u(m,this.h|v.h)},n.xor=function(v){for(var f=Math.max(this.g.length,v.g.length),m=[],g=0;g<f;g++)m[g]=this.i(g)^v.i(g);return new u(m,this.h^v.h)};function Oe(v){for(var f=v.g.length+1,m=[],g=0;g<f;g++)m[g]=v.i(g)<<1|v.i(g-1)>>>31;return new u(m,v.h)}function Z(v,f){var m=f>>5;f%=32;for(var g=v.g.length-m,_=[],w=0;w<g;w++)_[w]=0<f?v.i(w+m)>>>f|v.i(w+m+1)<<32-f:v.i(w+m);return new u(_,v.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,_l=gl.Md5=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=y,u.fromString=b,Gr=gl.Integer=u}).apply(typeof ml<"u"?ml:typeof self<"u"?self:typeof window<"u"?window:{});var Hr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},je={};var yl,jg,vl,Il,wl,El,Tl,bl,Al;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(r,o,c){return r==Array.prototype||r==Object.prototype||(r[o]=c.value),r};function t(r){r=[typeof globalThis=="object"&&globalThis,r,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hr=="object"&&Hr];for(var o=0;o<r.length;++o){var c=r[o];if(c&&c.Math==Math)return c}throw Error("Cannot find global object")}var i=t(this);function s(r,o){if(o)e:{var c=i;r=r.split(".");for(var l=0;l<r.length-1;l++){var I=r[l];if(!(I in c))break e;c=c[I]}r=r[r.length-1],l=c[r],o=o(l),o!=l&&o!=null&&e(c,r,{configurable:!0,writable:!0,value:o})}}function a(r,o){r instanceof String&&(r+="");var c=0,l=!1,I={next:function(){if(!l&&c<r.length){var E=c++;return{value:o(E,r[E]),done:!1}}return l=!0,{done:!0,value:void 0}}};return I[Symbol.iterator]=function(){return I},I}s("Array.prototype.values",function(r){return r||function(){return a(this,function(o,c){return c})}});var u=u||{},h=this||self;function d(r){var o=typeof r;return o=o!="object"?o:r?Array.isArray(r)?"array":o:"null",o=="array"||o=="object"&&typeof r.length=="number"}function y(r){var o=typeof r;return o=="object"&&r!=null||o=="function"}function b(r,o,c){return r.call.apply(r.bind,arguments)}function A(r,o,c){if(!r)throw Error();if(2<arguments.length){var l=Array.prototype.slice.call(arguments,2);return function(){var I=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(I,l),r.apply(o,I)}}return function(){return r.apply(o,arguments)}}function T(r,o,c){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:A,T.apply(null,arguments)}function C(r,o){var c=Array.prototype.slice.call(arguments,1);return function(){var l=c.slice();return l.push.apply(l,arguments),r.apply(this,l)}}function R(r,o){function c(){}c.prototype=o.prototype,r.aa=o.prototype,r.prototype=new c,r.prototype.constructor=r,r.Qb=function(l,I,E){for(var S=Array(arguments.length-2),U=2;U<arguments.length;U++)S[U-2]=arguments[U];return o.prototype[I].apply(l,S)}}function N(r){let o=r.length;if(0<o){let c=Array(o);for(let l=0;l<o;l++)c[l]=r[l];return c}return[]}function P(r,o){for(let c=1;c<arguments.length;c++){let l=arguments[c];if(d(l)){let I=r.length||0,E=l.length||0;r.length=I+E;for(let S=0;S<E;S++)r[I+S]=l[S]}else r.push(l)}}class D{constructor(o,c){this.i=o,this.j=c,this.h=0,this.g=null}get(){let o;return 0<this.h?(this.h--,o=this.g,this.g=o.next,o.next=null):o=this.i(),o}}function F(r){return/^[\s\xa0]*$/.test(r)}function $(){var r=h.navigator;return r&&(r=r.userAgent)?r:""}function ie(r){return ie[" "](r),r}ie[" "]=function(){};var Oe=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function Z(r,o,c){for(let l in r)o.call(c,r[l],l,r)}function v(r,o){for(let c in r)o.call(void 0,r[c],c,r)}function f(r){let o={};for(let c in r)o[c]=r[c];return o}let m="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function g(r,o){let c,l;for(let I=1;I<arguments.length;I++){l=arguments[I];for(c in l)r[c]=l[c];for(let E=0;E<m.length;E++)c=m[E],Object.prototype.hasOwnProperty.call(l,c)&&(r[c]=l[c])}}function _(r){var o=1;r=r.split(":");let c=[];for(;0<o&&r.length;)c.push(r.shift()),o--;return r.length&&c.push(r.join(":")),c}function w(r){h.setTimeout(()=>{throw r},0)}function p(){var r=Ve;let o=null;return r.g&&(o=r.g,r.g=r.g.next,r.g||(r.h=null),o.next=null),o}class ce{constructor(){this.h=this.g=null}add(o,c){let l=Ae.get();l.set(o,c),this.h?this.h.next=l:this.g=l,this.h=l}}var Ae=new D(()=>new Yn,r=>r.reset());class Yn{constructor(){this.next=this.g=this.h=null}set(o,c){this.h=o,this.g=c,this.next=null}reset(){this.next=this.g=this.h=null}}let He,fe=!1,Ve=new ce,kt=()=>{let r=h.Promise.resolve(void 0);He=()=>{r.then(Jn)}};var Jn=()=>{for(var r;r=p();){try{r.h.call(r.g)}catch(c){w(c)}var o=Ae;o.j(r),100>o.h&&(o.h++,r.next=o.g,o.g=r)}fe=!1};function ye(){this.s=this.s,this.C=this.C}ye.prototype.s=!1,ye.prototype.ma=function(){this.s||(this.s=!0,this.N())},ye.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ee(r,o){this.type=r,this.g=this.target=o,this.defaultPrevented=!1}ee.prototype.h=function(){this.defaultPrevented=!0};var Bh=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var r=!1,o=Object.defineProperty({},"passive",{get:function(){r=!0}});try{let c=()=>{};h.addEventListener("test",c,o),h.removeEventListener("test",c,o)}catch{}return r})();function Zt(r,o){if(ee.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var c=this.type=r.type,l=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=o,o=r.relatedTarget){if(Oe){e:{try{ie(o.nodeName);var I=!0;break e}catch{}I=!1}I||(o=null)}}else c=="mouseover"?o=r.fromElement:c=="mouseout"&&(o=r.toElement);this.relatedTarget=o,l?(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0):(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType=typeof r.pointerType=="string"?r.pointerType:qh[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&Zt.aa.h.call(this)}}R(Zt,ee);var qh={2:"touch",3:"pen",4:"mouse"};Zt.prototype.h=function(){Zt.aa.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var en="closure_listenable_"+(1e6*Math.random()|0),$h=0;function jh(r,o,c,l,I){this.listener=r,this.proxy=null,this.src=o,this.type=c,this.capture=!!l,this.ha=I,this.key=++$h,this.da=this.fa=!1}function Xn(r){r.da=!0,r.listener=null,r.proxy=null,r.src=null,r.ha=null}function Zn(r){this.src=r,this.g={},this.h=0}Zn.prototype.add=function(r,o,c,l,I){var E=r.toString();r=this.g[E],r||(r=this.g[E]=[],this.h++);var S=yi(r,o,l,I);return-1<S?(o=r[S],c||(o.fa=!1)):(o=new jh(o,this.src,E,!!l,I),o.fa=c,r.push(o)),o};function _i(r,o){var c=o.type;if(c in r.g){var l=r.g[c],I=Array.prototype.indexOf.call(l,o,void 0),E;(E=0<=I)&&Array.prototype.splice.call(l,I,1),E&&(Xn(o),r.g[c].length==0&&(delete r.g[c],r.h--))}}function yi(r,o,c,l){for(var I=0;I<r.length;++I){var E=r[I];if(!E.da&&E.listener==o&&E.capture==!!c&&E.ha==l)return I}return-1}var vi="closure_lm_"+(1e6*Math.random()|0),Ii={};function ea(r,o,c,l,I){if(l&&l.once)return na(r,o,c,l,I);if(Array.isArray(o)){for(var E=0;E<o.length;E++)ea(r,o[E],c,l,I);return null}return c=bi(c),r&&r[en]?r.K(o,c,y(l)?!!l.capture:!!l,I):ta(r,o,c,!1,l,I)}function ta(r,o,c,l,I,E){if(!o)throw Error("Invalid event type");var S=y(I)?!!I.capture:!!I,U=Ei(r);if(U||(r[vi]=U=new Zn(r)),c=U.add(o,c,l,S,E),c.proxy)return c;if(l=zh(),c.proxy=l,l.src=r,l.listener=c,r.addEventListener)Bh||(I=S),I===void 0&&(I=!1),r.addEventListener(o.toString(),l,I);else if(r.attachEvent)r.attachEvent(ia(o.toString()),l);else if(r.addListener&&r.removeListener)r.addListener(l);else throw Error("addEventListener and attachEvent are unavailable.");return c}function zh(){function r(c){return o.call(r.src,r.listener,c)}let o=Wh;return r}function na(r,o,c,l,I){if(Array.isArray(o)){for(var E=0;E<o.length;E++)na(r,o[E],c,l,I);return null}return c=bi(c),r&&r[en]?r.L(o,c,y(l)?!!l.capture:!!l,I):ta(r,o,c,!0,l,I)}function ra(r,o,c,l,I){if(Array.isArray(o))for(var E=0;E<o.length;E++)ra(r,o[E],c,l,I);else l=y(l)?!!l.capture:!!l,c=bi(c),r&&r[en]?(r=r.i,o=String(o).toString(),o in r.g&&(E=r.g[o],c=yi(E,c,l,I),-1<c&&(Xn(E[c]),Array.prototype.splice.call(E,c,1),E.length==0&&(delete r.g[o],r.h--)))):r&&(r=Ei(r))&&(o=r.g[o.toString()],r=-1,o&&(r=yi(o,c,l,I)),(c=-1<r?o[r]:null)&&wi(c))}function wi(r){if(typeof r!="number"&&r&&!r.da){var o=r.src;if(o&&o[en])_i(o.i,r);else{var c=r.type,l=r.proxy;o.removeEventListener?o.removeEventListener(c,l,r.capture):o.detachEvent?o.detachEvent(ia(c),l):o.addListener&&o.removeListener&&o.removeListener(l),(c=Ei(o))?(_i(c,r),c.h==0&&(c.src=null,o[vi]=null)):Xn(r)}}}function ia(r){return r in Ii?Ii[r]:Ii[r]="on"+r}function Wh(r,o){if(r.da)r=!0;else{o=new Zt(o,this);var c=r.listener,l=r.ha||r.src;r.fa&&wi(r),r=c.call(l,o)}return r}function Ei(r){return r=r[vi],r instanceof Zn?r:null}var Ti="__closure_events_fn_"+(1e9*Math.random()>>>0);function bi(r){return typeof r=="function"?r:(r[Ti]||(r[Ti]=function(o){return r.handleEvent(o)}),r[Ti])}function te(){ye.call(this),this.i=new Zn(this),this.M=this,this.F=null}R(te,ye),te.prototype[en]=!0,te.prototype.removeEventListener=function(r,o,c,l){ra(this,r,o,c,l)};function se(r,o){var c,l=r.F;if(l)for(c=[];l;l=l.F)c.push(l);if(r=r.M,l=o.type||o,typeof o=="string")o=new ee(o,r);else if(o instanceof ee)o.target=o.target||r;else{var I=o;o=new ee(l,r),g(o,I)}if(I=!0,c)for(var E=c.length-1;0<=E;E--){var S=o.g=c[E];I=er(S,l,!0,o)&&I}if(S=o.g=r,I=er(S,l,!0,o)&&I,I=er(S,l,!1,o)&&I,c)for(E=0;E<c.length;E++)S=o.g=c[E],I=er(S,l,!1,o)&&I}te.prototype.N=function(){if(te.aa.N.call(this),this.i){var r=this.i,o;for(o in r.g){for(var c=r.g[o],l=0;l<c.length;l++)Xn(c[l]);delete r.g[o],r.h--}}this.F=null},te.prototype.K=function(r,o,c,l){return this.i.add(String(r),o,!1,c,l)},te.prototype.L=function(r,o,c,l){return this.i.add(String(r),o,!0,c,l)};function er(r,o,c,l){if(o=r.i.g[String(o)],!o)return!0;o=o.concat();for(var I=!0,E=0;E<o.length;++E){var S=o[E];if(S&&!S.da&&S.capture==c){var U=S.listener,Y=S.ha||S.src;S.fa&&_i(r.i,S),I=U.call(Y,l)!==!1&&I}}return I&&!l.defaultPrevented}function sa(r,o,c){if(typeof r=="function")c&&(r=T(r,c));else if(r&&typeof r.handleEvent=="function")r=T(r.handleEvent,r);else throw Error("Invalid listener argument");return 2147483647<Number(o)?-1:h.setTimeout(r,o||0)}function oa(r){r.g=sa(()=>{r.g=null,r.i&&(r.i=!1,oa(r))},r.l);let o=r.h;r.h=null,r.m.apply(null,o)}class Gh extends ye{constructor(o,c){super(),this.m=o,this.l=c,this.h=null,this.i=!1,this.g=null}j(o){this.h=arguments,this.g?this.i=!0:oa(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tn(r){ye.call(this),this.h=r,this.g={}}R(tn,ye);var aa=[];function ca(r){Z(r.g,function(o,c){this.g.hasOwnProperty(c)&&wi(o)},r),r.g={}}tn.prototype.N=function(){tn.aa.N.call(this),ca(this)},tn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ai=h.JSON.stringify,Hh=h.JSON.parse,Kh=class{stringify(r){return h.JSON.stringify(r,void 0)}parse(r){return h.JSON.parse(r,void 0)}};function Si(){}Si.prototype.h=null;function ua(r){return r.h||(r.h=r.i())}function la(){}var nn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ri(){ee.call(this,"d")}R(Ri,ee);function Pi(){ee.call(this,"c")}R(Pi,ee);var ht={},ha=null;function tr(){return ha=ha||new te}ht.La="serverreachability";function da(r){ee.call(this,ht.La,r)}R(da,ee);function rn(r){let o=tr();se(o,new da(o))}ht.STAT_EVENT="statevent";function fa(r,o){ee.call(this,ht.STAT_EVENT,r),this.stat=o}R(fa,ee);function oe(r){let o=tr();se(o,new fa(o,r))}ht.Ma="timingevent";function pa(r,o){ee.call(this,ht.Ma,r),this.size=o}R(pa,ee);function sn(r,o){if(typeof r!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){r()},o)}function on(){this.g=!0}on.prototype.xa=function(){this.g=!1};function Qh(r,o,c,l,I,E){r.info(function(){if(r.g)if(E)for(var S="",U=E.split("&"),Y=0;Y<U.length;Y++){var L=U[Y].split("=");if(1<L.length){var ne=L[0];L=L[1];var re=ne.split("_");S=2<=re.length&&re[1]=="type"?S+(ne+"="+L+"&"):S+(ne+"=redacted&")}}else S=null;else S=E;return"XMLHTTP REQ ("+l+") [attempt "+I+"]: "+o+`
`+c+`
`+S})}function Yh(r,o,c,l,I,E,S){r.info(function(){return"XMLHTTP RESP ("+l+") [ attempt "+I+"]: "+o+`
`+c+`
`+E+" "+S})}function Dt(r,o,c,l){r.info(function(){return"XMLHTTP TEXT ("+o+"): "+Xh(r,c)+(l?" "+l:"")})}function Jh(r,o){r.info(function(){return"TIMEOUT: "+o})}on.prototype.info=function(){};function Xh(r,o){if(!r.g)return o;if(!o)return null;try{var c=JSON.parse(o);if(c){for(r=0;r<c.length;r++)if(Array.isArray(c[r])){var l=c[r];if(!(2>l.length)){var I=l[1];if(Array.isArray(I)&&!(1>I.length)){var E=I[0];if(E!="noop"&&E!="stop"&&E!="close")for(var S=1;S<I.length;S++)I[S]=""}}}}return Ai(c)}catch{return o}}var nr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ma={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ci;function rr(){}R(rr,Si),rr.prototype.g=function(){return new XMLHttpRequest},rr.prototype.i=function(){return{}},Ci=new rr;function Ke(r,o,c,l){this.j=r,this.i=o,this.l=c,this.R=l||1,this.U=new tn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ga}function ga(){this.i=null,this.g="",this.h=!1}var _a={},ki={};function Di(r,o,c){r.L=1,r.v=ar(Le(o)),r.m=c,r.P=!0,ya(r,null)}function ya(r,o){r.F=Date.now(),ir(r),r.A=Le(r.v);var c=r.A,l=r.R;Array.isArray(l)||(l=[String(l)]),Na(c.i,"t",l),r.C=0,c=r.j.J,r.h=new ga,r.g=Ya(r.j,c?o:null,!r.m),0<r.O&&(r.M=new Gh(T(r.Y,r,r.g),r.O)),o=r.U,c=r.g,l=r.ca;var I="readystatechange";Array.isArray(I)||(I&&(aa[0]=I.toString()),I=aa);for(var E=0;E<I.length;E++){var S=ea(c,I[E],l||o.handleEvent,!1,o.h||o);if(!S)break;o.g[S.key]=S}o=r.H?f(r.H):{},r.m?(r.u||(r.u="POST"),o["Content-Type"]="application/x-www-form-urlencoded",r.g.ea(r.A,r.u,r.m,o)):(r.u="GET",r.g.ea(r.A,r.u,null,o)),rn(),Qh(r.i,r.u,r.A,r.l,r.R,r.m)}Ke.prototype.ca=function(r){r=r.target;let o=this.M;o&&Me(r)==3?o.j():this.Y(r)},Ke.prototype.Y=function(r){try{if(r==this.g)e:{let re=Me(this.g);var o=this.g.Ba();let Ot=this.g.Z();if(!(3>re)&&(re!=3||this.g&&(this.h.h||this.g.oa()||Ua(this.g)))){this.J||re!=4||o==7||(o==8||0>=Ot?rn(3):rn(2)),Ni(this);var c=this.g.Z();this.X=c;t:if(va(this)){var l=Ua(this.g);r="";var I=l.length,E=Me(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dt(this),an(this);var S="";break t}this.h.i=new h.TextDecoder}for(o=0;o<I;o++)this.h.h=!0,r+=this.h.i.decode(l[o],{stream:!(E&&o==I-1)});l.length=0,this.h.g+=r,this.C=0,S=this.h.g}else S=this.g.oa();if(this.o=c==200,Yh(this.i,this.u,this.A,this.l,this.R,re,c),this.o){if(this.T&&!this.K){t:{if(this.g){var U,Y=this.g;if((U=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(U)){var L=U;break t}}L=null}if(c=L)Dt(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xi(this,c);else{this.o=!1,this.s=3,oe(12),dt(this),an(this);break e}}if(this.P){c=!0;let ve;for(;!this.J&&this.C<S.length;)if(ve=Zh(this,S),ve==ki){re==4&&(this.s=4,oe(14),c=!1),Dt(this.i,this.l,null,"[Incomplete Response]");break}else if(ve==_a){this.s=4,oe(15),Dt(this.i,this.l,S,"[Invalid Chunk]"),c=!1;break}else Dt(this.i,this.l,ve,null),xi(this,ve);if(va(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),re!=4||S.length!=0||this.h.h||(this.s=1,oe(16),c=!1),this.o=this.o&&c,!c)Dt(this.i,this.l,S,"[Invalid Chunked Response]"),dt(this),an(this);else if(0<S.length&&!this.W){this.W=!0;var ne=this.j;ne.g==this&&ne.ba&&!ne.M&&(ne.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),Ui(ne),ne.M=!0,oe(11))}}else Dt(this.i,this.l,S,null),xi(this,S);re==4&&dt(this),this.o&&!this.J&&(re==4?Ga(this.j,this):(this.o=!1,ir(this)))}else gd(this.g),c==400&&0<S.indexOf("Unknown SID")?(this.s=3,oe(12)):(this.s=0,oe(13)),dt(this),an(this)}}}catch{}finally{}};function va(r){return r.g?r.u=="GET"&&r.L!=2&&r.j.Ca:!1}function Zh(r,o){var c=r.C,l=o.indexOf(`
`,c);return l==-1?ki:(c=Number(o.substring(c,l)),isNaN(c)?_a:(l+=1,l+c>o.length?ki:(o=o.slice(l,l+c),r.C=l+c,o)))}Ke.prototype.cancel=function(){this.J=!0,dt(this)};function ir(r){r.S=Date.now()+r.I,Ia(r,r.I)}function Ia(r,o){if(r.B!=null)throw Error("WatchDog timer not null");r.B=sn(T(r.ba,r),o)}function Ni(r){r.B&&(h.clearTimeout(r.B),r.B=null)}Ke.prototype.ba=function(){this.B=null;let r=Date.now();0<=r-this.S?(Jh(this.i,this.A),this.L!=2&&(rn(),oe(17)),dt(this),this.s=2,an(this)):Ia(this,this.S-r)};function an(r){r.j.G==0||r.J||Ga(r.j,r)}function dt(r){Ni(r);var o=r.M;o&&typeof o.ma=="function"&&o.ma(),r.M=null,ca(r.U),r.g&&(o=r.g,r.g=null,o.abort(),o.ma())}function xi(r,o){try{var c=r.j;if(c.G!=0&&(c.g==r||Oi(c.h,r))){if(!r.K&&Oi(c.h,r)&&c.G==3){try{var l=c.Da.g.parse(o)}catch{l=null}if(Array.isArray(l)&&l.length==3){var I=l;if(I[0]==0){e:if(!c.u){if(c.g)if(c.g.F+3e3<r.F)dr(c),lr(c);else break e;Fi(c),oe(18)}}else c.za=I[1],0<c.za-c.T&&37500>I[2]&&c.F&&c.v==0&&!c.C&&(c.C=sn(T(c.Za,c),6e3));if(1>=Ta(c.h)&&c.ca){try{c.ca()}catch{}c.ca=void 0}}else pt(c,11)}else if((r.K||c.g==r)&&dr(c),!F(o))for(I=c.Da.g.parse(o),o=0;o<I.length;o++){let L=I[o];if(c.T=L[0],L=L[1],c.G==2)if(L[0]=="c"){c.K=L[1],c.ia=L[2];let ne=L[3];ne!=null&&(c.la=ne,c.j.info("VER="+c.la));let re=L[4];re!=null&&(c.Aa=re,c.j.info("SVER="+c.Aa));let Ot=L[5];Ot!=null&&typeof Ot=="number"&&0<Ot&&(l=1.5*Ot,c.L=l,c.j.info("backChannelRequestTimeoutMs_="+l)),l=c;let ve=r.g;if(ve){let pr=ve.g?ve.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pr){var E=l.h;E.g||pr.indexOf("spdy")==-1&&pr.indexOf("quic")==-1&&pr.indexOf("h2")==-1||(E.j=E.l,E.g=new Set,E.h&&(Vi(E,E.h),E.h=null))}if(l.D){let Bi=ve.g?ve.g.getResponseHeader("X-HTTP-Session-Id"):null;Bi&&(l.ya=Bi,B(l.I,l.D,Bi))}}c.G=3,c.l&&c.l.ua(),c.ba&&(c.R=Date.now()-r.F,c.j.info("Handshake RTT: "+c.R+"ms")),l=c;var S=r;if(l.qa=Qa(l,l.J?l.ia:null,l.W),S.K){ba(l.h,S);var U=S,Y=l.L;Y&&(U.I=Y),U.B&&(Ni(U),ir(U)),l.g=S}else za(l);0<c.i.length&&hr(c)}else L[0]!="stop"&&L[0]!="close"||pt(c,7);else c.G==3&&(L[0]=="stop"||L[0]=="close"?L[0]=="stop"?pt(c,7):Mi(c):L[0]!="noop"&&c.l&&c.l.ta(L),c.v=0)}}rn(4)}catch{}}var ed=class{constructor(r,o){this.g=r,this.map=o}};function wa(r){this.l=r||10,h.PerformanceNavigationTiming?(r=h.performance.getEntriesByType("navigation"),r=0<r.length&&(r[0].nextHopProtocol=="hq"||r[0].nextHopProtocol=="h2")):r=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ea(r){return r.h?!0:r.g?r.g.size>=r.j:!1}function Ta(r){return r.h?1:r.g?r.g.size:0}function Oi(r,o){return r.h?r.h==o:r.g?r.g.has(o):!1}function Vi(r,o){r.g?r.g.add(o):r.h=o}function ba(r,o){r.h&&r.h==o?r.h=null:r.g&&r.g.has(o)&&r.g.delete(o)}wa.prototype.cancel=function(){if(this.i=Aa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let r of this.g.values())r.cancel();this.g.clear()}};function Aa(r){if(r.h!=null)return r.i.concat(r.h.D);if(r.g!=null&&r.g.size!==0){let o=r.i;for(let c of r.g.values())o=o.concat(c.D);return o}return N(r.i)}function td(r){if(r.V&&typeof r.V=="function")return r.V();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if(typeof r=="string")return r.split("");if(d(r)){for(var o=[],c=r.length,l=0;l<c;l++)o.push(r[l]);return o}o=[],c=0;for(l in r)o[c++]=r[l];return o}function nd(r){if(r.na&&typeof r.na=="function")return r.na();if(!r.V||typeof r.V!="function"){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(d(r)||typeof r=="string"){var o=[];r=r.length;for(var c=0;c<r;c++)o.push(c);return o}o=[],c=0;for(let l in r)o[c++]=l;return o}}}function Sa(r,o){if(r.forEach&&typeof r.forEach=="function")r.forEach(o,void 0);else if(d(r)||typeof r=="string")Array.prototype.forEach.call(r,o,void 0);else for(var c=nd(r),l=td(r),I=l.length,E=0;E<I;E++)o.call(void 0,l[E],c&&c[E],r)}var Ra=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rd(r,o){if(r){r=r.split("&");for(var c=0;c<r.length;c++){var l=r[c].indexOf("="),I=null;if(0<=l){var E=r[c].substring(0,l);I=r[c].substring(l+1)}else E=r[c];o(E,I?decodeURIComponent(I.replace(/\+/g," ")):"")}}}function ft(r){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,r instanceof ft){this.h=r.h,sr(this,r.j),this.o=r.o,this.g=r.g,or(this,r.s),this.l=r.l;var o=r.i,c=new ln;c.i=o.i,o.g&&(c.g=new Map(o.g),c.h=o.h),Pa(this,c),this.m=r.m}else r&&(o=String(r).match(Ra))?(this.h=!1,sr(this,o[1]||"",!0),this.o=cn(o[2]||""),this.g=cn(o[3]||"",!0),or(this,o[4]),this.l=cn(o[5]||"",!0),Pa(this,o[6]||"",!0),this.m=cn(o[7]||"")):(this.h=!1,this.i=new ln(null,this.h))}ft.prototype.toString=function(){var r=[],o=this.j;o&&r.push(un(o,Ca,!0),":");var c=this.g;return(c||o=="file")&&(r.push("//"),(o=this.o)&&r.push(un(o,Ca,!0),"@"),r.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.s,c!=null&&r.push(":",String(c))),(c=this.l)&&(this.g&&c.charAt(0)!="/"&&r.push("/"),r.push(un(c,c.charAt(0)=="/"?od:sd,!0))),(c=this.i.toString())&&r.push("?",c),(c=this.m)&&r.push("#",un(c,cd)),r.join("")};function Le(r){return new ft(r)}function sr(r,o,c){r.j=c?cn(o,!0):o,r.j&&(r.j=r.j.replace(/:$/,""))}function or(r,o){if(o){if(o=Number(o),isNaN(o)||0>o)throw Error("Bad port number "+o);r.s=o}else r.s=null}function Pa(r,o,c){o instanceof ln?(r.i=o,ud(r.i,r.h)):(c||(o=un(o,ad)),r.i=new ln(o,r.h))}function B(r,o,c){r.i.set(o,c)}function ar(r){return B(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function cn(r,o){return r?o?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function un(r,o,c){return typeof r=="string"?(r=encodeURI(r).replace(o,id),c&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function id(r){return r=r.charCodeAt(0),"%"+(r>>4&15).toString(16)+(r&15).toString(16)}var Ca=/[#\/\?@]/g,sd=/[#\?:]/g,od=/[#\?]/g,ad=/[#\?@]/g,cd=/#/g;function ln(r,o){this.h=this.g=null,this.i=r||null,this.j=!!o}function Qe(r){r.g||(r.g=new Map,r.h=0,r.i&&rd(r.i,function(o,c){r.add(decodeURIComponent(o.replace(/\+/g," ")),c)}))}n=ln.prototype,n.add=function(r,o){Qe(this),this.i=null,r=Nt(this,r);var c=this.g.get(r);return c||this.g.set(r,c=[]),c.push(o),this.h+=1,this};function ka(r,o){Qe(r),o=Nt(r,o),r.g.has(o)&&(r.i=null,r.h-=r.g.get(o).length,r.g.delete(o))}function Da(r,o){return Qe(r),o=Nt(r,o),r.g.has(o)}n.forEach=function(r,o){Qe(this),this.g.forEach(function(c,l){c.forEach(function(I){r.call(o,I,l,this)},this)},this)},n.na=function(){Qe(this);let r=Array.from(this.g.values()),o=Array.from(this.g.keys()),c=[];for(let l=0;l<o.length;l++){let I=r[l];for(let E=0;E<I.length;E++)c.push(o[l])}return c},n.V=function(r){Qe(this);let o=[];if(typeof r=="string")Da(this,r)&&(o=o.concat(this.g.get(Nt(this,r))));else{r=Array.from(this.g.values());for(let c=0;c<r.length;c++)o=o.concat(r[c])}return o},n.set=function(r,o){return Qe(this),this.i=null,r=Nt(this,r),Da(this,r)&&(this.h-=this.g.get(r).length),this.g.set(r,[o]),this.h+=1,this},n.get=function(r,o){return r?(r=this.V(r),0<r.length?String(r[0]):o):o};function Na(r,o,c){ka(r,o),0<c.length&&(r.i=null,r.g.set(Nt(r,o),N(c)),r.h+=c.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let r=[],o=Array.from(this.g.keys());for(var c=0;c<o.length;c++){var l=o[c];let E=encodeURIComponent(String(l)),S=this.V(l);for(l=0;l<S.length;l++){var I=E;S[l]!==""&&(I+="="+encodeURIComponent(String(S[l]))),r.push(I)}}return this.i=r.join("&")};function Nt(r,o){return o=String(o),r.j&&(o=o.toLowerCase()),o}function ud(r,o){o&&!r.j&&(Qe(r),r.i=null,r.g.forEach(function(c,l){var I=l.toLowerCase();l!=I&&(ka(this,l),Na(this,I,c))},r)),r.j=o}function ld(r,o){let c=new on;if(h.Image){let l=new Image;l.onload=C(Ye,c,"TestLoadImage: loaded",!0,o,l),l.onerror=C(Ye,c,"TestLoadImage: error",!1,o,l),l.onabort=C(Ye,c,"TestLoadImage: abort",!1,o,l),l.ontimeout=C(Ye,c,"TestLoadImage: timeout",!1,o,l),h.setTimeout(function(){l.ontimeout&&l.ontimeout()},1e4),l.src=r}else o(!1)}function hd(r,o){let c=new on,l=new AbortController,I=setTimeout(()=>{l.abort(),Ye(c,"TestPingServer: timeout",!1,o)},1e4);fetch(r,{signal:l.signal}).then(E=>{clearTimeout(I),E.ok?Ye(c,"TestPingServer: ok",!0,o):Ye(c,"TestPingServer: server error",!1,o)}).catch(()=>{clearTimeout(I),Ye(c,"TestPingServer: error",!1,o)})}function Ye(r,o,c,l,I){try{I&&(I.onload=null,I.onerror=null,I.onabort=null,I.ontimeout=null),l(c)}catch{}}function dd(){this.g=new Kh}function fd(r,o,c){let l=c||"";try{Sa(r,function(I,E){let S=I;y(I)&&(S=Ai(I)),o.push(l+E+"="+encodeURIComponent(S))})}catch(I){throw o.push(l+"type="+encodeURIComponent("_badmap")),I}}function hn(r){this.l=r.Ub||null,this.j=r.eb||!1}R(hn,Si),hn.prototype.g=function(){return new cr(this.l,this.j)},hn.prototype.i=(function(r){return function(){return r}})({});function cr(r,o){te.call(this),this.D=r,this.o=o,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(cr,te),n=cr.prototype,n.open=function(r,o){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=r,this.A=o,this.readyState=1,fn(this)},n.send=function(r){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let o={headers:this.u,method:this.B,credentials:this.m,cache:void 0};r&&(o.body=r),(this.D||h).fetch(new Request(this.A,o)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,dn(this)),this.readyState=0},n.Sa=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,fn(this)),this.g&&(this.readyState=3,fn(this),this.g)))if(this.responseType==="arraybuffer")r.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xa(this)}else r.text().then(this.Ra.bind(this),this.ga.bind(this))};function xa(r){r.j.read().then(r.Pa.bind(r)).catch(r.ga.bind(r))}n.Pa=function(r){if(this.g){if(this.o&&r.value)this.response.push(r.value);else if(!this.o){var o=r.value?r.value:new Uint8Array(0);(o=this.v.decode(o,{stream:!r.done}))&&(this.response=this.responseText+=o)}r.done?dn(this):fn(this),this.readyState==3&&xa(this)}},n.Ra=function(r){this.g&&(this.response=this.responseText=r,dn(this))},n.Qa=function(r){this.g&&(this.response=r,dn(this))},n.ga=function(){this.g&&dn(this)};function dn(r){r.readyState=4,r.l=null,r.j=null,r.v=null,fn(r)}n.setRequestHeader=function(r,o){this.u.append(r,o)},n.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let r=[],o=this.h.entries();for(var c=o.next();!c.done;)c=c.value,r.push(c[0]+": "+c[1]),c=o.next();return r.join(`\r
`)};function fn(r){r.onreadystatechange&&r.onreadystatechange.call(r)}Object.defineProperty(cr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(r){this.m=r?"include":"same-origin"}});function Oa(r){let o="";return Z(r,function(c,l){o+=l,o+=":",o+=c,o+=`\r
`}),o}function Li(r,o,c){e:{for(l in c){var l=!1;break e}l=!0}l||(c=Oa(c),typeof r=="string"?c!=null&&encodeURIComponent(String(c)):B(r,o,c))}function W(r){te.call(this),this.headers=new Map,this.o=r||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(W,te);var pd=/^https?$/i,md=["POST","PUT"];n=W.prototype,n.Ha=function(r){this.J=r},n.ea=function(r,o,c,l){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+r);o=o?o.toUpperCase():"GET",this.D=r,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ci.g(),this.v=this.o?ua(this.o):ua(Ci),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(o,String(r),!0),this.B=!1}catch(E){Va(this,E);return}if(r=c||"",c=new Map(this.headers),l)if(Object.getPrototypeOf(l)===Object.prototype)for(var I in l)c.set(I,l[I]);else if(typeof l.keys=="function"&&typeof l.get=="function")for(let E of l.keys())c.set(E,l.get(E));else throw Error("Unknown input type for opt_headers: "+String(l));l=Array.from(c.keys()).find(E=>E.toLowerCase()=="content-type"),I=h.FormData&&r instanceof h.FormData,!(0<=Array.prototype.indexOf.call(md,o,void 0))||l||I||c.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[E,S]of c)this.g.setRequestHeader(E,S);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Fa(this),this.u=!0,this.g.send(r),this.u=!1}catch(E){Va(this,E)}};function Va(r,o){r.h=!1,r.g&&(r.j=!0,r.g.abort(),r.j=!1),r.l=o,r.m=5,La(r),ur(r)}function La(r){r.A||(r.A=!0,se(r,"complete"),se(r,"error"))}n.abort=function(r){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=r||7,se(this,"complete"),se(this,"abort"),ur(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ur(this,!0)),W.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ma(this):this.bb())},n.bb=function(){Ma(this)};function Ma(r){if(r.h&&typeof u<"u"&&(!r.v[1]||Me(r)!=4||r.Z()!=2)){if(r.u&&Me(r)==4)sa(r.Ea,0,r);else if(se(r,"readystatechange"),Me(r)==4){r.h=!1;try{let S=r.Z();e:switch(S){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var o=!0;break e;default:o=!1}var c;if(!(c=o)){var l;if(l=S===0){var I=String(r.D).match(Ra)[1]||null;!I&&h.self&&h.self.location&&(I=h.self.location.protocol.slice(0,-1)),l=!pd.test(I?I.toLowerCase():"")}c=l}if(c)se(r,"complete"),se(r,"success");else{r.m=6;try{var E=2<Me(r)?r.g.statusText:""}catch{E=""}r.l=E+" ["+r.Z()+"]",La(r)}}finally{ur(r)}}}}function ur(r,o){if(r.g){Fa(r);let c=r.g,l=r.v[0]?()=>{}:null;r.g=null,r.v=null,o||se(r,"ready");try{c.onreadystatechange=l}catch{}}}function Fa(r){r.I&&(h.clearTimeout(r.I),r.I=null)}n.isActive=function(){return!!this.g};function Me(r){return r.g?r.g.readyState:0}n.Z=function(){try{return 2<Me(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(r){if(this.g){var o=this.g.responseText;return r&&o.indexOf(r)==0&&(o=o.substring(r.length)),Hh(o)}};function Ua(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.H){case"":case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function gd(r){let o={};r=(r.g&&2<=Me(r)&&r.g.getAllResponseHeaders()||"").split(`\r
`);for(let l=0;l<r.length;l++){if(F(r[l]))continue;var c=_(r[l]);let I=c[0];if(c=c[1],typeof c!="string")continue;c=c.trim();let E=o[I]||[];o[I]=E,E.push(c)}v(o,function(l){return l.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function pn(r,o,c){return c&&c.internalChannelParams&&c.internalChannelParams[r]||o}function Ba(r){this.Aa=0,this.i=[],this.j=new on,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=pn("failFast",!1,r),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=pn("baseRetryDelayMs",5e3,r),this.cb=pn("retryDelaySeedMs",1e4,r),this.Wa=pn("forwardChannelMaxRetries",2,r),this.wa=pn("forwardChannelRequestTimeoutMs",2e4,r),this.pa=r&&r.xmlHttpFactory||void 0,this.Xa=r&&r.Tb||void 0,this.Ca=r&&r.useFetchStreams||!1,this.L=void 0,this.J=r&&r.supportsCrossDomainXhr||!1,this.K="",this.h=new wa(r&&r.concurrentRequestLimit),this.Da=new dd,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=r&&r.Rb||!1,r&&r.xa&&this.j.xa(),r&&r.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&r&&r.detectBufferingProxy||!1,this.ja=void 0,r&&r.longPollingTimeout&&0<r.longPollingTimeout&&(this.ja=r.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ba.prototype,n.la=8,n.G=1,n.connect=function(r,o,c,l){oe(0),this.W=r,this.H=o||{},c&&l!==void 0&&(this.H.OSID=c,this.H.OAID=l),this.F=this.X,this.I=Qa(this,null,this.W),hr(this)};function Mi(r){if(qa(r),r.G==3){var o=r.U++,c=Le(r.I);if(B(c,"SID",r.K),B(c,"RID",o),B(c,"TYPE","terminate"),mn(r,c),o=new Ke(r,r.j,o),o.L=2,o.v=ar(Le(c)),c=!1,h.navigator&&h.navigator.sendBeacon)try{c=h.navigator.sendBeacon(o.v.toString(),"")}catch{}!c&&h.Image&&(new Image().src=o.v,c=!0),c||(o.g=Ya(o.j,null),o.g.ea(o.v)),o.F=Date.now(),ir(o)}Ka(r)}function lr(r){r.g&&(Ui(r),r.g.cancel(),r.g=null)}function qa(r){lr(r),r.u&&(h.clearTimeout(r.u),r.u=null),dr(r),r.h.cancel(),r.s&&(typeof r.s=="number"&&h.clearTimeout(r.s),r.s=null)}function hr(r){if(!Ea(r.h)&&!r.s){r.s=!0;var o=r.Ga;He||kt(),fe||(He(),fe=!0),Ve.add(o,r),r.B=0}}function _d(r,o){return Ta(r.h)>=r.h.j-(r.s?1:0)?!1:r.s?(r.i=o.D.concat(r.i),!0):r.G==1||r.G==2||r.B>=(r.Va?0:r.Wa)?!1:(r.s=sn(T(r.Ga,r,o),Ha(r,r.B)),r.B++,!0)}n.Ga=function(r){if(this.s)if(this.s=null,this.G==1){if(!r){this.U=Math.floor(1e5*Math.random()),r=this.U++;let I=new Ke(this,this.j,r),E=this.o;if(this.S&&(E?(E=f(E),g(E,this.S)):E=this.S),this.m!==null||this.O||(I.H=E,E=null),this.P)e:{for(var o=0,c=0;c<this.i.length;c++){t:{var l=this.i[c];if("__data__"in l.map&&(l=l.map.__data__,typeof l=="string")){l=l.length;break t}l=void 0}if(l===void 0)break;if(o+=l,4096<o){o=c;break e}if(o===4096||c===this.i.length-1){o=c+1;break e}}o=1e3}else o=1e3;o=ja(this,I,o),c=Le(this.I),B(c,"RID",r),B(c,"CVER",22),this.D&&B(c,"X-HTTP-Session-Id",this.D),mn(this,c),E&&(this.O?o="headers="+encodeURIComponent(String(Oa(E)))+"&"+o:this.m&&Li(c,this.m,E)),Vi(this.h,I),this.Ua&&B(c,"TYPE","init"),this.P?(B(c,"$req",o),B(c,"SID","null"),I.T=!0,Di(I,c,null)):Di(I,c,o),this.G=2}}else this.G==3&&(r?$a(this,r):this.i.length==0||Ea(this.h)||$a(this))};function $a(r,o){var c;o?c=o.l:c=r.U++;let l=Le(r.I);B(l,"SID",r.K),B(l,"RID",c),B(l,"AID",r.T),mn(r,l),r.m&&r.o&&Li(l,r.m,r.o),c=new Ke(r,r.j,c,r.B+1),r.m===null&&(c.H=r.o),o&&(r.i=o.D.concat(r.i)),o=ja(r,c,1e3),c.I=Math.round(.5*r.wa)+Math.round(.5*r.wa*Math.random()),Vi(r.h,c),Di(c,l,o)}function mn(r,o){r.H&&Z(r.H,function(c,l){B(o,l,c)}),r.l&&Sa({},function(c,l){B(o,l,c)})}function ja(r,o,c){c=Math.min(r.i.length,c);var l=r.l?T(r.l.Na,r.l,r):null;e:{var I=r.i;let E=-1;for(;;){let S=["count="+c];E==-1?0<c?(E=I[0].g,S.push("ofs="+E)):E=0:S.push("ofs="+E);let U=!0;for(let Y=0;Y<c;Y++){let L=I[Y].g,ne=I[Y].map;if(L-=E,0>L)E=Math.max(0,I[Y].g-100),U=!1;else try{fd(ne,S,"req"+L+"_")}catch{l&&l(ne)}}if(U){l=S.join("&");break e}}}return r=r.i.splice(0,c),o.D=r,l}function za(r){if(!r.g&&!r.u){r.Y=1;var o=r.Fa;He||kt(),fe||(He(),fe=!0),Ve.add(o,r),r.v=0}}function Fi(r){return r.g||r.u||3<=r.v?!1:(r.Y++,r.u=sn(T(r.Fa,r),Ha(r,r.v)),r.v++,!0)}n.Fa=function(){if(this.u=null,Wa(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var r=2*this.R;this.j.info("BP detection timer enabled: "+r),this.A=sn(T(this.ab,this),r)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,oe(10),lr(this),Wa(this))};function Ui(r){r.A!=null&&(h.clearTimeout(r.A),r.A=null)}function Wa(r){r.g=new Ke(r,r.j,"rpc",r.Y),r.m===null&&(r.g.H=r.o),r.g.O=0;var o=Le(r.qa);B(o,"RID","rpc"),B(o,"SID",r.K),B(o,"AID",r.T),B(o,"CI",r.F?"0":"1"),!r.F&&r.ja&&B(o,"TO",r.ja),B(o,"TYPE","xmlhttp"),mn(r,o),r.m&&r.o&&Li(o,r.m,r.o),r.L&&(r.g.I=r.L);var c=r.g;r=r.ia,c.L=1,c.v=ar(Le(o)),c.m=null,c.P=!0,ya(c,r)}n.Za=function(){this.C!=null&&(this.C=null,lr(this),Fi(this),oe(19))};function dr(r){r.C!=null&&(h.clearTimeout(r.C),r.C=null)}function Ga(r,o){var c=null;if(r.g==o){dr(r),Ui(r),r.g=null;var l=2}else if(Oi(r.h,o))c=o.D,ba(r.h,o),l=1;else return;if(r.G!=0){if(o.o)if(l==1){c=o.m?o.m.length:0,o=Date.now()-o.F;var I=r.B;l=tr(),se(l,new pa(l,c)),hr(r)}else za(r);else if(I=o.s,I==3||I==0&&0<o.X||!(l==1&&_d(r,o)||l==2&&Fi(r)))switch(c&&0<c.length&&(o=r.h,o.i=o.i.concat(c)),I){case 1:pt(r,5);break;case 4:pt(r,10);break;case 3:pt(r,6);break;default:pt(r,2)}}}function Ha(r,o){let c=r.Ta+Math.floor(Math.random()*r.cb);return r.isActive()||(c*=2),c*o}function pt(r,o){if(r.j.info("Error code "+o),o==2){var c=T(r.fb,r),l=r.Xa;let I=!l;l=new ft(l||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||sr(l,"https"),ar(l),I?ld(l.toString(),c):hd(l.toString(),c)}else oe(2);r.G=0,r.l&&r.l.sa(o),Ka(r),qa(r)}n.fb=function(r){r?(this.j.info("Successfully pinged google.com"),oe(2)):(this.j.info("Failed to ping google.com"),oe(1))};function Ka(r){if(r.G=0,r.ka=[],r.l){let o=Aa(r.h);(o.length!=0||r.i.length!=0)&&(P(r.ka,o),P(r.ka,r.i),r.h.i.length=0,N(r.i),r.i.length=0),r.l.ra()}}function Qa(r,o,c){var l=c instanceof ft?Le(c):new ft(c);if(l.g!="")o&&(l.g=o+"."+l.g),or(l,l.s);else{var I=h.location;l=I.protocol,o=o?o+"."+I.hostname:I.hostname,I=+I.port;var E=new ft(null);l&&sr(E,l),o&&(E.g=o),I&&or(E,I),c&&(E.l=c),l=E}return c=r.D,o=r.ya,c&&o&&B(l,c,o),B(l,"VER",r.la),mn(r,l),l}function Ya(r,o,c){if(o&&!r.J)throw Error("Can't create secondary domain capable XhrIo object.");return o=r.Ca&&!r.pa?new W(new hn({eb:c})):new W(r.pa),o.Ha(r.J),o}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ja(){}n=Ja.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function fr(){}fr.prototype.g=function(r,o){return new he(r,o)};function he(r,o){te.call(this),this.g=new Ba(o),this.l=r,this.h=o&&o.messageUrlParams||null,r=o&&o.messageHeaders||null,o&&o.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.o=r,r=o&&o.initMessageHeaders||null,o&&o.messageContentType&&(r?r["X-WebChannel-Content-Type"]=o.messageContentType:r={"X-WebChannel-Content-Type":o.messageContentType}),o&&o.va&&(r?r["X-WebChannel-Client-Profile"]=o.va:r={"X-WebChannel-Client-Profile":o.va}),this.g.S=r,(r=o&&o.Sb)&&!F(r)&&(this.g.m=r),this.v=o&&o.supportsCrossDomainXhr||!1,this.u=o&&o.sendRawJson||!1,(o=o&&o.httpSessionIdParam)&&!F(o)&&(this.g.D=o,r=this.h,r!==null&&o in r&&(r=this.h,o in r&&delete r[o])),this.j=new xt(this)}R(he,te),he.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},he.prototype.close=function(){Mi(this.g)},he.prototype.o=function(r){var o=this.g;if(typeof r=="string"){var c={};c.__data__=r,r=c}else this.u&&(c={},c.__data__=Ai(r),r=c);o.i.push(new ed(o.Ya++,r)),o.G==3&&hr(o)},he.prototype.N=function(){this.g.l=null,delete this.j,Mi(this.g),delete this.g,he.aa.N.call(this)};function Xa(r){Ri.call(this),r.__headers__&&(this.headers=r.__headers__,this.statusCode=r.__status__,delete r.__headers__,delete r.__status__);var o=r.__sm__;if(o){e:{for(let c in o){r=c;break e}r=void 0}(this.i=r)&&(r=this.i,o=o!==null&&r in o?o[r]:void 0),this.data=o}else this.data=r}R(Xa,Ri);function Za(){Pi.call(this),this.status=1}R(Za,Pi);function xt(r){this.g=r}R(xt,Ja),xt.prototype.ua=function(){se(this.g,"a")},xt.prototype.ta=function(r){se(this.g,new Xa(r))},xt.prototype.sa=function(r){se(this.g,new Za)},xt.prototype.ra=function(){se(this.g,"b")},fr.prototype.createWebChannel=fr.prototype.g,he.prototype.send=he.prototype.o,he.prototype.open=he.prototype.m,he.prototype.close=he.prototype.close,Al=je.createWebChannelTransport=function(){return new fr},bl=je.getStatEventTarget=function(){return tr()},Tl=je.Event=ht,El=je.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},nr.NO_ERROR=0,nr.TIMEOUT=8,nr.HTTP_ERROR=6,wl=je.ErrorCode=nr,ma.COMPLETE="complete",Il=je.EventType=ma,la.EventType=nn,nn.OPEN="a",nn.CLOSE="b",nn.ERROR="c",nn.MESSAGE="d",te.prototype.listen=te.prototype.K,vl=je.WebChannel=la,jg=je.FetchXmlHttpFactory=hn,W.prototype.listenOnce=W.prototype.L,W.prototype.getLastError=W.prototype.Ka,W.prototype.getLastErrorCode=W.prototype.Ba,W.prototype.getStatus=W.prototype.Z,W.prototype.getResponseJson=W.prototype.Oa,W.prototype.getResponseText=W.prototype.oa,W.prototype.send=W.prototype.ea,W.prototype.setWithCredentials=W.prototype.Ha,yl=je.XhrIo=W}).apply(typeof Hr<"u"?Hr:typeof self<"u"?self:typeof window<"u"?window:{});var Sl="@firebase/firestore",Rl="4.8.0";var X=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};X.UNAUTHENTICATED=new X(null),X.GOOGLE_CREDENTIALS=new X("google-credentials-uid"),X.FIRST_PARTY=new X("first-party-uid"),X.MOCK_USER=new X("mock-user");var Un="11.10.0";var Kt=new Pe("@firebase/firestore");function Te(n,...e){if(Kt.logLevel<=M.DEBUG){let t=e.map(ko);Kt.debug(`Firestore (${Un}): ${n}`,...t)}}function Bl(n,...e){if(Kt.logLevel<=M.ERROR){let t=e.map(ko);Kt.error(`Firestore (${Un}): ${n}`,...t)}}function zg(n,...e){if(Kt.logLevel<=M.WARN){let t=e.map(ko);Kt.warn(`Firestore (${Un}): ${n}`,...t)}}function ko(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function ue(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,ql(n,i,t)}function ql(n,e,t){let i=`FIRESTORE (${Un}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Bl(i),new Error(i)}function Rt(n,e,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,n||ql(e,s,i)}var V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},x=class extends de{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Pt=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Kr=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},lo=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(X.UNAUTHENTICATED))}shutdown(){}},ho=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},fo=class{constructor(e){this.t=e,this.currentUser=X.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Rt(this.o===void 0,42304);let i=this.i,s=d=>this.i!==i?(i=this.i,t(d)):Promise.resolve(),a=new Pt;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Pt,e.enqueueRetryable(()=>s(this.currentUser))};let u=()=>{let d=a;e.enqueueRetryable(async()=>{await d.promise,await s(this.currentUser)})},h=d=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){let d=this.t.getImmediate({optional:!0});d?h(d):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Pt)}},0),u()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Rt(typeof i.accessToken=="string",31837,{l:i}),new Kr(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Rt(e===null||typeof e=="string",2055,{h:e}),new X(e)}},po=class{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=X.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},mo=class{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new po(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(X.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Qr=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},go=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ge(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Rt(this.o===void 0,3512);let i=a=>{a.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);let u=a.token!==this.m;return this.m=a.token,Te("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};let s=a=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){let a=this.V.getImmediate({optional:!0});a?s(a):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Qr(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Rt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Qr(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Wg(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}function Gg(){return new TextEncoder}var _o=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),i="";for(;i.length<20;){let s=Wg(40);for(let a=0;a<s.length;++a)i.length<20&&s[a]<t&&(i+=e.charAt(s[a]%62))}return i}};function _e(n,e){return n<e?-1:n>e?1:0}function Hg(n,e){let t=0;for(;t<n.length&&t<e.length;){let i=n.codePointAt(t),s=e.codePointAt(t);if(i!==s){if(i<128&&s<128)return _e(i,s);{let a=Gg(),u=Kg(a.encode(Pl(n,t)),a.encode(Pl(e,t)));return u!==0?u:_e(i,s)}}t+=i>65535?2:1}return _e(n.length,e.length)}function Pl(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function Kg(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return _e(n[t],e[t]);return _e(n.length,e.length)}var Cl="__name__",Yr=class n{constructor(e,t,i){t===void 0?t=0:t>e.length&&ue(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&ue(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let i=Math.min(e.length,t.length);for(let s=0;s<i;s++){let a=n.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return _e(e.length,t.length)}static compareSegments(e,t){let i=n.isNumericId(e),s=n.isNumericId(t);return i&&!s?-1:!i&&s?1:i&&s?n.extractNumericId(e).compare(n.extractNumericId(t)):Hg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gr.fromString(e.substring(4,e.length-2))}},ze=class n extends Yr{construct(e,t,i){return new n(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let i of e){if(i.indexOf("//")>=0)throw new x(V.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(s=>s.length>0))}return new n(t)}static emptyPath(){return new n([])}},Qg=/^[_a-zA-Z][_a-zA-Z0-9]*$/,yo=class n extends Yr{construct(e,t,i){return new n(e,t,i)}static isValidIdentifier(e){return Qg.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Cl}static keyField(){return new n([Cl])}static fromServerFormat(e){let t=[],i="",s=0,a=()=>{if(i.length===0)throw new x(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""},u=!1;for(;s<e.length;){let h=e[s];if(h==="\\"){if(s+1===e.length)throw new x(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new x(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,s+=2}else h==="`"?(u=!u,s++):h!=="."||u?(i+=h,s++):(a(),s++)}if(a(),u)throw new x(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var We=class n{constructor(e){this.path=e}static fromPath(e){return new n(ze.fromString(e))}static fromName(e){return new n(ze.fromString(e).popFirst(5))}static empty(){return new n(ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ze.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new ze(e.slice()))}};function Yg(n,e,t,i){if(e===!0&&i===!0)throw new x(V.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Jg(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Xg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ue(12329,{type:typeof n})}function Zg(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new x(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Xg(n);throw new x(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Q(n,e){let t={typeString:n};return e&&(t.value=e),t}function Bn(n,e){if(!Jg(n))throw new x(V.INVALID_ARGUMENT,"JSON must be an object");let t;for(let i in e)if(e[i]){let s=e[i].typeString,a="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}let u=n[i];if(s&&typeof u!==s){t=`JSON field '${i}' must be a ${s}.`;break}if(a!==void 0&&u!==a.value){t=`Expected '${i}' field to equal '${a.value}'`;break}}if(t)throw new x(V.INVALID_ARGUMENT,t);return!0}var kl=-62135596800,Dl=1e6,xn=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*Dl);return new n(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new x(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new x(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<kl)throw new x(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new x(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Dl}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Bn(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-kl;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};xn._jsonSchemaVersion="firestore/timestamp/1.0",xn._jsonSchema={type:Q("string",xn._jsonSchemaVersion),seconds:Q("number"),nanoseconds:Q("number")};var vo=class{constructor(e,t,i,s){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=s}};vo.UNKNOWN_ID=-1;function e_(n){return n.name==="IndexedDbTransactionError"}function t_(n){return n===0&&1/n==-1/0}var n_="remoteDocuments",$l="owner";var jl="mutationQueues";var zl="mutations";var Wl="documentMutations",r_="remoteDocumentsV14";var Gl="remoteDocumentGlobal";var Hl="targets";var Kl="targetDocuments";var Ql="targetGlobal",Yl="collectionParents";var Jl="clientMetadata";var Xl="bundles";var Zl="namedQueries";var i_="indexConfiguration";var s_="indexState";var o_="indexEntries";var eh="documentOverlays";var a_="globals";var c_=[jl,zl,Wl,n_,Hl,$l,Ql,Kl,Jl,Gl,Yl,Xl,Zl],YI=[...c_,eh],u_=[jl,zl,Wl,r_,Hl,$l,Ql,Kl,Jl,Gl,Yl,Xl,Zl,eh],l_=u_,h_=[...l_,i_,s_,o_];var JI=[...h_,a_];var Qt=class n{constructor(e,t){this.comparator=e,this.root=t||Ne.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ne.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ne.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){let s=this.comparator(e,i.key);if(s===0)return t+i.left.size;s<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){let e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zt(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zt(this.root,e,this.comparator,!1)}getReverseIterator(){return new zt(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zt(this.root,e,this.comparator,!0)}},zt=class{constructor(e,t,i,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ne=class n{constructor(e,t,i,s,a){this.key=e,this.value=t,this.color=i??n.RED,this.left=s??n.EMPTY,this.right=a??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,s,a){return new n(e??this.key,t??this.value,i??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this,a=i(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,i),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return n.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ue(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw ue(27949);return e+(this.isRed()?0:1)}};Ne.EMPTY=null,Ne.RED=!0,Ne.BLACK=!1;Ne.EMPTY=new class{constructor(){this.size=0}get key(){throw ue(57766)}get value(){throw ue(16141)}get color(){throw ue(16727)}get left(){throw ue(29726)}get right(){throw ue(36894)}copy(e,t,i,s,a){return this}insert(e,t,i){return new Ne(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Jr=class n{constructor(e){this.comparator=e,this.data=new Qt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Xr(this.data.getIterator())}getIteratorFrom(e){return new Xr(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){let s=t.getNext().key,a=i.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Xr=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Io=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ct=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Io("Invalid base64 string: "+a):a}})(e);return new n(t)}static fromUint8Array(e){let t=(function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ct.EMPTY_BYTE_STRING=new ct("");var d_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function f_(n){if(Rt(!!n,39018),typeof n=="string"){let e=0,t=d_.exec(n);if(Rt(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}let i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:On(n.seconds),nanos:On(n.nanos)}}function On(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function p_(n){return typeof n=="string"?ct.fromBase64String(n):ct.fromUint8Array(n)}var wo="(default)",Eo=class n{constructor(e,t){this.projectId=e,this.database=t||wo}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===wo}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var th="__type__",m_="__max__";var nh="__vector__",rh="value";function g_(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[th])===null||t===void 0?void 0:t.stringValue)===nh}function __(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===m_}var ZI={mapValue:{fields:{[th]:{stringValue:nh},[rh]:{arrayValue:{}}}}};var To=class{constructor(e,t=null,i=[],s=[],a=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=s,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=d,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function y_(n){return new To(n)}var ew=new Qt(We.comparator);var tw=new Qt(We.comparator);var nw=new Qt(We.comparator),rw=new Jr(We.comparator);var iw=new Jr(_e);var Nl,O;(O=Nl||(Nl={}))[O.OK=0]="OK",O[O.CANCELLED=1]="CANCELLED",O[O.UNKNOWN=2]="UNKNOWN",O[O.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",O[O.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",O[O.NOT_FOUND=5]="NOT_FOUND",O[O.ALREADY_EXISTS=6]="ALREADY_EXISTS",O[O.PERMISSION_DENIED=7]="PERMISSION_DENIED",O[O.UNAUTHENTICATED=16]="UNAUTHENTICATED",O[O.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",O[O.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",O[O.ABORTED=10]="ABORTED",O[O.OUT_OF_RANGE=11]="OUT_OF_RANGE",O[O.UNIMPLEMENTED=12]="UNIMPLEMENTED",O[O.INTERNAL=13]="INTERNAL",O[O.UNAVAILABLE=14]="UNAVAILABLE",O[O.DATA_LOSS=15]="DATA_LOSS";var sw=new Gr([4294967295,4294967295],0);var Zr=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(On(e.integerValue));else if("doubleValue"in e){let i=On(e.doubleValue);isNaN(i)?this.Ct(t,13):(this.Ct(t,15),t_(i)?t.Ft(0):t.Ft(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Ct(t,20),typeof i=="string"&&(i=f_(i)),t.Mt(`${i.seconds||""}`),t.Ft(i.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(p_(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let i=e.geoPointValue;this.Ct(t,45),t.Ft(i.latitude||0),t.Ft(i.longitude||0)}else"mapValue"in e?__(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):g_(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):ue(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let i=e.fields||{};this.Ct(t,55);for(let s of Object.keys(i))this.xt(s,t),this.Dt(i[s],t)}Lt(e,t){var i,s;let a=e.fields||{};this.Ct(t,53);let u=rh,h=((s=(i=a[u].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.length)||0;this.Ct(t,15),t.Ft(On(h)),this.xt(u,t),this.Dt(a[u],t)}qt(e,t){let i=e.values||[];this.Ct(t,50);for(let s of i)this.Dt(s,t)}Bt(e,t){this.Ct(t,37),We.fromName(e).path.forEach(i=>{this.Ct(t,60),this.$t(i,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};Zr.Ut=new Zr;var ow=new Uint8Array(0);var ih=41943040,De=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}};De.DEFAULT_COLLECTION_PERCENTILE=10,De.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,De.DEFAULT=new De(ih,De.DEFAULT_COLLECTION_PERCENTILE,De.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),De.DISABLED=new De(-1,0,0);var v_=1048576;function uo(){return typeof document<"u"?document:null}var bo=class{constructor(e,t,i=1e3,s=1.5,a=6e4){this.Fi=e,this.timerId=t,this.d_=i,this.E_=s,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),s=Math.max(0,t-i);s>0&&Te("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var Ao=class n{constructor(e,t,i,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=s,this.removalCallback=a,this.deferred=new Pt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,s,a){let u=Date.now()+i,h=new n(e,t,u,s,a);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new x(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};var xl,Ol;(Ol=xl||(xl={})).Fa="default",Ol.Cache="cache";function I_(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var Vl=new Map;var sh="firestore.googleapis.com",Ll=!0,ei=class{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new x(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sh,this.ssl=Ll}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Ll;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ih;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<v_)throw new x(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Yg("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=I_((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new x(V.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new x(V.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new x(V.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,s){return i.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ti=class{constructor(e,t,i,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ei({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new x(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new x(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ei(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new lo;switch(i.type){case"firstParty":return new mo(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new x(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let i=Vl.get(t);i&&(Te("ComponentProvider","Removing Datastore"),Vl.delete(t),i.terminate())})(this),Promise.resolve()}};function oh(n,e,t,i={}){var s;n=Zg(n,ti);let a=_t(e),u=n._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),d=`${e}:${t}`;a&&(wr(`https://${d}`),Er("Firestore",!0)),u.host!==sh&&u.host!==d&&zg("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let y=Object.assign(Object.assign({},u),{host:d,ssl:a,emulatorOptions:i});if(!Re(y,h)&&(n._setSettings(y),i.mockUserToken)){let b,A;if(typeof i.mockUserToken=="string")b=i.mockUserToken,A=X.MOCK_USER;else{b=$c(i.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);let T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new x(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new X(T)}n._authCredentials=new ho(new Kr(b,A))}}var So=class n{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Ct=class n{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ro(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(Bn(t,n._jsonSchema))return new n(e,i||null,new We(ze.fromString(t.referencePath)))}};Ct._jsonSchemaVersion="firestore/documentReference/1.0",Ct._jsonSchema={type:Q("string",Ct._jsonSchemaVersion),referencePath:Q("string")};var Ro=class n extends So{constructor(e,t,i){super(e,t,y_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ct(this.firestore,null,new We(e))}withConverter(e){return new n(this.firestore,e,this._path)}};var Ml="AsyncQueue",ni=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new bo(this,"async_queue_retry"),this.oc=()=>{let i=uo();i&&Te(Ml,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=e;let t=uo();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=uo();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new Pt;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!e_(e))throw e;Te(Ml,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(i=>{throw this.tc=i,this.nc=!1,Bl("INTERNAL UNHANDLED ERROR: ",Fl(i)),i}).then(i=>(this.nc=!1,i))));return this._c=t,t}enqueueAfterDelay(e,t,i){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let s=Ao.createAndSchedule(this,e,t,i,a=>this.lc(a));return this.ec.push(s),s}ac(){this.tc&&ue(47125,{hc:Fl(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function Fl(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}var Po=class extends ti{constructor(e,t,i,s){super(e,t,i,s),this.type="firestore",this._queue=new ni,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new ni(e),this._firestoreClient=void 0,await e}}};function ah(n,e){let t=typeof n=="object"?n:vt(),i=typeof n=="string"?n:e||wo,s=Ut(t,"firestore").getImmediate({identifier:i});if(!s._initialized){let a=qc("firestore");a&&oh(s,...a)}return s}var Vn=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(ct.fromBase64String(e))}catch(t){throw new x(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Bn(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};Vn._jsonSchemaVersion="firestore/bytes/1.0",Vn._jsonSchema={type:Q("string",Vn._jsonSchemaVersion),bytes:Q("string")};var ri=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new x(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yo(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ln=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new x(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new x(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(Bn(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};Ln._jsonSchemaVersion="firestore/geoPoint/1.0",Ln._jsonSchema={type:Q("string",Ln._jsonSchemaVersion),latitude:Q("number"),longitude:Q("number")};var Mn=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(i,s){if(i.length!==s.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==s[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Bn(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new x(V.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Mn._jsonSchemaVersion="firestore/vectorValue/1.0",Mn._jsonSchema={type:Q("string",Mn._jsonSchemaVersion),vectorValues:Q("object")};var w_=new RegExp("[~\\*/\\[\\]]");function E_(n,e,t){if(e.search(w_)>=0)throw Ul(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ri(...e.split("."))._internalPath}catch{throw Ul(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ul(n,e,t,i,s){let a=i&&!i.isEmpty(),u=s!==void 0,h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(a||u)&&(d+=" (found",a&&(d+=` in field ${i}`),u&&(d+=` in document ${s}`),d+=")"),new x(V.INVALID_ARGUMENT,h+n+d)}var ii=class{constructor(e,t,i,s,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Co(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(ch("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},Co=class extends ii{data(){return super.data()}};function ch(n,e){return typeof e=="string"?E_(n,e):e instanceof ri?e._internalPath:e._delegate._internalPath}var Wt=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Gt=class n extends ii{constructor(e,t,i,s,a,u){super(e,t,i,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Ht(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let i=this._document.data.field(ch("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new x(V.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Gt._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gt._jsonSchema={type:Q("string",Gt._jsonSchemaVersion),bundleSource:Q("string","DocumentSnapshot"),bundleName:Q("string"),bundle:Q("string")};var Ht=class extends Gt{data(e={}){return super.data(e)}},Fn=class n{constructor(e,t,i,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Wt(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Ht(this._firestore,this._userDataWriter,i.key,i,new Wt(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new x(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,a){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(h=>{let d=new Ht(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Wt(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{let d=new Ht(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Wt(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter),y=-1,b=-1;return h.type!==0&&(y=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),b=u.indexOf(h.doc.key)),{type:T_(h.type),doc:d,oldIndex:y,newIndex:b}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new x(V.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=_o.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],i=[],s=[];return this.docs.forEach(a=>{a._document!==null&&(t.push(a._document),i.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function T_(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ue(61501,{type:n})}}Fn._jsonSchemaVersion="firestore/querySnapshot/1.0",Fn._jsonSchema={type:Q("string",Fn._jsonSchemaVersion),bundleSource:Q("string","QuerySnapshot"),bundleName:Q("string"),bundle:Q("string")};(function(e,t=!0){(function(s){Un=s})(et),we(new ae("firestore",(i,{instanceIdentifier:s,options:a})=>{let u=i.getProvider("app").getImmediate(),h=new Po(new fo(i.getProvider("auth-internal")),new go(u,i.getProvider("app-check-internal")),(function(y,b){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new x(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eo(y.options.projectId,b)})(u,s),u);return a=Object.assign({useFetchStreams:t},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),G(Sl,Rl,e),G(Sl,Rl,"esm2017")})();var qn=class{constructor(e){return e}},uh="firestore",Do=class{constructor(){return qt(uh)}};var No=new Vt("angularfire2.firestore-instances");function b_(n,e){let t=En(uh,n,e);return t&&new qn(t)}function A_(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new qn(i)}}var S_={provide:Do,deps:[[new me,No]]},R_={provide:qn,useFactory:b_,deps:[[new me,No],Be]};function lh(n,...e){return G("angularfire",tt.full,"fst"),Lt([R_,S_,{provide:No,useFactory:A_(n),multi:!0,deps:[Se,Mt,nt,Et,[new me,Nn],[new me,$t],...e]}])}var hh=wt(ah,!0);var P_={apiKey:"AIzaSyD5JCGp6wVHlHKzJRssRtTstNHSoaLj2i4",authDomain:"arecofix-ca60b.firebaseapp.com",projectId:"arecofix-ca60b",storageBucket:"arecofix-ca60b.appspot.com",messagingSenderId:"301262429786",appId:"1:301262429786:web:0aca5a5c777b7ab1d08263"},dh={providers:[uc(),_c(),Tc(Lc,Ac(),bc({anchorScrolling:"enabled",scrollPositionRestoration:"enabled"})),vc(Ic()),fu(()=>pu(P_)),lh(()=>hh()),fl(()=>pl())]};function C_(n,e){if(n&1&&(j(0,"p",29),K(1),z()),n&2){let t=Ki();Je(),Qi(t.successMessage)}}function k_(n,e){if(n&1&&(j(0,"p",30),K(1),z()),n&2){let t=Ki();Je(),Qi(t.errorMessage)}}var si=class n{email="";isSubmitting=!1;successMessage="";errorMessage="";subscribe(){if(!this.email){this.errorMessage="Por favor, ingresa un email v\xE1lido.",this.successMessage="";return}this.isSubmitting=!0,this.errorMessage="",this.successMessage="",setTimeout(()=>{this.isSubmitting=!1,this.successMessage="\xA1Gracias por suscribirte!",this.email=""},1500)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ft({type:n,selectors:[["app-footer"]],decls:57,vars:6,consts:[[1,"bg-white","border-t","border-neutral-200","py-10","lg:py-5"],[1,"max-w-7xl","mx-auto","px-6","sm:px-8","lg:px-12"],[1,"flex","flex-col","lg:flex-row","justify-between","gap-10","border-b","border-neutral-200","pb-10"],[1,"flex","flex-col","items-center","lg:items-start","gap-6","w-full","lg:w-1/3"],["src","https://arecofix.com.ar/assets/img/log.png","alt","Logo Arecofix",1,"h-10"],["aria-label","Footer navigation",1,"w-full"],[1,"flex","flex-row","flex-wrap","justify-center","gap-5","text-sm","text-gray-600"],["routerLink","./",1,"hover:text-cyan-600","transition"],["routerLink","/recursos",1,"hover:text-cyan-600","transition"],["routerLink","/nosotros",1,"text-gray-700","hover:text-indigo-600","transition-colors","font-medium"],["routerLink","/productos",1,"text-gray-700","hover:text-indigo-600","transition-colors","font-medium"],["routerLink","/contacto",1,"text-gray-700","hover:text-indigo-600","transition-colors","font-medium"],["routerLink","/cursos",1,"text-gray-700","hover:text-indigo-600","transition-colors","font-medium"],["routerLink","/servicios",1,"text-gray-700","hover:text-indigo-600","transition-colors","font-medium"],[1,"flex","gap-6","text-gray-600","mt-4"],["href","https://www.facebook.com/ArecoFix/","aria-label","Facebook",1,"hover:text-cyan-600","transition"],[1,"fab","fa-facebook-f","text-xl"],["href","https://www.instagram.com/ArecoFix/","aria-label","Instagram",1,"hover:text-cyan-600","transition"],[1,"fab","fa-instagram","text-xl"],["href","https://github.com/arecofix","aria-label","GitHub",1,"hover:text-cyan-600","transition"],[1,"fab","fa-github","text-xl"],["href","https://www.linkedin.com/company/arecofix","aria-label","LinkedIn",1,"hover:text-cyan-600","transition"],[1,"fab","fa-linkedin-in","text-xl"],[1,"w-full","lg:w-1/3","text-center","lg:text-left"],[1,"text-lg","font-semibold","text-gray-900","mb-3"],[1,"text-gray-500","text-sm","mb-6"],[1,"flex","flex-col","sm:flex-row","gap-3","max-w-md","mx-auto","lg:mx-0",3,"ngSubmit"],["name","email","type","email","required","","placeholder","Tu email",1,"flex-1","border","border-gray-300","rounded-md","px-4","py-2","text-sm","focus:outline-none","focus:ring-2","focus:ring-cyan-600",3,"ngModelChange","ngModel","disabled"],["type","submit",1,"bg-cyan-600","text-white","rounded-md","px-6","py-2","text-sm","hover:brightness-110","transition","disabled:opacity-50",3,"disabled"],[1,"mt-3","text-green-600","text-sm","font-semibold"],[1,"mt-3","text-red-600","text-sm","font-semibold"],[1,"pt-8","flex","flex-col","sm:flex-row","items-center","justify-between","text-sm","text-gray-400","gap-4","max-w-7xl","mx-auto","px-6","sm:px-8","lg:px-12"],[1,"flex","gap-6","text-xs","order-2","sm:order-1"],["href","https://www.arecofix.com.ar/",1,"hover:text-cyan-600","transition"],["href","https://www.arecofix.com.ar/privacy",1,"hover:text-cyan-600","transition"],["href","https://www.arecofix.com.ar/terms",1,"hover:text-cyan-600","transition"],[1,"order-1","sm:order-2"],["routerLink","/portfolio",1,"hover:text-blue-400","transition-colors"]],template:function(t,i){t&1&&(j(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3),Xe(4,"img",4),j(5,"nav",5)(6,"ul",6)(7,"li")(8,"a",7),K(9,"Inicio"),z()(),j(10,"li")(11,"a",8),K(12,"Recursos"),z()(),j(13,"a",9),K(14,"Nosotros"),z(),j(15,"a",10),K(16,"Productos"),z(),j(17,"a",11),K(18,"Contacto"),z(),j(19,"a",12),K(20,"Cursos"),z(),j(21,"a",13),K(22,"Servicios"),z()()(),j(23,"div",14)(24,"a",15),Xe(25,"i",16),z(),j(26,"a",17),Xe(27,"i",18),z(),j(28,"a",19),Xe(29,"i",20),z(),j(30,"a",21),Xe(31,"i",22),z()()(),j(32,"div",23)(33,"h4",24),K(34,"\xDAnete a nuestro Newsletter"),z(),j(35,"p",25),K(36,"S\xE9 el primero en enterarte de nuestras novedades, promociones exclusivas y m\xE1s."),z(),j(37,"form",26),dc("ngSubmit",function(){return i.subscribe()}),j(38,"input",27),gc("ngModelChange",function(a){return mc(i.email,a)||(i.email=a),a}),z(),j(39,"button",28),K(40),z()(),Wi(41,C_,2,1,"p",29),Wi(42,k_,2,1,"p",30),z()(),j(43,"div",31)(44,"ul",32)(45,"li")(46,"a",33),K(47,"Espa\xF1ol"),z()(),j(48,"li")(49,"a",34),K(50,"Privacidad"),z()(),j(51,"li")(52,"a",35),K(53,"T\xE9rminos Legales"),z()()(),j(54,"p",36)(55,"a",37),K(56," \xA9 2025 Arecofix. Todos los derechos reservados. "),z()()()()()),t&2&&(Je(38),pc("ngModel",i.email),Hi("disabled",i.isSubmitting),Je(),Hi("disabled",i.isSubmitting),Je(),fc(" ",i.isSubmitting?"Enviando...":"Suscribirse"," "),Je(),Gi(i.successMessage?41:-1),Je(),Gi(i.errorMessage?42:-1))},dependencies:[Sc,Ec,Vc,xc,Pc,Cc,kc,Oc,Nc,Dc],encapsulation:2})};var oi=class n{phoneNumber="5491125960900";defaultMessage="Hola, necesito informaci\xF3n";get encodedMessage(){return encodeURIComponent(this.defaultMessage)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ft({type:n,selectors:[["app-whatsapp-button"]],inputs:{phoneNumber:"phoneNumber",defaultMessage:"defaultMessage"},decls:9,vars:0,consts:[[1,"whatsapp-btn-container"],["href","https://wa.me/541125960900?text=Hola,%20estoy%20interesado%20en%20tus%20servicios","target","_blank","rel","noopener noreferrer","aria-label","Contactar por WhatsApp",1,"whatsapp-btn","bg-[#25D366]","text-white","w-16","h-16","rounded-full","flex","items-center","justify-center","shadow-xl"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"w-10","h-10","fill-current"],["d","M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"],[1,"pulse-animation"],[1,"tooltip"]],template:function(t,i){t&1&&(gr(0,"div",0)(1,"a",1),ac(),gr(2,"svg",2),yr(3,"path",3),_r(),cc(),yr(4,"span",4),_r(),gr(5,"span",5),K(6,"\xA1Env\xEDanos un mensaje!"),yr(7,"br"),K(8,"Respondemos r\xE1pido"),_r()())},styles:['.whatsapp-btn-container[_ngcontent-%COMP%]{position:fixed;bottom:30px;right:30px;z-index:1000}.whatsapp-btn[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;transition:all .3s ease;transform:scale(1)}.whatsapp-btn[_ngcontent-%COMP%]:hover{background-color:#128c7e!important;transform:scale(1.1);box-shadow:0 8px 25px #128c7e66}.pulse-animation[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;border-radius:50%;background-color:#25d36680;animation:_ngcontent-%COMP%_pulse 2s infinite;z-index:-1}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(.8);opacity:.7}70%{transform:scale(1.3);opacity:0}to{transform:scale(.8);opacity:0}}.tooltip[_ngcontent-%COMP%]{visibility:hidden;width:160px;background-color:#075e54;color:#fff;text-align:center;border-radius:8px;padding:8px 10px;position:absolute;z-index:100;bottom:calc(100% + 15px);right:0;opacity:0;transition:all .3s ease;transform:translateY(10px);font-size:14px;line-height:1.4;box-shadow:0 4px 12px #00000026}.tooltip[_ngcontent-%COMP%]:after{content:"";position:absolute;top:100%;right:20px;border-width:8px;border-style:solid;border-color:#075E54 transparent transparent transparent}.whatsapp-btn-container[_ngcontent-%COMP%]:hover   .tooltip[_ngcontent-%COMP%]{visibility:visible;opacity:1;transform:translateY(0)}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(0) scale(1.1)}50%{transform:translateY(-10px) scale(1.1)}}.whatsapp-btn[_ngcontent-%COMP%]:hover{animation:_ngcontent-%COMP%_bounce .8s ease}']})};var ai=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ft({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(t,i){t&1&&Xe(0,"router-outlet")(1,"app-footer")(2,"app-whatsapp-button")},dependencies:[wc,si,oi],encapsulation:2})};var Uo=class{#e;#t=new Set;constructor(e){this.#e=e}get current(){return this.#e}set current(e){this.#e!=e&&(this.#e=e,this.#t.forEach(t=>t(e)))}on(e){return this.#t.add(e),()=>this.#t.delete(e)}},Th=n=>new Uo(n),Bo=Symbol.for("atomico.hooks");globalThis[Bo]=globalThis[Bo]||{};var Yt=globalThis[Bo],D_=Symbol.for("Atomico.suspense"),bh=Symbol.for("Atomico.effect"),N_=Symbol.for("Atomico.layoutEffect"),Ah=Symbol.for("Atomico.insertionEffect"),Jt=(n,e,t)=>{let{i,hooks:s}=Yt.c,a=s[i]=s[i]||{};return a.value=n(a.value),a.effect=e,a.tag=t,Yt.c.i++,s[i].value},x_=n=>Jt((e=Th(n))=>e),Kn=()=>Jt((n=Th(Yt.c.host))=>n),Sh=()=>Yt.c.update,O_=(n,e,t=0)=>{let i={},s=!1,a=()=>s,u=(h,d)=>{for(let y in i){let b=i[y];b.effect&&b.tag===h&&(b.value=b.effect(b.value,d))}};return{load:h=>{Yt.c={host:e,hooks:i,update:n,i:0,id:t};let d;try{s=!1,d=h()}catch(y){if(y!==D_)throw y;s=!0}finally{Yt.c=null}return d},cleanEffects:h=>(u(Ah,h),()=>(u(N_,h),()=>{u(bh,h)})),isSuspense:a}},Xt=Symbol.for;function Rh(n,e){let t=n.length;if(t!==e.length)return!1;for(let i=0;i<t;i++){let s=n[i],a=e[i];if(s!==a)return!1}return!0}var xe=n=>typeof n=="function",$n=n=>typeof n=="object",{isArray:V_}=Array,qo=(n,e)=>(e?n instanceof HTMLStyleElement:!0)&&"hydrate"in(n?.dataset||{});function Ph(n,e){let t,i=s=>{let{length:a}=s;for(let u=0;u<a;u++){let h=s[u];if(h&&Array.isArray(h))i(h);else{let d=typeof h;if(h==null||d==="function"||d==="boolean")continue;d==="string"||d==="number"?(t==null&&(t=""),t+=h):(t!=null&&(e(t),t=null),e(h))}}};i(n),t!=null&&e(t)}var Ch=(n,e,t)=>(n.addEventListener(e,t),()=>n.removeEventListener(e,t)),ui=class{constructor(e,t,i){this.message=t,this.target=e,this.value=i}},li=class extends ui{},$o=class extends ui{},hi="Custom",L_=null,M_={true:1,"":1,1:1};function F_(n,e,t,i,s){let{type:a,reflect:u,event:h,value:d,attr:y=U_(e)}=t?.name!=hi&&$n(t)&&t!=L_?t:{type:t},b=a?.name===hi&&a.map,A=d!=null?a==Function||!xe(d)?()=>d:d:null;Object.defineProperty(n,e,{configurable:!0,set(T){let C=this[e];A&&a!=Boolean&&T==null&&(T=A());let{error:R,value:N}=(b?$_:j_)(a,T);if(R&&N!=null)throw new li(this,`The value defined for prop '${e}' must be of type '${a.name}'`,N);C!=N&&(this._props[e]=N??void 0,this.update(),h&&kh(this,h),this.updated.then(()=>{u&&(this._ignoreAttr=y,B_(this,a,y,this[e]),this._ignoreAttr=null)}))},get(){return this._props[e]}}),A&&(s[e]=A()),i[y]={prop:e,type:a}}var kh=(n,s)=>{var a=s,{type:e,base:t=CustomEvent}=a,i=ec(a,["type","base"]);return n.dispatchEvent(new t(e,i))},U_=n=>n.replace(/([A-Z])/g,"-$1").toLowerCase(),B_=(n,e,t,i)=>i==null||e==Boolean&&!i?n.removeAttribute(t):n.setAttribute(t,e?.name===hi&&e?.serialize?e?.serialize(i):$n(i)?JSON.stringify(i):e==Boolean?"":i),q_=(n,e)=>n==Boolean?!!M_[e]:n==Number?Number(e):n==String?e:n==Array||n==Object?JSON.parse(e):n.name==hi?e:new n(e),$_=({map:n},e)=>{try{return{value:n(e),error:!1}}catch{return{value:e,error:!0}}},j_=(n,e)=>n==null||e==null?{value:e,error:!1}:n!=String&&e===""?{value:void 0,error:!1}:n==Object||n==Array||n==Symbol?{value:e,error:{}.toString.call(e)!==`[object ${n.name}]`}:e instanceof n?{value:e,error:n==Number&&Number.isNaN(e.valueOf())}:n==String||n==Number||n==Boolean?{value:e,error:n==Number?typeof e!="number"?!0:Number.isNaN(e):n==String?typeof e!="string":typeof e!="boolean"}:{value:e,error:!0},z_=0,W_=n=>(n?.dataset||{})?.hydrate||""||"c"+z_++,Qn=(n,e=HTMLElement)=>{let t={},i={},s="prototype"in e&&e.prototype instanceof Element,a=s?e:"base"in e?e.base:HTMLElement,{props:u,styles:h}=s?n:e;class d extends a{constructor(){super(),this._setup(),this._render=()=>n(H({},this._props));for(let b in i)this[b]=i[b]}static get styles(){return[super.styles,h]}async _setup(){if(this._props)return;this._props={};let b,A;this.mounted=new Promise(P=>this.mount=()=>{P(),b!=this.parentNode&&(A!=b?this.unmounted.then(this.update):this.update()),b=this.parentNode}),this.unmounted=new Promise(P=>this.unmount=()=>{P(),(b!=this.parentNode||!this.isConnected)&&(T.cleanEffects(!0)()(),A=this.parentNode,b=null)}),this.symbolId=this.symbolId||Symbol(),this.symbolIdParent=Symbol();let T=O_(()=>this.update(),this,W_(this)),C,R=!0,N=qo(this);this.update=()=>(C||(C=!0,this.updated=(this.updated||this.mounted).then(()=>{try{let P=T.load(this._render),D=T.cleanEffects();return P&&P.render(this,this.symbolId,N),C=!1,R&&!T.isSuspense()&&(R=!1,!N&&G_(this)),D()}finally{C=!1}}).then(P=>{P&&P()})),this.updated),this.update()}connectedCallback(){this.mount(),super.connectedCallback&&super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),this.unmount()}attributeChangedCallback(b,A,T){if(t[b]){if(b===this._ignoreAttr||A===T)return;let{prop:C,type:R}=t[b];try{this[C]=q_(R,T)}catch{throw new $o(this,`The value defined as attr '${b}' cannot be parsed by type '${R.name}'`,T)}}else super.attributeChangedCallback(b,A,T)}static get props(){return H(H({},super.props),u)}static get observedAttributes(){let b=super.observedAttributes||[];for(let A in u)F_(this.prototype,A,u[A],t,i);return Object.keys(t).concat(b)}}return d};function G_(n){let{styles:e}=n.constructor,{shadowRoot:t}=n;if(t&&e.length){let i=[];Ph(e,s=>{s&&(s instanceof Element?t.appendChild(s.cloneNode(!0)):i.push(s))}),i.length&&(t.adoptedStyleSheets=i)}}var Dh=n=>(e,t)=>{Jt(([i,s]=[])=>((s||!s)&&(s&&Rh(s,t)?i=i||!0:(xe(i)&&i(),i=null)),[i,t]),([i,s],a)=>a?(xe(i)&&i(),[]):[i||e(),s],n)},Wn=Dh(bh),H_=Dh(Ah),di=class extends Array{constructor(e,t){let i=!0,s=a=>{try{t(a,this,i)}finally{i=!1}};super(void 0,s,t),s(e)}},Wo=n=>{let e=Sh();return Jt((t=new di(n,(i,s,a)=>{i=xe(i)?i(s[0]):i,i!==s[0]&&(s[0]=i,a||e())}))=>t)},Ge=(n,e)=>{let[t]=Jt(([i,s,a=0]=[])=>((!s||s&&!Rh(s,e))&&(i=n()),[i,e,a]));return t},Go=n=>{let{current:e}=Kn();if(!(n in e))throw new li(e,`For useProp("${n}"), the prop does not exist on the host.`,n);return Jt((t=new di(e[n],(i,s)=>{i=xe(i)?i(e[n]):i,e[n]=i}))=>(t[0]=e[n],t))},ut=(n,e={})=>{let t=Kn();return t[n]||(t[n]=(i=e.detail)=>kh(t.current,pe(H({type:n},e),{detail:i}))),t[n]},jo=Xt("atomico/options");globalThis[jo]=globalThis[jo]||{sheet:!!document.adoptedStyleSheets};var Nh=globalThis[jo],K_={checked:1,value:1,selected:1},Q_={list:1,type:1,size:1,form:1,width:1,height:1,src:1,href:1,slot:1},Y_={shadowDom:1,staticNode:1,cloneNode:1,children:1,key:1},ci={},zo=[],Gn=class extends Text{},J_=Xt("atomico/id"),jn=Xt("atomico/type"),xo=Xt("atomico/ref"),xh=Xt("atomico/vnode"),X_=()=>{};function Z_(n,e,t){return Vh(this,n,e,t)}var Oh=(n,e,...t)=>{let i=e||ci,{children:s}=i;if(s=s??(t.length?t:zo),n===X_)return s;let a=n?n instanceof Node?1:n.prototype instanceof HTMLElement&&2:0;if(a===!1&&n instanceof Function)return n(s!=zo?H({children:s},i):i);let u=Nh.render||Z_;return{[jn]:xh,type:n,props:i,children:s,key:i.key,shadow:i.shadowDom,static:i.staticNode,raw:a,is:i.is,clone:i.cloneNode,render:u}};function Vh(n,e,t=J_,i,s){let a;if(e&&e[t]&&e[t].vnode==n||n[jn]!=xh)return e;(n||!e)&&(s=s||n.type=="svg",a=n.type!="host"&&(n.raw==1?(e&&n.clone?e[xo]:e)!=n.type:n.raw==2?!(e instanceof n.type):e?e[xo]||e.localName!=n.type:!e),a&&n.type!=null&&(n.raw==1&&n.clone?(i=!0,e=n.type.cloneNode(!0),e[xo]=n.type):e=n.raw==1?n.type:n.raw==2?new n.type:s?document.createElementNS("http://www.w3.org/2000/svg",n.type):document.createElement(n.type,n.is?{is:n.is}:void 0)));let u=e[t]?e[t]:ci,{vnode:h=ci,cycle:d=0}=u,{fragment:y,handlers:b}=u,{children:A=zo,props:T=ci}=h;if(b=a?{}:b||{},n.static&&!a)return e;if(n.shadow&&!e.shadowRoot&&e.attachShadow(H({mode:"open"},n.shadow)),n.props!=T&&ny(e,T,n.props,b,s),n.children!==A){let C=n.shadow?e.shadowRoot:e;y=ty(n.children,y,C,t,!d&&i,s&&n.type=="foreignObject"?!1:s)}return e[t]={vnode:n,handlers:b,fragment:y,cycle:d+1},e}function ey(n,e){let t=new Gn(""),i=new Gn(""),s;if(n[e?"prepend":"append"](t),e){let{lastElementChild:a}=n;for(;a;){let{previousElementSibling:u}=a;if(qo(a,!0)&&!qo(u,!0)){s=a;break}a=u}}return s?s.before(i):n.append(i),{markStart:t,markEnd:i}}function ty(n,e,t,i,s,a){n=n==null?null:V_(n)?n:[n];let u=e||ey(t,s),{markStart:h,markEnd:d,keyes:y}=u,b,A=y&&new Set,T=h;if(n&&Ph(n,C=>{if(typeof C=="object"&&!C[jn])return;let R=C[jn]&&C.key,N=y&&R!=null&&y.get(R);T!=d&&T===N?A.delete(T):T=T==d?d:T.nextSibling;let P=y?N:T,D=P;if(C[jn])D=Vh(C,P,i,s,a);else{let F=C+"";!(D instanceof Text)||D instanceof Gn?D=new Text(F):D.data!=F&&(D.data=F)}D!=T&&(y&&A.delete(D),!P||y?(t.insertBefore(D,T),y&&T!=d&&A.add(T)):P==d?t.insertBefore(D,d):(t.replaceChild(D,P),T=D)),R!=null&&(b=b||new Map,b.set(R,D))}),T=T==d?d:T.nextSibling,e&&T!=d)for(;T!=d;){let C=T;T=T.nextSibling,C.remove()}return A&&A.forEach(C=>C.remove()),u.keyes=b,u}function ny(n,e,t,i,s){for(let a in e)!(a in t)&&ph(n,a,e[a],null,s,i);for(let a in t)ph(n,a,e[a],t[a],s,i)}function ph(n,e,t,i,s,a){if(e=e=="class"&&!s?"className":e,t=t??null,i=i??null,e in n&&K_[e]&&(t=n[e]),!(i===t||Y_[e]||e[0]=="_"))if(e[0]=="o"&&e[1]=="n"&&(xe(i)||xe(t)))ry(n,e.slice(2),i,a);else if(e=="ref")i&&(xe(i)?i(n):i.current=n);else if(e=="style"){let{style:u}=n;t=t||"",i=i||"";let h=$n(t),d=$n(i);if(h)for(let y in t)if(d)!(y in i)&&mh(u,y,null);else break;if(d)for(let y in i){let b=i[y];h&&t[y]===b||mh(u,y,b)}else u.cssText=i}else{let u=e[0]=="$"?e.slice(1):e;u===e&&(!s&&!Q_[e]&&e in n||xe(i)||xe(t))?n[e]=i??"":i==null?n.removeAttribute(u):n.setAttribute(u,$n(i)?JSON.stringify(i):i)}}function ry(n,e,t,i){if(i.handleEvent||(i.handleEvent=s=>i[s.type].call(n,s)),t){if(!i[e]){let s=t.capture||t.once||t.passive?Object.assign({},t):null;n.addEventListener(e,i,s)}i[e]=t}else i[e]&&(n.removeEventListener(e,i),delete i[e])}function mh(n,e,t){let i="setProperty";t==null&&(i="removeProperty",t=null),~e.indexOf("-")?n[i](e,t):n[e]=t}var gh={};function mi(n,...e){let t=(n.raw||n).reduce((i,s,a)=>i+s+(e[a]||""),"");return gh[t]=gh[t]||iy(t)}function iy(n){if(Nh.sheet){let e=new CSSStyleSheet;return e.replaceSync(n),e}else{let e=document.createElement("style");return e.textContent=n,e}}var sy=Oh("host",{style:"display: contents"}),Oo=Xt("atomico/context"),oy=(n,e)=>{let t=Kn();H_(()=>Ch(t.current,"ConnectContext",i=>{n===i.detail.id&&(i.stopPropagation(),i.detail.connect(e))}),[n])},ay=n=>{let e=ut("ConnectContext",{bubbles:!0,composed:!0}),t=()=>{let a;return e({id:n,connect(u){a=u}}),a},[i,s]=Wo(t);return Wn(()=>{i||(n[Oo]||(n[Oo]=customElements.whenDefined(new n().localName)),n[Oo].then(()=>s(t)))},[n]),i},cy=n=>{let e=ay(n),t=Sh();return Wn(()=>{if(e)return Ch(e,"UpdatedValue",t)},[e]),(e||n).value},uy=n=>{let e=Qn(()=>(oy(e,Kn().current),sy),{props:{value:{type:Object,event:{type:"UpdatedValue"},value:()=>n}}});return e.value=n,e},q=(n,e,t)=>(e==null?e={key:t}:e.key=t,Oh(n,e)),zn=q,Lh=mi`*,*:before,*:after{box-sizing:border-box}button{padding:0;touch-action:manipulation;cursor:pointer;user-select:none}`,Mh=mi`.vh{position:absolute;transform:scale(0)}`;function Ho(){let n=new Date;return new le(n.getFullYear(),n.getMonth()+1,n.getDate())}function Ko(n,e=0){let t=be(n),i=t.getUTCDay(),s=(i<e?7:0)+i-e;return t.setUTCDate(t.getUTCDate()-s),le.from(t)}function Fh(n,e=0){return Ko(n,e).add({days:6})}function Uh(n){return le.from(new Date(Date.UTC(n.year,n.month,0)))}function gi(n,e,t){return e&&le.compare(n,e)<0?e:t&&le.compare(n,t)>0?t:n}var ly={days:1};function hy(n,e=0){let t=Ko(n.toPlainDate(),e),i=Fh(Uh(n),e),s=[];for(;le.compare(t,i)<0;){let a=[];for(let u=0;u<7;u++)a.push(t),t=t.add(ly);s.push(a)}return s}function be(n){return new Date(Date.UTC(n.year,n.month-1,n.day??1))}var dy=/^(\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[0-1])$/,Vo=(n,e)=>n.toString().padStart(e,"0"),le=class n{constructor(e,t,i){this.year=e,this.month=t,this.day=i}add(e){let t=be(this);if("days"in e)return t.setUTCDate(this.day+e.days),n.from(t);let{year:i,month:s}=this;"months"in e?(s=this.month+e.months,t.setUTCMonth(s-1)):(i=this.year+e.years,t.setUTCFullYear(i));let a=n.from(be({year:i,month:s,day:1}));return gi(n.from(t),a,Uh(a))}toString(){return`${Vo(this.year,4)}-${Vo(this.month,2)}-${Vo(this.day,2)}`}toPlainYearMonth(){return new fi(this.year,this.month)}equals(e){return n.compare(this,e)===0}static compare(e,t){return e.year<t.year?-1:e.year>t.year?1:e.month<t.month?-1:e.month>t.month?1:e.day<t.day?-1:e.day>t.day?1:0}static from(e){if(typeof e=="string"){let t=e.match(dy);if(!t)throw new TypeError(e);let[,i,s,a]=t;return new n(parseInt(i,10),parseInt(s,10),parseInt(a,10))}return new n(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate())}},fi=class n{constructor(e,t){this.year=e,this.month=t}add(e){let t=be(this),i=(e.months??0)+(e.years??0)*12;return t.setUTCMonth(t.getUTCMonth()+i),new n(t.getUTCFullYear(),t.getUTCMonth()+1)}equals(e){return this.year===e.year&&this.month===e.month}toPlainDate(){return new le(this.year,this.month,1)}};function pi(n,e){if(e)try{return n.from(e)}catch{}}function lt(n){let[e,t]=Go(n);return[Ge(()=>pi(le,e),[e]),i=>t(i?.toString())]}function fy(n){let[e="",t]=Go(n);return[Ge(()=>{let[i,s]=e.split("/"),a=pi(le,i),u=pi(le,s);return a&&u?[a,u]:[]},[e]),i=>t(`${i[0]}/${i[1]}`)]}function py(n){let[e="",t]=Go(n);return[Ge(()=>{let i=[];for(let s of e.trim().split(/\s+/)){let a=pi(le,s);a&&i.push(a)}return i},[e]),i=>t(i.join(" "))]}function Hn(n,e){return Ge(()=>new Intl.DateTimeFormat(e,H({timeZone:"UTC"},n)),[e,n])}function _h(n,e,t){let i=Hn(n,t);return Ge(()=>{let s=[],a=new Date;for(var u=0;u<7;u++){let h=(a.getUTCDay()-e+7)%7;s[h]=i.format(a),a.setUTCDate(a.getUTCDate()+1)}return s},[e,i])}var yh=(n,e,t)=>gi(n,e,t)===n,vh=n=>n.target.matches(":dir(ltr)"),my={month:"long",day:"numeric"},gy={month:"long"},_y={weekday:"long"},Lo={bubbles:!0};function yy({props:n,context:e}){let{offset:t}=n,{firstDayOfWeek:i,isDateDisallowed:s,min:a,max:u,today:h,page:d,locale:y,focusedDate:b,formatWeekday:A}=e,T=h??Ho(),C=_h(_y,i,y),R=Ge(()=>({weekday:A}),[A]),N=_h(R,i,y),P=Hn(my,y),D=Hn(gy,y),F=Ge(()=>d.start.add({months:t}),[d,t]),$=Ge(()=>hy(F,i),[F,i]),ie=ut("focusday",Lo),Oe=ut("selectday",Lo),Z=ut("hoverday",Lo);function v(g){ie(gi(g,a,u))}function f(g){let _;switch(g.key){case"ArrowRight":_=b.add({days:vh(g)?1:-1});break;case"ArrowLeft":_=b.add({days:vh(g)?-1:1});break;case"ArrowDown":_=b.add({days:7});break;case"ArrowUp":_=b.add({days:-7});break;case"PageUp":_=b.add(g.shiftKey?{years:-1}:{months:-1});break;case"PageDown":_=b.add(g.shiftKey?{years:1}:{months:1});break;case"Home":_=Ko(b,i);break;case"End":_=Fh(b,i);break;default:return}v(_),g.preventDefault()}function m(g){let _=F.equals(g);if(!e.showOutsideDays&&!_)return;let w=g.equals(b),p=g.equals(T),ce=be(g),Ae=s?.(ce),Yn=!yh(g,a,u),He="",fe;if(e.type==="range"){let[Ve,kt]=e.value,Jn=Ve?.equals(g),ye=kt?.equals(g);fe=Ve&&kt&&yh(g,Ve,kt),He=`${Jn?"range-start":""} ${ye?"range-end":""} ${fe&&!Jn&&!ye?"range-inner":""}`}else e.type==="multi"?fe=e.value.some(Ve=>Ve.equals(g)):fe=e.value?.equals(g);return{part:`${`button day day-${ce.getDay()} ${_?fe?"selected":"":"outside"} ${Ae?"disallowed":""} ${p?"today":""} ${e.getDayParts?.(ce)??""}`} ${He}`,tabindex:_&&w?0:-1,disabled:Yn,"aria-disabled":Ae?"true":void 0,"aria-pressed":_&&fe,"aria-current":p?"date":void 0,"aria-label":P.format(ce),onkeydown:f,onclick(){Ae||Oe(g),v(g)},onmouseover(){!Ae&&!Yn&&Z(g)}}}return{weeks:$,yearMonth:F,daysLong:C,daysVisible:N,formatter:D,getDayProps:m}}var Mo=Ho(),Qo=uy({type:"date",firstDayOfWeek:1,focusedDate:Mo,page:{start:Mo.toPlainYearMonth(),end:Mo.toPlainYearMonth()}});customElements.define("calendar-ctx",Qo);var vy=(n,e)=>(e+n)%7,Iy=Qn(n=>{let e=cy(Qo),t=x_(),i=yy({props:n,context:e});function s(){t.current.querySelector("button[tabindex='0']")?.focus()}return zn("host",{shadowDom:!0,focus:s,children:[q("div",{id:"h",part:"heading",children:i.formatter.format(be(i.yearMonth))}),zn("table",{ref:t,"aria-labelledby":"h",part:"table",children:[q("thead",{children:q("tr",{part:"tr head",children:i.daysLong.map((a,u)=>zn("th",{part:`th day day-${vy(e.firstDayOfWeek,u)}`,scope:"col",children:[q("span",{class:"vh",children:a}),q("span",{"aria-hidden":"true",children:i.daysVisible[u]})]}))})}),q("tbody",{children:i.weeks.map((a,u)=>q("tr",{part:"tr week",children:a.map((h,d)=>{let y=i.getDayProps(h);return q("td",{part:"td",children:y&&q("button",pe(H({},y),{children:h.day}))},d)})},u))})]})]})},{props:{offset:{type:Number,value:0}},styles:[Lh,Mh,mi`:host{--color-accent: black;--color-text-on-accent: white;display:flex;flex-direction:column;gap:.25rem;text-align:center;inline-size:fit-content}table{border-collapse:collapse;font-size:.875rem}th{font-weight:700;block-size:2.25rem}td{padding-inline:0}button{color:inherit;font-size:inherit;background:transparent;border:0;font-variant-numeric:tabular-nums;block-size:2.25rem;inline-size:2.25rem}button:hover:where(:not(:disabled,[aria-disabled])){background:#0000000d}button:is([aria-pressed=true],:focus-visible){background:var(--color-accent);color:var(--color-text-on-accent)}button:focus-visible{outline:1px solid var(--color-text-on-accent);outline-offset:-2px}button:disabled,:host::part(outside),:host::part(disallowed){cursor:default;opacity:.5}`]});customElements.define("calendar-month",Iy);function Ih(n){return q("button",{part:`button ${n.name} ${n.onclick?"":"disabled"}`,onclick:n.onclick,"aria-disabled":n.onclick?null:"true",children:q("slot",{name:n.name,children:n.children})})}function Yo(n){let e=be(n.page.start),t=be(n.page.end);return zn("div",{role:"group","aria-labelledby":"h",part:"container",children:[q("div",{id:"h",class:"vh","aria-live":"polite","aria-atomic":"true",children:n.formatVerbose.formatRange(e,t)}),zn("div",{part:"header",children:[q(Ih,{name:"previous",onclick:n.previous,children:"Previous"}),q("slot",{part:"heading",name:"heading",children:q("div",{"aria-hidden":"true",children:n.format.formatRange(e,t)})}),q(Ih,{name:"next",onclick:n.next,children:"Next"})]}),q(Qo,{value:n,onselectday:n.onSelect,onfocusday:n.onFocus,onhoverday:n.onHover,children:q("slot",{})})]})}var Jo={value:{type:String,value:""},min:{type:String,value:""},max:{type:String,value:""},today:{type:String,value:""},isDateDisallowed:{type:Function,value:n=>!1},formatWeekday:{type:String,value:()=>"narrow"},getDayParts:{type:Function,value:n=>""},firstDayOfWeek:{type:Number,value:()=>1},showOutsideDays:{type:Boolean,value:!1},locale:{type:String,value:()=>{}},months:{type:Number,value:1},focusedDate:{type:String,value:()=>{}},pageBy:{type:String,value:()=>"months"}},Xo=[Lh,Mh,mi`:host{display:block;inline-size:fit-content}[role=group]{display:flex;flex-direction:column;gap:1em}:host::part(header){display:flex;align-items:center;justify-content:space-between}:host::part(heading){font-weight:700;font-size:1.25em}button{display:flex;align-items:center;justify-content:center}button[aria-disabled]{cursor:default;opacity:.5}`],wy={year:"numeric"},Ey={year:"numeric",month:"long"};function Fo(n,e){return(e.year-n.year)*12+e.month-n.month}var wh=(n,e)=>(n=e===12?new fi(n.year,1):n,{start:n,end:n.add({months:e-1})});function Ty({pageBy:n,focusedDate:e,months:t,max:i,min:s,goto:a}){let u=n==="single"?1:t,[h,d]=Wo(()=>wh(e.toPlainYearMonth(),t)),y=A=>d(wh(h.start.add({months:A}),t)),b=A=>{let T=Fo(h.start,A.toPlainYearMonth());return T>=0&&T<t};return Wn(()=>{if(b(e))return;let A=Fo(e.toPlainYearMonth(),h.start);a(e.add({months:A}))},[h.start]),Wn(()=>{if(b(e))return;let A=Fo(h.start,e.toPlainYearMonth());y(A===-1?-u:A===t?u:Math.floor(A/t)*t)},[e,u,t]),{page:h,previous:!s||!b(s)?()=>y(-u):void 0,next:!i||!b(i)?()=>y(u):void 0}}function Zo({months:n,pageBy:e,locale:t,focusedDate:i,setFocusedDate:s}){let[a]=lt("min"),[u]=lt("max"),[h]=lt("today"),d=ut("focusday"),y=ut("change"),b=Ge(()=>gi(i??h??Ho(),a,u),[i,h,a,u]);function A(D){s(D),d(be(D))}let{next:T,previous:C,page:R}=Ty({pageBy:e,focusedDate:b,months:n,min:a,max:u,goto:A}),N=Kn();function P(D){let F=D?.target??"day";F==="day"?N.current.querySelectorAll("calendar-month").forEach($=>$.focus(D)):N.current.shadowRoot.querySelector(`[part~='${F}']`).focus(D)}return{format:Hn(wy,t),formatVerbose:Hn(Ey,t),page:R,focusedDate:b,dispatch:y,onFocus(D){D.stopPropagation(),A(D.detail),setTimeout(P)},min:a,max:u,today:h,next:T,previous:C,focus:P}}var by=Qn(n=>{let[e,t]=lt("value"),[i=e,s]=lt("focusedDate"),a=Zo(pe(H({},n),{focusedDate:i,setFocusedDate:s}));function u(h){t(h.detail),a.dispatch()}return q("host",{shadowDom:!0,focus:a.focus,children:q(Yo,pe(H(H({},n),a),{type:"date",value:e,onSelect:u}))})},{props:Jo,styles:Xo});customElements.define("calendar-date",by);var Eh=(n,e)=>le.compare(n,e)<0?[n,e]:[e,n],Ay=Qn(n=>{let[e,t]=fy("value"),[i=e[0],s]=lt("focusedDate"),a=Zo(pe(H({},n),{focusedDate:i,setFocusedDate:s})),u=ut("rangestart"),h=ut("rangeend"),[d,y]=lt("tentative"),[b,A]=Wo();Wn(()=>A(void 0),[d]);function T(P){a.onFocus(P),C(P)}function C(P){P.stopPropagation(),d&&A(P.detail)}function R(P){let D=P.detail;P.stopPropagation(),d?(t(Eh(d,D)),y(void 0),h(be(D)),a.dispatch()):(y(D),u(be(D)))}let N=d?Eh(d,b??d):e;return q("host",{shadowDom:!0,focus:a.focus,children:q(Yo,pe(H(H({},n),a),{type:"range",value:N,onFocus:T,onHover:C,onSelect:R}))})},{props:pe(H({},Jo),{tentative:{type:String,value:""}}),styles:Xo});customElements.define("calendar-range",Ay);var Sy=Qn(n=>{let[e,t]=py("value"),[i=e[0],s]=lt("focusedDate"),a=Zo(pe(H({},n),{focusedDate:i,setFocusedDate:s}));function u(h){let d=[...e],y=e.findIndex(b=>b.equals(h.detail));y<0?d.push(h.detail):d.splice(y,1),t(d),a.dispatch()}return q("host",{shadowDom:!0,focus:a.focus,children:q(Yo,pe(H(H({},n),a),{type:"multi",value:e,onSelect:u}))})},{props:Jo,styles:Xo});customElements.define("calendar-multi",Sy);yc(ai,dh).catch(n=>console.error(n));
