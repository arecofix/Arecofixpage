{
  "version": 3,
  "sources": ["src/app/admin/sales/admin-invoices-page.ts", "src/app/admin/sales/admin-invoices-page.html"],
  "sourcesContent": ["import { Component, inject, OnInit, signal } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterLink } from '@angular/router';\r\nimport { AuthService } from '@app/core/services/auth.service';\r\nimport { Invoice } from '@app/features/sales/domain/entities/invoice.entity';\r\n\r\n@Component({\r\n    selector: 'app-admin-invoices-page',\r\n    standalone: true,\r\n    imports: [CommonModule, RouterLink],\r\n    templateUrl: './admin-invoices-page.html',\r\n})\r\nexport class AdminInvoicesPage implements OnInit {\r\n    private auth = inject(AuthService);\r\n    invoices = signal<Invoice[]>([]);\r\n    loading = signal(true);\r\n\r\n    async ngOnInit() {\r\n        await this.loadInvoices();\r\n    }\r\n\r\n    async loadInvoices() {\r\n        this.loading.set(true);\r\n        const supabase = this.auth.getSupabaseClient();\r\n        const { data, error } = await supabase\r\n            .from('invoices')\r\n            .select('*')\r\n            .order('issued_at', { ascending: false });\r\n\r\n        if (data) {\r\n            this.invoices.set(data);\r\n        }\r\n        this.loading.set(false);\r\n    }\r\n}\r\n", "<div class=\"flex justify-between items-center mb-6\">\r\n    <h1 class=\"text-2xl font-bold text-green-600\">Facturación</h1>\r\n</div>\r\n\r\n<div class=\"bg-base-100 rounded-lg shadow overflow-hidden text-base-content\">\r\n    <div class=\"overflow-x-auto\">\r\n        <table class=\"table w-full\">\r\n            <thead>\r\n                <tr class=\"text-base-content\">\r\n                    <th>Fecha</th>\r\n                    <th>Número</th>\r\n                    <th>Cliente</th>\r\n                    <th>Total</th>\r\n                    <th>Acciones</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                @if (loading()) {\r\n                <tr>\r\n                    <td colspan=\"5\" class=\"text-center py-4\">Cargando...</td>\r\n                </tr>\r\n                } @else if (invoices().length === 0) {\r\n                <tr>\r\n                    <td colspan=\"5\" class=\"text-center py-4\">No hay facturas registradas.</td>\r\n                </tr>\r\n                } @else {\r\n                @for (invoice of invoices(); track invoice.id) {\r\n                <tr>\r\n                    <td>{{ invoice.issued_at | date:'short' }}</td>\r\n                    <td class=\"font-mono\">{{ invoice.invoice_number || 'Pendiente' }}</td>\r\n                    <td>{{ invoice.customer_name || 'Consumidor Final' }}</td>\r\n                    <td class=\"font-bold\">${{ invoice.total_amount }}</td>\r\n                    <td>\r\n                        <a [routerLink]=\"['/admin/sales/invoices', invoice.id]\" class=\"btn btn-sm btn-ghost\">\r\n                            <i class=\"fas fa-eye\"></i>\r\n                        </a>\r\n                    </td>\r\n                </tr>\r\n                }\r\n                }\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n</div>"],
  "mappings": "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",
  "names": []
}
