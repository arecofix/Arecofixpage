import{a as ue}from"./chunk-TBNFDONH.js";import{a as pe}from"./chunk-BSLN4NSP.js";import{a as me,b as ge,c as fe}from"./chunk-47RBAN3M.js";import{a as ie,c as F}from"./chunk-KPD35PCK.js";import"./chunk-FNOMVEKC.js";import{a as te}from"./chunk-GYTUTSUP.js";import{a as ve,b as xe}from"./chunk-YVGI7O3M.js";import{a as re}from"./chunk-Q6QLGMI6.js";import"./chunk-WYU2UE3L.js";import{b as ae,d as oe,e as ne,f as le,g as ce,h as se,s as de}from"./chunk-M6HENET5.js";import"./chunk-I4DLVUEL.js";import"./chunk-3YI4VP2H.js";import"./chunk-XVE5GYFQ.js";import{E as ee,b as J,i as $,l as K,n as Y,x as X,z as Z}from"./chunk-2IOVCKFA.js";import{$ as p,$b as z,Ab as i,Bb as c,Hb as Q,L as S,Lb as g,Nb as u,R,Ta as l,Tb as E,Vb as n,W as d,Wb as D,Xb as b,Zb as U,_b as q,aa as m,ba as P,ca as j,da as B,fb as O,gc as G,l as V,lc as W,nc as H,oa as L,r as f,s as N,sb as v,tb as x,vb as C,vc as _,wb as k,xb as w,yb as h,zb as r}from"./chunk-SD6TJRIO.js";import{a as T,b as A}from"./chunk-7CGTOI24.js";var y=class a{fallbackProducts=[{id:"1001",category_id:"0",slug:"joystick-play-station-4",name:"Joystick Play Station 4",description:"En venta Joystick nuevo de play station 4 DUALSHOCK",price:29800,featured:!0,image_url:"assets/img/products/joystick-ps4-v2.webp"},{id:"1002",category_id:"0",slug:"iphone-8-plus",name:"iPhone 8 Plus",description:"En venta iPhone 8 Plus vidrio astillado no afecta su uso",price:96e3,featured:!0,image_url:"assets/img/products/iph8plus.webp"},{id:"1003",category_id:"0",slug:"iphone-x",name:"iPhone X",description:"En venta celular iphone x a wifi",price:149e3,featured:!0,image_url:"assets/img/products/iphx.webp"}];getFallbackProduct(e){return this.fallbackProducts.find(t=>t.slug===e)}getAllFallbackProducts(){return[...this.fallbackProducts]}isFallbackProduct(e){return this.fallbackProducts.some(t=>t.slug===e)}static \u0275fac=function(t){return new(t||a)};static \u0275prov=R({token:a,factory:a.\u0275fac,providedIn:"root"})};var be=()=>[1,2,3,4,5];function _e(a,e){a&1&&c(0,"is-loading")}function ye(a,e){a&1&&c(0,"is-empty")}function Se(a,e){a&1&&c(0,"is-error")}function Pe(a,e){if(a&1&&(r(0,"div",40),c(1,"img",41),i()),a&2){let t=e.$implicit,o=u(3);l(),h("ngSrc",t)("alt",o.product().name)}}function Ce(a,e){if(a&1&&(r(0,"div",11),k(1,Pe,2,2,"div",40,C),i()),a&2){let t=u(2);l(),w(t.product().gallery_urls)}}function ke(a,e){a&1&&(P(),r(0,"svg",18),c(1,"path",42),i())}function we(a,e){if(a&1&&(r(0,"li"),n(1),i()),a&2){let t=u(2);l(),b("SKU: ",t.product().sku)}}function Ee(a,e){if(a&1){let t=Q();r(0,"div",0)(1,"div",1)(2,"div",2)(3,"input",3),z("ngModelChange",function(s){p(t);let M=u();return q(M.searchQuery,s)||(M.searchQuery=s),m(s)}),g("keyup.enter",function(){p(t);let s=u();return m(s.onSearch())}),i(),r(4,"button",4),g("click",function(){p(t);let s=u();return m(s.onSearch())}),c(5,"i",5),i()()(),c(6,"app-breadcrumbs",6),r(7,"div",7)(8,"div",8)(9,"div",9),c(10,"img",10),i(),v(11,Ce,3,0,"div",11),i(),r(12,"div",12)(13,"h1",13),n(14),i(),r(15,"div",14)(16,"h2",15),n(17,"Product information"),i(),r(18,"p",16),n(19),W(20,"number"),i()(),r(21,"div",14)(22,"h3",15),n(23,"Reviews"),i(),r(24,"div",17)(25,"div",17),k(26,ke,2,0,":svg:svg",18,C),i(),r(28,"p",15),n(29,"5 out of 5 stars"),i(),r(30,"a",19),n(31,"Ver rese\xF1as"),i()()(),r(32,"div",20)(33,"h3",15),n(34,"Description"),i(),r(35,"p",21),n(36),i()(),r(37,"div",22)(38,"h3",23),n(39,"Caracter\xEDsticas"),i(),r(40,"div",24)(41,"ul",25)(42,"li"),n(43,"Garant\xEDa: 3 meses"),i(),v(44,we,2,1,"li"),r(45,"li"),n(46,"Env\xEDo a todo el pa\xEDs"),i(),r(47,"li"),n(48,"Stock disponible"),i()()()(),r(49,"form",26)(50,"button",27),g("click",function(){p(t);let s=u();return m(s.addToCart())}),c(51,"i",28),n(52," Agregar al Carrito "),i(),r(53,"button",29),g("click",function(){p(t);let s=u();return m(s.toggleFavorite())}),c(54,"i",30),n(55),i()(),r(56,"div",31)(57,"div",32)(58,"div",33),P(),r(59,"svg",34),c(60,"path",35),i()(),j(),r(61,"div",36)(62,"p",37)(63,"span",38),n(64,"Armado y despacho de pedidos 24hs/48hs."),i(),n(65," Avisar antes de pasar por el local. "),r(66,"a",39),n(67,"AGENDA EL Whatsapp: 5491125960900"),i(),n(68," Y MANDANOS UN MSJ PARA QUE PUEDAS VER PROMOCIONES DEL DIA, DESCUENTO, SORTEOS Y MAS!!! "),i()()()()()()()}if(a&2){let t=u();l(3),U("ngModel",t.searchQuery),l(3),h("items",t.breadcrumbItems()),l(4),h("ngSrc",t.product().image_url||"assets/img/no-image.png")("alt",t.product().name)("priority",!0),l(),x(t.product().gallery_urls&&t.product().gallery_urls.length>0?11:-1),l(3),D(t.product().name),l(5),b("$",H(20,23,t.product().price,"1.0-0")),l(7),w(G(26,be)),l(10),D(t.product().description||"Sin descripci\xF3n detallada."),l(8),x(t.product().sku?44:-1),l(9),E("border-red-500",t.isFavorite())("text-red-600",t.isFavorite())("bg-red-50",t.isFavorite()),l(),E("fas",t.isFavorite())("far",!t.isFavorite())("text-red-600",t.isFavorite()),l(),b(" ",t.isFavorite()?"Quitar de Favoritos":"Agregar a Favoritos"," ")}}var I=class a{route=d(X);categoryService=d(te);productService=d(ve);location=d(J);fallbackService=d(y);seoService=d(ue);constructor(){L(()=>{let e=this.product();e&&this.seoService.setPageData(e.name,e.description||`Compra ${e.name} en Arecofix`,e.image_url,"product")})}breadcrumbItems=_(()=>{let e=this.product(),t=this.categoryRs.value(),o=[{label:"Inicio",url:"/"},{label:"Productos",url:"/productos"}];return t&&o.push({label:t.name,url:`/productos/categoria/${t.slug}`}),e&&o.push({label:e.name}),o});productRs=F({stream:()=>N([this.route.params.pipe(f(({productSlug:e})=>e)),this.route.queryParams.pipe(f(e=>+e._page||1))]).pipe(S(([e])=>this.productService.getData({_page:1,slug:e}).pipe(f(t=>{let o=this.fallbackService.getFallbackProduct(e);return(!t.data||t.data.length===0)&&o?A(T({},t),{data:[o],items:1,pages:1}):t}))))});product=_(()=>{let e=this.productRs.value();return!e||!e.data||e.data.length===0?null:e.data[0]});injector=d(B);categoryRs=F({stream:()=>ie(this.product,{injector:this.injector}).pipe(S(e=>e?this.categoryService.getById(e.category_id):V(null)))});goBack(){this.location.back()}cartService=d(re);favoritesService=d(xe);isFavorite=_(()=>{let e=this.product();return e?this.favoritesService.isFavorite(e.id):!1});toggleFavorite(){let e=this.product();e&&this.favoritesService.toggleFavorite(e)}addToCart(){let e=this.product();e&&this.cartService.addToCart(e)}shareProduct(){let e=this.product();if(!e)return;let t={title:e.name,text:`Mira este producto: ${e.name}`,url:window.location.href};navigator.share?navigator.share(t).catch(o=>console.error("Error sharing:",o)):navigator.clipboard.writeText(window.location.href).then(()=>alert("Enlace copiado al portapapeles!")).catch(o=>console.error("Error copying to clipboard:",o))}searchQuery="";router=d(Z);onSearch(){this.searchQuery.trim()&&this.router.navigate(["/products/all"],{queryParams:{q:this.searchQuery}})}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=O({type:a,selectors:[["app-products-details-page"]],decls:4,vars:1,consts:[[1,"bg-white","dark:bg-gray-900","pt-6"],[1,"container","mx-auto","px-4","lg:px-8","mt-4","mb-4","flex","justify-end"],[1,"relative","w-full","max-w-xs"],["type","text","placeholder","Buscar producto...",1,"input","input-bordered","w-full","pl-10","h-10",3,"ngModelChange","keyup.enter","ngModel"],[1,"absolute","right-2","top-1/2","-translate-y-1/2","btn","btn-ghost","btn-xs","btn-circle",3,"click"],[1,"fas","fa-search","text-gray-400"],[3,"items"],[1,"mx-auto","mt-6","max-w-2xl","px-4","sm:px-6","lg:max-w-7xl","lg:px-8","lg:grid","lg:grid-cols-2","lg:gap-x-8"],[1,"lg:max-w-lg","lg:self-end"],[1,"w-full","aspect-square","overflow-hidden","rounded-lg","bg-gray-100","dark:bg-gray-800","flex","items-center","justify-center","relative"],["fill","",1,"object-contain","object-center","max-h-full","max-w-full",3,"ngSrc","alt","priority"],[1,"mt-4","grid","grid-cols-4","gap-4"],[1,"mt-10","px-4","sm:mt-16","sm:px-0","lg:mt-0"],[1,"text-3xl","font-bold","tracking-tight","text-gray-900","dark:text-white"],[1,"mt-3"],[1,"sr-only"],[1,"text-3xl","tracking-tight","text-gray-900","dark:text-white","font-bold"],[1,"flex","items-center"],["viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"size-5","shrink-0","text-yellow-500"],["href","#",1,"ml-3","text-sm","font-medium","text-indigo-600","hover:text-indigo-500","dark:text-indigo-400"],[1,"mt-6"],[1,"text-base","text-gray-700","dark:text-gray-300"],[1,"mt-10","border-t","border-gray-200","dark:border-gray-700","pt-10"],[1,"text-sm","font-medium","text-gray-900","dark:text-white"],[1,"mt-4","prose","prose-sm","text-gray-500","dark:text-gray-400"],["role","list"],[1,"mt-10"],["type","button",1,"flex","w-full","items-center","justify-center","rounded-md","border","border-transparent","bg-indigo-600","px-8","py-3","text-base","font-medium","text-white","hover:bg-indigo-700","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-2","focus:outline-hidden","cursor-pointer","hover:shadow-lg","hover:scale-[1.02]","transition-all","duration-200",3,"click"],[1,"fas","fa-shopping-cart","mr-2"],["type","button",1,"mt-4","flex","w-full","items-center","justify-center","rounded-md","border","border-gray-300","dark:border-gray-600","bg-transparent","px-8","py-3","text-base","font-medium","text-gray-900","dark:text-gray-300","hover:bg-gray-50","dark:hover:bg-gray-800","cursor-pointer","transition-colors",3,"click"],[1,"mr-2","fa-heart"],[1,"mt-8","bg-blue-50","dark:bg-blue-900/20","border-l-4","border-blue-500","p-4","rounded-r-lg"],[1,"flex"],[1,"shrink-0"],["viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","text-blue-400"],["fill-rule","evenodd","d","M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule","evenodd"],[1,"ml-3"],[1,"text-sm","text-blue-700","dark:text-blue-200"],[1,"font-bold"],["href","https://wa.me/5491125960900","target","_blank",1,"font-bold","underline","hover:text-blue-600"],[1,"aspect-square","rounded-lg","overflow-hidden","bg-gray-100","dark:bg-gray-800","relative"],["fill","",1,"object-cover","object-center",3,"ngSrc","alt"],["fill-rule","evenodd","d","M10.868 2.884c-.321-.772-1.415-.772-1.736 0l-1.83 4.401-4.753.381c-.833.067-1.171 1.107-.536 1.651l3.62 3.102-1.106 4.637c-.194.813.691 1.456 1.405 1.02L10 15.591l4.069 2.485c.713.436 1.598-.207 1.404-1.02l-1.106-4.637 3.62-3.102c.635-.544.297-1.584-.536-1.65l-4.752-.382-1.831-4.401Z","clip-rule","evenodd"]],template:function(t,o){t&1&&v(0,_e,1,0,"is-loading")(1,ye,1,0,"is-empty")(2,Se,1,0,"is-error")(3,Ee,69,27,"div",0),t&2&&x(o.productRs.isLoading()?0:o.productRs.hasValue()?o.productRs.error()?2:o.productRs.hasValue()?3:-1:1)},dependencies:[me,ge,fe,Y,de,se,ae,oe,ne,ce,le,ee,pe,K,$],encapsulation:2,changeDetection:0})},Ke=I;export{I as ProductsDetailsPage,Ke as default};
