import{a as L}from"./chunk-H7VBXIT5.js";import{a as E}from"./chunk-CTZAUJWJ.js";import"./chunk-3NRH2BAE.js";import{a as b,b as T,c as I,d as M,e as N}from"./chunk-P63VLDBD.js";import{a as B}from"./chunk-VMJUG7FZ.js";import"./chunk-EZQXAHE6.js";import{c as D}from"./chunk-J52LKC7M.js";import{a as h}from"./chunk-VU7SKD6P.js";import"./chunk-FR6EAD4C.js";import"./chunk-X77PN5FN.js";import"./chunk-GLDAN37X.js";import{Da as f,I as c,Qa as C,V as r,Zb as x,ab as p,bb as s,cb as P,eb as v,fb as _,gb as d,hb as S,ib as R,jb as a,t as n,tb as g,u as y}from"./chunk-VQO264VU.js";import{c as l}from"./chunk-VOSPIT4N.js";function q(e,t){e&1&&a(0,"is-loading")}function w(e,t){e&1&&a(0,"is-empty")}function A(e,t){e&1&&a(0,"is-error")}function F(e,t){if(e&1&&a(0,"pagination",0),e&2){let i=g(2);d("pages",i.productsRs.value().pages)("currentPage",i.paginationService.currentPage())}}function V(e,t){if(e&1&&a(0,"product-card",3),e&2){let i=t.$implicit;d("product",i)}}function j(e,t){if(e&1&&(p(0,F,1,2,"pagination",0),a(1,"div",1),S(2,"div",2),v(3,V,1,1,"product-card",3,P),R()),e&2){let i=g();s(i.paginationData()?0:-1),f(3),_(i.productsRs.value().data)}}var u=class e{route=r(h);categoryService=r(B);productService=r(E);paginationService=r(b);productsRs=D({stream:()=>y([this.route.params.pipe(n(({categorySlug:t})=>t)),this.route.queryParams.pipe(n(t=>+t._page||1))]).pipe(c(([t,i])=>this.categoryService.getDataBySlug(t).pipe(c(o=>this.productService.getData({category_id:Number(o.data?.[0]?.id),_page:i})))))});paginationData=x(()=>{let t=this.productsRs.value();if(!t)return null;let m=t,{data:i}=m;return l(m,["data"])},{});static \u0275fac=function(i){return new(i||e)};static \u0275cmp=C({type:e,selectors:[["products-by-category-page"]],decls:4,vars:1,consts:[[3,"pages","currentPage"],[1,"divider"],[1,"grid","grid-cols-1","md:grid-cols-3","xl:grid-cols-5","gap-4","p-4"],[3,"product"]],template:function(i,o){i&1&&p(0,q,1,0,"is-loading")(1,w,1,0,"is-empty")(2,A,1,0,"is-error")(3,j,5,1),i&2&&s(o.productsRs.isLoading()?0:o.productsRs.hasValue()?o.productsRs.error()?2:o.productsRs.hasValue()?3:-1:1)},dependencies:[I,M,N,L,T],encapsulation:2,changeDetection:0})},te=u;export{u as ProductsByCategoryPage,te as default};
