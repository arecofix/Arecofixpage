import{a as y}from"./chunk-MCSV4IA2.js";import{d as E}from"./chunk-BWQSVEWZ.js";import"./chunk-44RGWP63.js";import"./chunk-4CQ4C23O.js";import{n as S}from"./chunk-XV34LPXM.js";import{Db as n,Eb as m,Fa as o,Fb as c,Gb as b,Rb as _,Sa as f,X as p,cb as x,db as g,gb as u,hb as v,ib as h,jb as e,kb as t,lb as r,na as s,vb as C}from"./chunk-DPJIKM6M.js";import"./chunk-VOSPIT4N.js";var N=a=>["/admin/clients",a],w=(a,l)=>l.id;function I(a,l){a&1&&(e(0,"tr")(1,"td",8),n(2,"Cargando..."),t()())}function P(a,l){a&1&&(e(0,"tr")(1,"td",8),n(2,"No hay clientes registrados."),t()())}function D(a,l){if(a&1&&(e(0,"tr")(1,"td")(2,"div",9),n(3),t(),e(4,"div",10),n(5),t(),e(6,"div",11),n(7),t()(),e(8,"td")(9,"div"),r(10,"i",12),n(11),t()(),e(12,"td")(13,"div",13),n(14),t()(),e(15,"td")(16,"span",14),n(17,"Activo"),t()(),e(18,"td")(19,"a",15),r(20,"i",16),t()()()),a&2){let i=l.$implicit;o(3),b("",i.first_name," ",i.last_name),o(2),m(i.email),o(2),c("DNI: ",i.dni||"N/A"),o(4),c(" ",i.phone||"N/A"),o(3),m(i.address||"N/A"),o(5),h("routerLink",_(7,N,i.id))}}function T(a,l){if(a&1&&u(0,D,21,9,"tr",null,w),a&2){let i=C();v(i.clients())}}var A=class a{auth=p(y);clients=s([],{});loading=s(!0,{});async ngOnInit(){await this.loadClients()}async loadClients(){this.loading.set(!0);let l=this.auth.getSupabaseClient(),{data:i,error:d}=await l.from("profiles").select("*").eq("role","user").order("created_at",{ascending:!1});i&&this.clients.set(i),this.loading.set(!1)}static \u0275fac=function(i){return new(i||a)};static \u0275cmp=f({type:a,selectors:[["app-admin-clients-page"]],decls:25,vars:1,consts:[[1,"flex","justify-between","items-center","mb-6"],[1,"text-2xl","font-bold","text-gray-800"],["routerLink","/admin/clients/new",1,"btn","btn-primary"],[1,"fas","fa-plus","mr-2"],[1,"bg-white","rounded-lg","shadow","overflow-hidden","text-gray-800"],[1,"overflow-x-auto"],[1,"table","w-full"],[1,"text-gray-800"],["colspan","5",1,"text-center","py-4"],[1,"font-bold"],[1,"text-sm","opacity-50"],[1,"text-xs","text-gray-400"],[1,"fas","fa-phone","text-xs","mr-1"],[1,"text-sm"],[1,"badge","badge-ghost"],[1,"btn","btn-sm","btn-ghost",3,"routerLink"],[1,"fas","fa-edit"]],template:function(i,d){i&1&&(e(0,"div",0)(1,"h1",1),n(2,"Clientes"),t(),e(3,"a",2),r(4,"i",3),n(5," Nuevo Cliente "),t()(),e(6,"div",4)(7,"div",5)(8,"table",6)(9,"thead")(10,"tr",7)(11,"th"),n(12,"Nombre"),t(),e(13,"th"),n(14,"Contacto"),t(),e(15,"th"),n(16,"Ubicaci\xF3n"),t(),e(17,"th"),n(18,"Estado"),t(),e(19,"th"),n(20,"Acciones"),t()()(),e(21,"tbody"),x(22,I,3,0,"tr")(23,P,3,0,"tr")(24,T,2,0),t()()()()),i&2&&(o(22),g(d.loading()?22:d.clients().length===0?23:24))},dependencies:[S,E],encapsulation:2})};export{A as AdminClientsPage};
