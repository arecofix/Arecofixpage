import{a as te}from"./chunk-5Z3GVHAK.js";import"./chunk-YSO73UTU.js";import{b as V,d as A,g as O,i as q,l as H,m as z,n as G,o as U,r as J}from"./chunk-IS4HFLFE.js";import{a as ee}from"./chunk-7APHENRG.js";import{a as $}from"./chunk-CXQLCJLY.js";import"./chunk-D7UM7OT5.js";import{a as K,b as Q,c as X,d as Y,e as Z}from"./chunk-YJINA3M4.js";import{a as I}from"./chunk-UGQOJHW4.js";import"./chunk-V2I26IUK.js";import{c as L}from"./chunk-PQSPWLSB.js";import{a as k,c as j}from"./chunk-AICXNJUB.js";import"./chunk-BASCMOWO.js";import"./chunk-AUYAPYBZ.js";import{n as W}from"./chunk-QSLR4FGB.js";import{a as B}from"./chunk-LAXSCOZR.js";import{Fa as M,Hb as a,Ia as s,Ib as S,Jb as D,Lb as _,Mb as C,Nb as b,Wa as F,X as m,ca as T,da as P,dc as N,gb as x,hb as f,kb as h,lb as v,mb as c,na as y,nb as e,ob as t,pb as p,xb as u,zb as g}from"./chunk-UMWLAP3G.js";import{a as w,c as R}from"./chunk-VOSPIT4N.js";var E=(i,n)=>n.id;function ne(i,n){if(i&1&&(e(0,"option",19),a(1),t()),i&2){let r=n.$implicit;c("value",r.id),s(),S(r.name)}}function oe(i,n){if(i&1&&(e(0,"option",19),a(1),t()),i&2){let r=n.$implicit;c("value",r.id),s(),S(r.name)}}function ae(i,n){if(i&1&&a(0),i&2){let r=g();D(" ",r.productsRs.value().items," resultados ")}}function re(i,n){i&1&&a(0," Cargando... ")}function le(i,n){i&1&&p(0,"is-loading")}function se(i,n){i&1&&p(0,"is-error")}function pe(i,n){i&1&&p(0,"is-empty")}function de(i,n){if(i&1&&p(0,"product-card",51),i&2){let r=n.$implicit;c("product",r)}}function me(i,n){if(i&1&&(e(0,"div",52),p(1,"pagination",53),t()),i&2){let r,o=g(3);s(),c("pages",((r=o.paginationData())==null?null:r.pages)??0)("currentPage",o.paginationService.currentPage())}}function ce(i,n){if(i&1&&(e(0,"div",50),h(1,de,1,1,"product-card",51,E),t(),x(3,me,2,2,"div",52)),i&2){let r=g(2);s(),v(r.productsRs.value().data),s(2),f(r.paginationData()?3:-1)}}function ue(i,n){if(i&1&&x(0,pe,1,0,"is-empty")(1,ce,4,1),i&2){let r=g();f(r.productsRs.value().data.length===0?0:1)}}function ge(i,n){if(i&1&&p(0,"img",54),i&2){let r=g().$implicit;c("src",r.logo_url,M)("alt",r.name)}}function xe(i,n){if(i&1&&(e(0,"span",55),a(1),t()),i&2){let r=g().$implicit;s(),S(r.name)}}function fe(i,n){if(i&1&&(e(0,"div",35),x(1,ge,1,2,"img",54)(2,xe,2,1,"span",55),t()),i&2){let r=n.$implicit;s(),f(r.logo_url?1:2)}}var ie=class i{whatsappNumber=B.contact.whatsappNumber;router=m(j);route=m(k);categoryService=m(I);productService=m($);brandRepo=m(te);paginationService=m(K);categories=y([],{});brands=y([],{});filterState={search:"",category:"all",brand:"all",maxPrice:null,sort:"relevance"};activeFilter=y(w({},this.filterState),{});productsRs=L({stream:()=>{let n=this.activeFilter(),o={_page:this.paginationService.currentPage()||1,_per_page:12};return n.search&&(o.name=n.search),n.category!=="all"&&(o.category_id=n.category),n.brand!=="all"&&(o.brand_id=n.brand),n.maxPrice&&(o.price=n.maxPrice),this.productService.getData(o)}});paginationData=N(()=>{let n=this.productsRs.value();if(!n)return null;let d=n,{data:r}=d;return R(d,["data"])},{});async ngOnInit(){await this.loadCategories(),await this.loadBrands()}async loadCategories(){this.categoryService.getData({_page:1,_per_page:100}).subscribe(n=>{this.categories.set(n.data)})}async loadBrands(){try{let n=await this.brandRepo.findAll({column:"name",ascending:!0});this.brands.set(n)}catch(n){console.error("Error loading brands",n)}}applyFilters(){this.activeFilter.set(w({},this.filterState)),this.router.navigate([],{relativeTo:this.route,queryParams:{_page:1},queryParamsHandling:"merge"})}goToHome(){this.router.navigate(["/"])}static \u0275fac=function(r){return new(r||i)};static \u0275cmp=F({type:i,selectors:[["app-repuestos"]],decls:110,vars:8,consts:[[1,"bg-white","shadow-sm","sticky","top-0","z-40"],[1,"max-w-7xl","mx-auto","px-4","py-3"],[1,"flex","items-center","gap-2","text-blue-600","hover:text-blue-800",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 19l-7-7m0 0l7-7m-7 7h18"],[1,"relative","bg-blue-700","text-white","py-12","overflow-hidden"],[1,"absolute","inset-0","opacity-10",2,"background-image","url('https://images.unsplash.com/photo-1601524909162-ae8725290836?q=80&w=2000')","background-size","cover","background-position","center"],[1,"relative","max-w-7xl","mx-auto","px-4","text-center"],[1,"text-3xl","md:text-4xl","font-bold","mb-3"],[1,"text-lg","mb-6"],[1,"flex","flex-wrap","justify-center","gap-3"],["href","#catalogo",1,"btn","btn-primary"],["id","catalogo",1,"bg-white"],[1,"max-w-7xl","mx-auto","px-4","py-6"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-4","items-end"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","text","placeholder","Ej: Pantalla iPhone 12",1,"w-full","rounded-lg","border","border-gray-300","px-3","py-2","focus:outline-none","focus:ring-2","focus:ring-blue-600",3,"ngModelChange","ngModel"],[1,"w-full","rounded-lg","border","border-gray-300","px-3","py-2","focus:outline-none","focus:ring-2","focus:ring-blue-600",3,"ngModelChange","ngModel"],["value","all"],[3,"value"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-3"],["type","number","min","0","placeholder","Ej: 20000",1,"w-full","rounded-lg","border","border-gray-300","px-3","py-2","focus:outline-none","focus:ring-2","focus:ring-blue-600",3,"ngModelChange","ngModel"],["value","relevance"],["value","price-asc"],["value","price-desc"],["value","rating-desc"],[1,"bg-gray-50","py-8"],[1,"max-w-7xl","mx-auto","px-4"],[1,"flex","items-center","justify-between","mb-6"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-sm","text-gray-600"],[1,"py-16","bg-white"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"text-3xl","font-bold","text-center","text-gray-900","mb-12"],[1,"grid","grid-cols-2","md:grid-cols-4","gap-8","items-center"],[1,"flex","items-center","justify-center","p-4","grayscale","hover:grayscale-0","transition-all"],[1,"py-16","bg-indigo-900","text-white"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-8","text-center"],[1,"fas","fa-shipping-fast","text-5xl","mb-4","text-indigo-300"],[1,"text-xl","font-bold","mb-2"],[1,"text-indigo-200"],[1,"fas","fa-shield-check","text-5xl","mb-4","text-indigo-300"],[1,"fas","fa-tags","text-5xl","mb-4","text-indigo-300"],[1,"fas","fa-headset","text-5xl","mb-4","text-indigo-300"],[1,"py-16","bg-gradient-to-r","from-indigo-600","to-blue-600","text-white"],[1,"max-w-4xl","mx-auto","px-4","sm:px-6","lg:px-8","text-center"],[1,"text-3xl","sm:text-4xl","font-bold","mb-4"],[1,"text-xl","mb-8"],[1,"inline-flex","items-center","justify-center","px-8","py-4","bg-white","text-indigo-600","font-bold","rounded-lg","hover:bg-gray-100","transition","shadow-lg","text-lg",3,"href"],[1,"fab","fa-whatsapp","mr-2","text-2xl"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","gap-6"],[3,"product"],[1,"mt-8"],[3,"pages","currentPage"],[1,"max-h-16","w-auto",3,"src","alt"],[1,"text-xl","font-bold","text-gray-400"]],template:function(r,o){r&1&&(e(0,"header",0)(1,"div",1)(2,"button",2),u("click",function(){return o.goToHome()}),T(),e(3,"svg",3),p(4,"path",4),t(),a(5," Volver al inicio "),t()()(),P(),e(6,"section",5),p(7,"div",6),e(8,"div",7)(9,"h1",8),a(10,"Repuestos para Celulares"),t(),e(11,"p",9),a(12,"Los mejores repuestos originales y compatibles"),t(),e(13,"div",10)(14,"a",11),a(15,"Ver Cat\xE1logo"),t()()()(),e(16,"section",12)(17,"div",13)(18,"div",14)(19,"div")(20,"label",15),a(21,"Buscar"),t(),e(22,"input",16),b("ngModelChange",function(l){return C(o.filterState.search,l)||(o.filterState.search=l),l}),u("ngModelChange",function(){return o.applyFilters()}),t()(),e(23,"div")(24,"label",15),a(25,"Categor\xEDa"),t(),e(26,"select",17),b("ngModelChange",function(l){return C(o.filterState.category,l)||(o.filterState.category=l),l}),u("ngModelChange",function(){return o.applyFilters()}),e(27,"option",18),a(28,"Todas"),t(),h(29,ne,2,2,"option",19,E),t()(),e(31,"div")(32,"label",15),a(33,"Marca"),t(),e(34,"select",17),b("ngModelChange",function(l){return C(o.filterState.brand,l)||(o.filterState.brand=l),l}),u("ngModelChange",function(){return o.applyFilters()}),e(35,"option",18),a(36,"Todas"),t(),h(37,oe,2,2,"option",19,E),t()(),e(39,"div",20)(40,"div")(41,"label",15),a(42,"Precio m\xE1ximo"),t(),e(43,"input",21),b("ngModelChange",function(l){return C(o.filterState.maxPrice,l)||(o.filterState.maxPrice=l),l}),u("ngModelChange",function(){return o.applyFilters()}),t()(),e(44,"div")(45,"label",15),a(46,"Ordenar"),t(),e(47,"select",17),b("ngModelChange",function(l){return C(o.filterState.sort,l)||(o.filterState.sort=l),l}),u("ngModelChange",function(){return o.applyFilters()}),e(48,"option",22),a(49,"Relevancia"),t(),e(50,"option",23),a(51,"Precio: menor a mayor"),t(),e(52,"option",24),a(53,"Precio: mayor a menor"),t(),e(54,"option",25),a(55,"Mejor valoraci\xF3n"),t()()()()()()(),e(56,"section",26)(57,"div",27)(58,"div",28)(59,"h2",29),a(60,"Cat\xE1logo"),t(),e(61,"span",30),x(62,ae,1,1)(63,re,1,0),t()(),x(64,le,1,0,"is-loading")(65,se,1,0,"is-error")(66,ue,2,1),t()(),e(67,"section",31)(68,"div",32)(69,"h2",33),a(70,"Trabajamos con las Mejores Marcas"),t(),e(71,"div",34),h(72,fe,3,1,"div",35,E),t()()(),e(74,"section",36)(75,"div",32)(76,"div",37)(77,"div"),p(78,"i",38),e(79,"h3",39),a(80,"Env\xEDo R\xE1pido"),t(),e(81,"p",40),a(82,"Entregas en 24-48 horas"),t()(),e(83,"div"),p(84,"i",41),e(85,"h3",39),a(86,"Garant\xEDa"),t(),e(87,"p",40),a(88,"Todos los repuestos con garant\xEDa"),t()(),e(89,"div"),p(90,"i",42),e(91,"h3",39),a(92,"Mejores Precios"),t(),e(93,"p",40),a(94,"Precios mayoristas disponibles"),t()(),e(95,"div"),p(96,"i",43),e(97,"h3",39),a(98,"Asesoramiento"),t(),e(99,"p",40),a(100,"Soporte t\xE9cnico incluido"),t()()()()(),e(101,"section",44)(102,"div",45)(103,"h2",46),a(104,"\xBFNo encuentras lo que buscas?"),t(),e(105,"p",47),a(106,"Cont\xE1ctanos y te ayudamos a encontrar el repuesto que necesitas"),t(),e(107,"a",48),p(108,"i",49),a(109," Consultar Ahora "),t()()()),r&2&&(s(22),_("ngModel",o.filterState.search),s(4),_("ngModel",o.filterState.category),s(3),v(o.categories()),s(5),_("ngModel",o.filterState.brand),s(3),v(o.brands()),s(6),_("ngModel",o.filterState.maxPrice),s(4),_("ngModel",o.filterState.sort),s(15),f(o.productsRs.hasValue()?62:63),s(2),f(o.productsRs.isLoading()?64:o.productsRs.error()?65:o.productsRs.hasValue()?66:-1),s(8),v(o.brands()),s(35),c("href","https://wa.me/"+o.whatsappNumber+"?text=Hola,%20busco%20un%20repuesto%20espec\xEDfico",M))},dependencies:[W,J,z,G,V,q,H,A,U,O,X,Y,Z,ee,Q],encapsulation:2})};export{ie as RepuestosComponent};
