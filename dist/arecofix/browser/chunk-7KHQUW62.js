import{a as I}from"./chunk-IP4OBPF4.js";import{a as A}from"./chunk-BUXARFD3.js";import{a as V}from"./chunk-DCQKJI4U.js";import{b as j,c as H}from"./chunk-G24LN6BT.js";import{d as T}from"./chunk-LJXF2LKV.js";import{a as N}from"./chunk-YDRYCRWB.js";import"./chunk-XABE7YIC.js";import"./chunk-FNOMVEKC.js";import{a as L}from"./chunk-UMKSLB7V.js";import"./chunk-WKJZXT3A.js";import"./chunk-6C55BXVK.js";import"./chunk-T7AXESXA.js";import{e as D}from"./chunk-CFVR47WG.js";import"./chunk-BPBGA3ZM.js";import"./chunk-E6PREHEQ.js";import{$b as f,Ab as R,Bb as B,Cb as y,Db as i,Eb as t,Fb as d,M as x,O as P,Rb as p,Xa as l,Z as g,Zb as o,_b as b,ea as S,fa as E,jb as k,pa as w,q as _,w as m,wb as s,x as h,xb as u,xc as M}from"./chunk-25C2KVON.js";import{c as C}from"./chunk-VOSPIT4N.js";var $=(e,r)=>r.id;function F(e,r){if(e&1&&(i(0,"li",9),o(1),t()),e&2){let n,a=p();l(),b((n=a.currentCategory())==null?null:n.name)}}function q(e,r){if(e&1&&(i(0,"h1",34),o(1),t(),i(2,"p",35),o(3),t()),e&2){let n,a,c=p();l(),f(" ",(n=c.currentCategory())==null?null:n.name," "),l(2),f(" ",((a=c.currentCategory())==null?null:a.description)||"Explora nuestra selecci\xF3n de productos de alta calidad."," ")}}function G(e,r){e&1&&d(0,"div",36)(1,"div",37)}function O(e,r){if(e&1&&(o(0," Mostrando "),i(1,"span",38),o(2),t(),o(3," productos ")),e&2){let n=p();l(2),b(n.productsRs.value().items)}}function z(e,r){e&1&&d(0,"is-loading")}function J(e,r){e&1&&(i(0,"div",33)(1,"div",39),S(),i(2,"svg",40),d(3,"path",41),t()(),E(),i(4,"h3",42),o(5,"No se encontraron productos"),t(),i(6,"p",43),o(7,"Intenta con otra categor\xEDa o filtro."),t()())}function K(e,r){e&1&&d(0,"is-error")}function Q(e,r){if(e&1&&d(0,"product-card",45),e&2){let n=r.$implicit,a=r.$index;y("product",n)("isPriority",a<8)}}function U(e,r){if(e&1&&(i(0,"div",46),d(1,"pagination",47),t()),e&2){let n=p(2);l(),y("pages",n.productsRs.value().pages)("currentPage",n.paginationService.currentPage())}}function W(e,r){if(e&1&&(i(0,"div",44),R(1,Q,1,2,"product-card",45,$),t(),s(3,U,2,2,"div",46)),e&2){let n=p();l(),B(n.productsRs.value().data),l(2),u(n.paginationData()?3:-1)}}var v=class e{route=g(D);categoryService=g(L);productService=g(N);paginationService=g(I);currentCategory=w(null);productsRs=T({stream:()=>h([this.route.params.pipe(m(({categorySlug:r})=>r)),this.route.queryParams.pipe(m(r=>+r._page||1))]).pipe(x(([r,n])=>this.categoryService.getDataBySlug(r).pipe(P(a=>{this.currentCategory.set(a.data?.[0]||null)}),x(a=>{let c=a.data?.[0]?.id;return c?this.productService.getData({category_id:c,_page:n}):_({first:1,prev:null,next:null,last:1,pages:1,items:0,data:[]})}))))});paginationData=M(()=>{let r=this.productsRs.value();if(!r)return null;let c=r,{data:n}=c;return C(c,["data"])});static \u0275fac=function(n){return new(n||e)};static \u0275cmp=k({type:e,selectors:[["products-by-category-page"]],decls:66,vars:4,consts:[[1,"relative","bg-gray-900","text-white","py-12","mb-8","overflow-hidden"],[1,"absolute","inset-0","opacity-20","bg-linear-to-r","from-blue-900","to-indigo-900"],[1,"absolute","top-0","right-0","-mr-20","-mt-20","w-64","h-64","rounded-full","bg-blue-500","opacity-10","blur-3xl"],[1,"absolute","bottom-0","left-0","-ml-20","-mb-20","w-64","h-64","rounded-full","bg-indigo-500","opacity-10","blur-3xl"],[1,"relative","container","mx-auto","px-4"],[1,"max-w-3xl"],[1,"text-sm","breadcrumbs","text-gray-300","mb-4"],["routerLink","/"],["routerLink","/products"],[1,"font-semibold","text-white"],[1,"container","mx-auto","px-4","pb-16"],[1,"flex","flex-col","lg:flex-row","gap-8"],[1,"hidden","lg:block","w-64","shrink-0"],[1,"sticky","top-24","space-y-8"],[1,"bg-white","rounded-xl","shadow-sm","border","border-gray-100","p-6"],[1,"font-bold","text-gray-900","mb-4","text-lg"],[1,"space-y-2"],["routerLink","/products/category/celulares","routerLinkActive","text-blue-600 font-semibold bg-blue-50",1,"block","px-3","py-2","rounded-lg","text-gray-600","hover:bg-gray-50","hover:text-blue-600","transition-colors"],["routerLink","/products/category/repuestos","routerLinkActive","text-blue-600 font-semibold bg-blue-50",1,"block","px-3","py-2","rounded-lg","text-gray-600","hover:bg-gray-50","hover:text-blue-600","transition-colors"],["routerLink","/products/category/accesorios","routerLinkActive","text-blue-600 font-semibold bg-blue-50",1,"block","px-3","py-2","rounded-lg","text-gray-600","hover:bg-gray-50","hover:text-blue-600","transition-colors"],["routerLink","/products/category/herramientas","routerLinkActive","text-blue-600 font-semibold bg-blue-50",1,"block","px-3","py-2","rounded-lg","text-gray-600","hover:bg-gray-50","hover:text-blue-600","transition-colors"],[1,"space-y-4"],[1,"flex","items-center","gap-2"],["type","number","placeholder","Min",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","text-sm","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","outline-none"],[1,"text-gray-400"],["type","number","placeholder","Max",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","text-sm","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","outline-none"],[1,"w-full","btn","btn-outline","btn-sm","btn-primary"],[1,"flex-1"],[1,"flex","flex-wrap","items-center","justify-between","mb-6","bg-white","p-4","rounded-xl","shadow-sm","border","border-gray-100"],[1,"text-gray-600"],[1,"flex","items-center","gap-4"],[1,"select","select-bordered","select-sm","w-full","max-w-xs"],["disabled","","selected",""],[1,"text-center","py-16","bg-white","rounded-xl","border","border-gray-100"],[1,"text-4xl","md:text-5xl","font-bold","mb-4","tracking-tight"],[1,"text-lg","text-gray-300","max-w-2xl","leading-relaxed"],[1,"h-10","w-64","bg-gray-700","rounded","animate-pulse","mb-4"],[1,"h-6","w-96","bg-gray-700","rounded","animate-pulse"],[1,"font-semibold","text-gray-900"],[1,"inline-flex","items-center","justify-center","w-16","h-16","rounded-full","bg-gray-100","mb-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"],[1,"text-lg","font-medium","text-gray-900","mb-1"],[1,"text-gray-500"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","gap-6"],[3,"product","isPriority"],[1,"mt-12","flex","justify-center"],[3,"pages","currentPage"]],template:function(n,a){n&1&&(i(0,"div",0),d(1,"div",1)(2,"div",2)(3,"div",3),i(4,"div",4)(5,"div",5)(6,"div",6)(7,"ul")(8,"li")(9,"a",7),o(10,"Inicio"),t()(),i(11,"li")(12,"a",8),o(13,"Productos"),t()(),s(14,F,2,1,"li",9),t()(),s(15,q,4,2)(16,G,2,0),t()()(),i(17,"div",10)(18,"div",11)(19,"aside",12)(20,"div",13)(21,"div",14)(22,"h3",15),o(23,"Categor\xEDas"),t(),i(24,"ul",16)(25,"li")(26,"a",17),o(27," Celulares "),t()(),i(28,"li")(29,"a",18),o(30," Repuestos "),t()(),i(31,"li")(32,"a",19),o(33," Accesorios "),t()(),i(34,"li")(35,"a",20),o(36," Herramientas "),t()()()(),i(37,"div",14)(38,"h3",15),o(39,"Precio"),t(),i(40,"div",21)(41,"div",22),d(42,"input",23),i(43,"span",24),o(44,"-"),t(),d(45,"input",25),t(),i(46,"button",26),o(47,"Aplicar"),t()()()()(),i(48,"main",27)(49,"div",28)(50,"div",29),s(51,O,4,1),t(),i(52,"div",30)(53,"select",31)(54,"option",32),o(55,"Ordenar por"),t(),i(56,"option"),o(57,"Precio: Menor a Mayor"),t(),i(58,"option"),o(59,"Precio: Mayor a Menor"),t(),i(60,"option"),o(61,"M\xE1s Recientes"),t()()()(),s(62,z,1,0,"is-loading")(63,J,8,0,"div",33)(64,K,1,0,"is-error")(65,W,4,1),t()()()),n&2&&(l(14),u(a.currentCategory()?14:-1),l(),u(a.currentCategory()?15:16),l(36),u(a.productsRs.hasValue()?51:-1),l(11),u(a.productsRs.isLoading()?62:!a.productsRs.hasValue()||a.productsRs.value().data.length===0?63:a.productsRs.error()?64:65))},dependencies:[j,H,V,A],encapsulation:2,changeDetection:0})},pe=v;export{v as ProductsByCategoryPage,pe as default};
