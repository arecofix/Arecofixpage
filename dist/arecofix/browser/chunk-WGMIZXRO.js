import{a as k}from"./chunk-FDEIW4RV.js";import"./chunk-KXBHGC7O.js";import{e as E}from"./chunk-SJUHAIWY.js";import"./chunk-2IHNZNBZ.js";import{o as I}from"./chunk-NGBKTTVY.js";import{Ca as f,Db as g,Fa as o,Fb as a,Gb as l,Hb as s,Ta as _,Tb as S,W as x,eb as p,fb as u,ib as y,jb as b,kb as v,lb as n,ma as c,mb as t,nb as d,xb as h}from"./chunk-CVZCBU36.js";import"./chunk-VOSPIT4N.js";var A=i=>["/admin/products",i],P=(i,r)=>r.id;function w(i,r){i&1&&(n(0,"tr")(1,"td",7),a(2,"Cargando..."),t()())}function T(i,r){i&1&&(n(0,"tr")(1,"td",7),a(2,"No hay productos registrados."),t()())}function F(i,r){i&1&&(n(0,"div",17),a(1," Stock Bajo "),t())}function N(i,r){if(i&1&&(n(0,"tr")(1,"td")(2,"div",8)(3,"div",9)(4,"div",10),d(5,"img",11),t()(),n(6,"div")(7,"div",12),a(8),t(),n(9,"div",13),a(10),t()()()(),n(11,"td")(12,"div",14),a(13),t(),n(14,"div",15),a(15),t()(),n(16,"td")(17,"div",16),a(18),t(),p(19,F,2,0,"div",17),t(),n(20,"td")(21,"span",18),a(22),t()(),n(23,"td")(24,"a",19),d(25,"i",20),t()()()),i&2){let e=r.$implicit;o(5),v("src",e.image_url||"assets/img/no-image.png",f),o(3),l(e.name),o(2),s("$",e.price),o(3),l(e.sku||"N/A"),o(2),l(e.barcode||"Sin c\xF3digo de barras"),o(2),g("text-error",e.stock<=(e.min_stock_alert||5))("text-success",e.stock>(e.min_stock_alert||5)),o(),s(" ",e.stock," "),o(),u(e.stock<=(e.min_stock_alert||5)?19:-1),o(2),g("badge-success",e.is_active)("badge-ghost",!e.is_active),o(),s(" ",e.is_active?"Activo":"Inactivo"," "),o(2),v("routerLink",S(17,A,e.id))}}function D(i,r){if(i&1&&y(0,N,26,19,"tr",null,P),i&2){let e=h();b(e.products())}}var C=class i{auth=x(k);products=c([]);loading=c(!0);async ngOnInit(){await this.loadInventory()}async loadInventory(){this.loading.set(!0);let r=this.auth.getSupabaseClient(),{data:e,error:m}=await r.from("products").select("*").order("stock",{ascending:!0});e&&this.products.set(e),this.loading.set(!1)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=_({type:i,selectors:[["app-admin-inventory-page"]],decls:25,vars:1,consts:[[1,"flex","justify-between","items-center","mb-6"],[1,"text-2xl","font-bold","text-gray-800"],["routerLink","/admin/purchases/new",1,"btn","btn-primary"],[1,"fas","fa-plus","mr-2"],[1,"bg-white","rounded-lg","shadow","overflow-hidden"],[1,"overflow-x-auto"],[1,"table","w-full"],["colspan","5",1,"text-center","py-4"],[1,"flex","items-center","gap-3"],[1,"avatar"],[1,"mask","mask-squircle","w-12","h-12"],["alt","Product",3,"src"],[1,"font-bold"],[1,"text-sm","opacity-50"],[1,"text-sm"],[1,"text-xs","text-gray-400"],[1,"font-bold","text-lg"],[1,"badge","badge-error","badge-xs"],[1,"badge"],[1,"btn","btn-sm","btn-ghost",3,"routerLink"],[1,"fas","fa-edit"]],template:function(e,m){e&1&&(n(0,"div",0)(1,"h1",1),a(2,"Inventario"),t(),n(3,"a",2),d(4,"i",3),a(5," Registrar Compra "),t()(),n(6,"div",4)(7,"div",5)(8,"table",6)(9,"thead")(10,"tr")(11,"th"),a(12,"Producto"),t(),n(13,"th"),a(14,"SKU / C\xF3digo"),t(),n(15,"th"),a(16,"Stock Actual"),t(),n(17,"th"),a(18,"Estado"),t(),n(19,"th"),a(20,"Acciones"),t()()(),n(21,"tbody"),p(22,w,3,0,"tr")(23,T,3,0,"tr")(24,D,2,0),t()()()()),e&2&&(o(22),u(m.loading()?22:m.products().length===0?23:24))},dependencies:[I,E],encapsulation:2})};export{C as AdminInventoryPage};
