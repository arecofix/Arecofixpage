import{a as H}from"./chunk-YQ4DQ6CO.js";import"./chunk-FNOMVEKC.js";import{a as R}from"./chunk-MMCELV5H.js";import"./chunk-BEDAP6MF.js";import{a as X}from"./chunk-5JA7GBMC.js";import{a as K}from"./chunk-4OFO2AFZ.js";import"./chunk-H4TJPEID.js";import"./chunk-MQUL3GSM.js";import"./chunk-SY4JJUGQ.js";import{b as W,d as $,g as G,s as J}from"./chunk-T33GMKOB.js";import"./chunk-FLAEXP3O.js";import"./chunk-T7ROU62R.js";import{A,i as B,l as U,z}from"./chunk-T7HZBI4H.js";import{$ as g,$b as j,Ab as i,Bb as s,C as I,Hb as v,L as T,Lb as u,Nb as m,Oa as Q,R as D,Ta as c,Vb as l,W as p,Xb as C,Zb as q,_b as N,aa as _,fb as M,hc as O,l as k,lc as F,ma as f,nc as L,p as S,r as V,sb as x,tb as b,wb as y,x as E,xb as w,yb as P,zb as n}from"./chunk-NLTFPZ75.js";import"./chunk-7CGTOI24.js";var h=class t{categoryService=p(R);productService=p(K);execute(r,e=4){return this.categoryService.getDataBySlug(r).pipe(T(a=>{let o=a.data?.[0];return o?.id?this.productService.getData({category_id:o.id,_per_page:e}).pipe(V(d=>d.data||[])):k([])}),I(a=>(console.error(`Error fetching products for category ${r}`,a),k([]))))}static \u0275fac=function(e){return new(e||t)};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})};var te=t=>["/productos/detalle",t],Z=(t,r)=>r.id;function ie(t,r){t&1&&(n(0,"div",11),s(1,"span",13),i())}function ne(t,r){if(t&1){let e=v();n(0,"product-card",24),u("quickView",function(o){g(e);let d=m(3);return _(d.openQuickView(o))}),i()}if(t&2){let e=r.$implicit;P("product",e)}}function re(t,r){if(t&1&&(n(0,"div",19),y(1,ne,1,1,"product-card",23,Z),i()),t&2){let e=m(2);c(),w(e.celulares())}}function oe(t,r){t&1&&(n(0,"div",20),s(1,"i",25),n(2,"span"),l(3,"No hay celulares disponibles por el momento."),i()())}function ae(t,r){if(t&1){let e=v();n(0,"product-card",24),u("quickView",function(o){g(e);let d=m(3);return _(d.openQuickView(o))}),i()}if(t&2){let e=r.$implicit;P("product",e)}}function le(t,r){if(t&1&&(n(0,"div",19),y(1,ae,1,1,"product-card",23,Z),i()),t&2){let e=m(2);c(),w(e.repuestos())}}function ce(t,r){t&1&&(n(0,"div",20),s(1,"i",25),n(2,"span"),l(3,"No hay repuestos disponibles por el momento."),i()())}function se(t,r){if(t&1&&(n(0,"section",14)(1,"div",15)(2,"h2",16),l(3,"Celulares"),i(),n(4,"a",17),l(5,"Ver todos "),s(6,"i",18),i()(),x(7,re,3,0,"div",19)(8,oe,4,0,"div",20),i(),n(9,"section")(10,"div",15)(11,"h2",21),l(12,"Repuestos"),i(),n(13,"a",22),l(14,"Ver todos "),s(15,"i",18),i()(),x(16,le,3,0,"div",19)(17,ce,4,0,"div",20),i()),t&2){let e=m();c(7),b(e.celulares().length>0?7:8),c(9),b(e.repuestos().length>0?16:17)}}function de(t,r){t&1&&(n(0,"span",38),s(1,"i",45),l(2," En Stock "),i())}function ue(t,r){t&1&&(n(0,"span",39),s(1,"i",29),l(2," Agotado "),i())}function me(t,r){if(t&1){let e=v();n(0,"div",26),u("click",function(){g(e);let o=m();return _(o.closeQuickView())}),n(1,"div",27),u("click",function(o){return g(e),_(o.stopPropagation())}),n(2,"button",28),u("click",function(){g(e);let o=m();return _(o.closeQuickView())}),s(3,"i",29),i(),n(4,"div",30)(5,"div",31),s(6,"img",32),i(),n(7,"div",33)(8,"span",34),l(9," Producto "),i(),n(10,"h2",35),l(11),i(),n(12,"div",36)(13,"span",37),l(14),F(15,"number"),i(),x(16,de,3,0,"span",38)(17,ue,3,0,"span",39),i(),n(18,"p",40),l(19),i(),n(20,"div",41)(21,"button",42),s(22,"i",43),l(23," Agregar al Carrito "),i(),n(24,"a",44),u("click",function(){g(e);let o=m();return _(o.closeQuickView())}),l(25," Ver Detalles "),i()()()()()()}if(t&2){let e=r;c(6),P("src",e.image_url||"assets/img/no-image.png",Q)("alt",e.name),c(5),C(" ",e.name," "),c(3),C(" $",L(15,7,e.price,"1.0-0")," "),c(2),b((e.stock??0)>0?16:17),c(3),C(" ",e.description," "),c(5),P("routerLink",O(10,te,e.slug))}}var Y=class t{getProductsUseCase=p(h);seoService=p(H);router=p(z);celulares=f([]);repuestos=f([]);loading=f(!0);searchQuery="";quickViewProduct=f(null);isQuickViewOpen=f(!1);ngOnInit(){this.setSeoData(),this.loadData()}setSeoData(){this.seoService.setPageData("Productos - Celulares y Repuestos","Explora nuestra selecci\xF3n de celulares nuevos y usados, y encuentra los repuestos que necesitas en Arecofix.","assets/img/brands/logo/logo-normal1.PNG")}async loadData(){try{let[r,e]=await S(E([this.getProductsUseCase.execute("celulares"),this.getProductsUseCase.execute("repuestos")]));this.celulares.set(r),this.repuestos.set(e)}catch(r){console.error("Error loading products",r)}finally{this.loading.set(!1)}}onSearch(){this.searchQuery.trim()&&this.router.navigate(["/products/all"],{queryParams:{q:this.searchQuery}})}openQuickView(r){this.quickViewProduct.set(r),this.isQuickViewOpen.set(!0)}closeQuickView(){this.isQuickViewOpen.set(!1),this.quickViewProduct.set(null)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=M({type:t,selectors:[["app-products-index-page"]],decls:16,vars:3,consts:[[1,"min-h-screen","bg-base-100","py-10","px-4"],[1,"max-w-7xl","mx-auto"],[1,"flex","flex-col","md:flex-row","justify-center","items-center","gap-4","mb-4"],[1,"text-4xl","font-bold","text-center"],["routerLink","/productos",1,"btn","btn-primary","btn-outline","btn-sm"],[1,"fas","fa-list","ml-1"],[1,"flex","justify-center","mb-12"],[1,"relative","w-full","max-w-md"],["type","text","placeholder","Buscar producto...",1,"input","input-bordered","w-full","pl-10","shadow-lg",3,"ngModelChange","keyup.enter","ngModel"],[1,"absolute","right-2","top-1/2","-translate-y-1/2","btn","btn-ghost","btn-sm","btn-circle",3,"click"],[1,"fas","fa-search","text-base-content/50"],[1,"flex","justify-center","p-10"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","p-4","bg-black/50","backdrop-blur-sm"],[1,"loading","loading-spinner","loading-lg"],[1,"mb-16"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-2xl","font-bold","border-l-4","border-primary","pl-4"],["routerLink","/productos/categoria/celulares",1,"btn","btn-sm","btn-ghost"],[1,"fas","fa-arrow-right","ml-1"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-4","gap-6"],[1,"alert","alert-info"],[1,"text-2xl","font-bold","border-l-4","border-secondary","pl-4"],["routerLink","/productos/categoria/repuestos",1,"btn","btn-sm","btn-ghost"],[3,"product"],[3,"quickView","product"],[1,"fas","fa-info-circle"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","p-4","bg-black/50","backdrop-blur-sm",3,"click"],[1,"bg-white","dark:bg-gray-800","rounded-2xl","shadow-2xl","max-w-4xl","w-full","max-h-[90vh]","overflow-y-auto","relative","animate-fade-in-up",3,"click"],[1,"absolute","top-4","right-4","btn","btn-circle","btn-sm","btn-ghost","z-10",3,"click"],[1,"fas","fa-times"],[1,"grid","grid-cols-1","md:grid-cols-2"],[1,"bg-gray-50","dark:bg-gray-700","p-8","flex","items-center","justify-center"],[1,"max-h-96","object-contain",3,"src","alt"],[1,"p-8","flex","flex-col","h-full"],[1,"text-sm","text-indigo-600","font-bold","uppercase","tracking-wider","mb-2"],[1,"text-3xl","font-bold","text-gray-900","dark:text-white","mb-4"],[1,"flex","items-center","gap-4","mb-6"],[1,"text-3xl","font-bold","text-gray-900","dark:text-white"],[1,"badge","badge-success","gap-2"],[1,"badge","badge-error","gap-2"],[1,"text-gray-600","dark:text-gray-300","text-lg","mb-8","leading-relaxed"],[1,"mt-auto","flex","gap-4"],[1,"btn","btn-primary","flex-1"],[1,"fas","fa-shopping-cart","mr-2"],[1,"btn","btn-outline","flex-1",3,"click","routerLink"],[1,"fas","fa-check"]],template:function(e,a){if(e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),l(4,"Nuestros Productos"),i(),n(5,"a",4),l(6," Ver Cat\xE1logo Completo "),s(7,"i",5),i()(),n(8,"div",6)(9,"div",7)(10,"input",8),j("ngModelChange",function(d){return N(a.searchQuery,d)||(a.searchQuery=d),d}),u("keyup.enter",function(){return a.onSearch()}),i(),n(11,"button",9),u("click",function(){return a.onSearch()}),s(12,"i",10),i()()(),x(13,ie,2,0,"div",11)(14,se,18,2),i(),x(15,me,26,12,"div",12),i()),e&2){let o;c(10),q("ngModel",a.searchQuery),c(3),b(a.loading()?13:14),c(2),b((o=a.isQuickViewOpen()&&a.quickViewProduct())?15:-1,o)}},dependencies:[U,A,X,J,W,$,G,B],encapsulation:2})};export{Y as ProductsIndexPage};
