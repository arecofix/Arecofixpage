{
  "version": 3,
  "sources": ["src/app/admin/services/admin-services-page.ts", "src/app/admin/services/admin-services-page.html"],
  "sourcesContent": ["import { Component, inject, OnInit, signal } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterLink } from '@angular/router';\r\nimport { AuthService } from '@app/core/services/auth.service';\r\n\r\n@Component({\r\n  selector: 'app-admin-services-page',\r\n  standalone: true,\r\n  imports: [CommonModule, RouterLink],\r\n  templateUrl: './admin-services-page.html',\r\n})\r\nexport class AdminServicesPage implements OnInit {\r\n  private auth = inject(AuthService);\r\n  services = signal<any[]>([]);\r\n  loading = signal(true);\r\n\r\n  async ngOnInit() {\r\n    await this.loadServices();\r\n  }\r\n\r\n  async loadServices() {\r\n    this.loading.set(true);\r\n    const supabase = this.auth.getSupabaseClient();\r\n    const { data, error } = await supabase\r\n      .from('services')\r\n      .select('*')\r\n      .order('created_at', { ascending: false });\r\n\r\n    if (data) {\r\n      this.services.set(data);\r\n    }\r\n    this.loading.set(false);\r\n  }\r\n\r\n  async deleteService(id: string) {\r\n    if (!confirm('¿Estás seguro de eliminar este servicio?')) return;\r\n\r\n    const supabase = this.auth.getSupabaseClient();\r\n    const { error } = await supabase.from('services').delete().eq('id', id);\r\n\r\n    if (!error) {\r\n      await this.loadServices();\r\n    } else {\r\n      alert('Error al eliminar el servicio');\r\n    }\r\n  }\r\n}\r\n", "<div class=\"flex justify-between items-center mb-6\">\r\n    <h1 class=\"text-2xl font-bold text-green-600\">Servicios</h1>\r\n    <a routerLink=\"/admin/services/new\" class=\"btn btn-primary\">\r\n        <i class=\"fas fa-plus mr-2\"></i> Nuevo Servicio\r\n    </a>\r\n</div>\r\n\r\n<div class=\"bg-base-100 rounded-lg shadow overflow-hidden text-base-content\">\r\n    <div class=\"overflow-x-auto\">\r\n        <table class=\"table w-full\">\r\n            <thead>\r\n                <tr class=\"text-base-content\">\r\n                    <th>Nombre</th>\r\n                    <th>Descripción</th>\r\n                    <th>Precio</th>\r\n                    <th>Duración</th>\r\n                    <th>Estado</th>\r\n                    <th>Acciones</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                @if (loading()) {\r\n                <tr>\r\n                    <td colspan=\"6\" class=\"text-center py-4\">Cargando...</td>\r\n                </tr>\r\n                } @else if (services().length === 0) {\r\n                <tr>\r\n                    <td colspan=\"6\" class=\"text-center py-4\">No hay servicios registrados.</td>\r\n                </tr>\r\n                } @else {\r\n                @for (service of services(); track service.id) {\r\n                <tr>\r\n                    <td class=\"font-bold\">{{ service.name }}</td>\r\n                    <td class=\"max-w-xs truncate\">{{ service.description || 'Sin descripción' }}</td>\r\n                    <td>{{ service.price | currency }}</td>\r\n                    <td>{{ service.duration_minutes ? service.duration_minutes + ' min' : 'N/A' }}</td>\r\n                    <td>\r\n                        <div class=\"badge\" [class.badge-success]=\"service.is_active\"\r\n                            [class.badge-error]=\"!service.is_active\">\r\n                            {{ service.is_active ? 'Activo' : 'Inactivo' }}\r\n                        </div>\r\n                    </td>\r\n                    <td>\r\n                        <div class=\"flex gap-2\">\r\n                            <a [routerLink]=\"['/admin/services', service.id]\" class=\"btn btn-sm btn-ghost\">\r\n                                <i class=\"fas fa-edit\"></i>\r\n                            </a>\r\n                            <button class=\"btn btn-sm btn-ghost text-error\" (click)=\"deleteService(service.id)\">\r\n                                <i class=\"fas fa-trash\"></i>\r\n                            </button>\r\n                        </div>\r\n                    </td>\r\n                </tr>\r\n                }\r\n                }\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n</div>"],
  "mappings": "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",
  "names": []
}
