import{a as c}from"./chunk-MI7WHUK7.js";import{T as i,Y as n}from"./chunk-YATSW66L.js";import{a,b as s}from"./chunk-VOSPIT4N.js";var m=class o{auth=n(c);supabase=this.auth.getSupabaseClient();async getPostBySlug(t){let{data:e,error:r}=await this.supabase.from("blog_posts").select("*").eq("slug",t).maybeSingle();if(r)throw console.error("PostService Error:",r),r;return e?this.mapToEntity(e):null}async getRecentPosts(t=5){let{data:e,error:r}=await this.supabase.from("blog_posts").select("*").order("created_at",{ascending:!1}).limit(t);if(r)throw r;return(e||[]).map(l=>this.mapToEntity(l))}mapToEntity(t){return s(a({},t),{image:t.featured_image||t.image||t.image_url||null})}static \u0275fac=function(e){return new(e||o)};static \u0275prov=i({token:o,factory:o.\u0275fac,providedIn:"root"})};export{m as a};
