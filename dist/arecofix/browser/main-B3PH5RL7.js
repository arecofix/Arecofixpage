import{a as be}from"./chunk-FBYEXMDY.js";import{a as B,b as er,c as tr}from"./chunk-XJ33YQIT.js";import{a as rr}from"./chunk-AWQLWEOW.js";import{a as Qt}from"./chunk-ZW5YXDBP.js";import{a as Xt}from"./chunk-6KLMDNRR.js";import{a as Zt}from"./chunk-YQ4DQ6CO.js";import{a as j}from"./chunk-BEDAP6MF.js";import{a as ge}from"./chunk-MQUL3GSM.js";import{a as Jt}from"./chunk-SY4JJUGQ.js";import{a as M}from"./chunk-FLAEXP3O.js";import{a as ne}from"./chunk-T7ROU62R.js";import{C as Gt,D as Kt,c as Bt,l as Lt,o as Ht,p as zt,r as Yt,s as Wt,y as Vt}from"./chunk-T7HZBI4H.js";import{$ as St,Ab as U,Bb as z,C as re,Cb as he,Db as Ge,Eb as At,Hb as It,Ib as $t,Lb as Ft,Nb as Ut,Oa as Rt,R as N,Ta as F,Vb as Y,W as k,Wb as qt,aa as Et,ba as Tt,ca as Nt,fb as K,ja as Pt,jc as Ke,k as w,l as Ct,la as Dt,r as x,ra as fe,sb as Ye,sc as jt,tb as We,wb as Ot,xb as Mt,yb as Ve,zb as O}from"./chunk-NLTFPZ75.js";import{a as v,b as T,c as kt}from"./chunk-7CGTOI24.js";var nr=[{title:"Home",path:"",loadChildren:()=>import("./chunk-IPPSPIEQ.js")},{title:"Admin",path:"admin",loadChildren:()=>import("./chunk-ONAVPUPU.js")},{path:"**",redirectTo:""}];var A=class extends Error{constructor(r,n,o=500,a){super(r);this.code=n;this.statusCode=o;this.details=a;this.name=this.constructor.name,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},ye=class extends A{constructor(e,r){super(e,"VALIDATION_ERROR",400,r)}},ve=class extends A{constructor(e="Authentication failed",r){super(e,"AUTHENTICATION_ERROR",401,r)}},we=class extends A{constructor(e="Access denied",r){super(e,"AUTHORIZATION_ERROR",403,r)}},xe=class extends A{constructor(e,r){let n=r?`${e} with identifier '${r}' not found`:`${e} not found`;super(n,"NOT_FOUND",404)}},P=class extends A{constructor(e,r){super(e,"DATABASE_ERROR",500,r)}},_e=class extends A{constructor(e="Network request failed",r){super(e,"NETWORK_ERROR",503,r)}};var ke=class t{logger=k(M);notification=k(Qt);handleError(e){this.logger.error("Unhandled error occurred",e),e instanceof zt?this.handleHttpError(e):e instanceof A?this.handleApplicationError(e):this.handleUnknownError(e)}handleHttpError(e){let r;switch(e.status){case 0:r="No se pudo conectar al servidor. Verifica tu conexi\xF3n a internet.";break;case 400:r="Solicitud inv\xE1lida. Por favor verifica los datos ingresados.";break;case 401:r="Sesi\xF3n expirada. Por favor inicia sesi\xF3n nuevamente.";break;case 403:r="No tienes permisos para realizar esta acci\xF3n.";break;case 404:r="El recurso solicitado no fue encontrado.";break;case 500:r="Error del servidor. Por favor intenta nuevamente m\xE1s tarde.";break;case 503:r="Servicio no disponible. Por favor intenta m\xE1s tarde.";break;default:r=`Error inesperado (${e.status}). Por favor intenta nuevamente.`}this.notification.showError(r)}handleApplicationError(e){let r;e instanceof ye?r=e.message||"Los datos ingresados no son v\xE1lidos.":e instanceof ve?r="Error de autenticaci\xF3n. Por favor inicia sesi\xF3n nuevamente.":e instanceof we?r="No tienes permisos para realizar esta acci\xF3n.":e instanceof xe?r=e.message:e instanceof P?r="Error al acceder a la base de datos. Por favor intenta nuevamente.":e instanceof _e?r="Error de conexi\xF3n. Verifica tu internet e intenta nuevamente.":r=e.message||"Ocurri\xF3 un error inesperado.",this.notification.showError(r)}handleUnknownError(e){this.notification.showError("Ocurri\xF3 un error inesperado. Por favor intenta nuevamente.")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=N({token:t,factory:t.\u0275fac})};var Ce=class t extends ge{authService=k(j);logger=k(M);supabase=this.authService.getSupabaseClient();findWithFilters(e={}){let{_page:r=1,_per_page:n=10,category_id:o,brand_id:a,description:i,featured:c,id:d,name:u,price:s,slug:m,min_price:p,max_price:f}=e,b=(r-1)*n,y=b+n-1,l=this.supabase.from("products").select("id, name, slug, description, price, currency, image_url, gallery_urls, category_id, brand_id, stock, is_active, is_featured, sku, barcode, created_at, updated_at",{count:"exact"}).eq("is_active",!0);return e.category_ids&&e.category_ids.length>0?l=l.in("category_id",e.category_ids):o!=null&&(l=l.eq("category_id",o)),a&&(l=l.eq("brand_id",a)),i&&(l=l.ilike("description",`%${i}%`)),c!=null&&(l=l.eq("is_featured",c)),d&&(l=l.eq("id",d)),u&&(l=l.ilike("name",`%${u}%`)),s&&(l=l.eq("price",s)),m&&(l=l.eq("slug",m)),p!==void 0&&(l=l.gte("price",p)),f!==void 0&&(l=l.lte("price",f)),e.q&&(l=l.or(`name.ilike.%${e.q}%,description.ilike.%${e.q}%`)),e._sort?l=l.order(e._sort,{ascending:e._order==="asc"}):l=l.order("created_at",{ascending:!1}),l=l.range(b,y),w(l).pipe(x(({data:g,count:E,error:V})=>{if(V)throw V;let de=E||0,ee=Math.max(1,Math.ceil(de/n)),He=(g||[]).map(ue=>this._mapToEntity(ue));return{first:1,prev:r>1?r-1:void 0,next:r<ee?r+1:void 0,last:ee,pages:ee,items:de,data:He}}),re(g=>(this.logger.error("Supabase product query error",g),Ct({first:1,prev:void 0,next:void 0,last:1,pages:1,items:0,data:[]}))))}findLowStock(e=5){return w(this.supabase.from("products").select("id, name, slug, description, price, currency, image_url, gallery_urls, category_id, brand_id, stock, is_active, is_featured, sku, barcode, created_at, updated_at").lt("stock",e)).pipe(x(({data:r,error:n})=>{if(n)throw n;return(r||[]).map(o=>this._mapToEntity(o))}))}findAvailable(){return w(this.supabase.from("products").select("id, name, slug, description, price, currency, image_url, gallery_urls, category_id, brand_id, stock, is_active, is_featured, sku, barcode, created_at, updated_at").gt("stock",0).eq("is_active",!0)).pipe(x(({data:e,error:r})=>{if(r)throw r;return(e||[]).map(n=>this._mapToEntity(n))}))}getAll(){return w(this.supabase.from("products").select("id, name, slug, description, price, currency, image_url, gallery_urls, category_id, brand_id, stock, is_active, is_featured, sku, barcode, created_at, updated_at").order("created_at",{ascending:!1})).pipe(x(({data:e,error:r})=>{if(r)throw r;return(e||[]).map(n=>this._mapToEntity(n))}))}getById(e){return w(this.supabase.from("products").select("id, name, slug, description, price, currency, image_url, gallery_urls, category_id, brand_id, stock, is_active, is_featured, sku, barcode, created_at, updated_at").eq("id",e).single()).pipe(x(({data:r,error:n})=>{if(n)throw n;return this._mapToEntity(r)}))}create(e){let r=T(v({},e),{created_at:new Date().toISOString(),updated_at:new Date().toISOString()});return w(this.supabase.from("products").insert(r).select("id, name, slug, description, price, currency, image_url, gallery_urls, category_id, brand_id, stock, is_active, is_featured, sku, barcode, created_at, updated_at").single()).pipe(x(({data:n,error:o})=>{if(o)throw this.logger.error("Error creating product",o),o;return this._mapToEntity(n)}),re(n=>{throw this.logger.error("Failed to create product",n),n}))}update(e,r){let n=T(v({},r),{updated_at:new Date().toISOString()});return w(this.supabase.from("products").update(n).eq("id",e).select("id, name, slug, description, price, currency, image_url, gallery_urls, category_id, brand_id, stock, is_active, is_featured, sku, barcode, created_at, updated_at").single()).pipe(x(({data:o,error:a})=>{if(a)throw this.logger.error("Error updating product",a),a;return this._mapToEntity(o)}),re(o=>{throw this.logger.error("Failed to update product",o),o}))}delete(e){return w(this.supabase.from("products").delete().eq("id",e)).pipe(x(({error:r})=>{if(r)throw this.logger.error("Error deleting product",r),r}),re(r=>{throw this.logger.error("Failed to delete product",r),r}))}_mapToEntity(e){let r=!!(e.featured??e.is_featured??!1);return{id:e.id,name:e.name,slug:e.slug,description:e.description,price:Number(e.price),image_url:e.image_url,gallery_urls:e.gallery_urls||(e.image_url?[e.image_url]:[]),category_id:e.category_id,brand_id:e.brand_id,stock:Number(e.stock),is_active:!!e.is_active,is_featured:r,featured:r,sku:e.sku||"",barcode:e.barcode||"",currency:e.currency||"ARS",condition:e.condition,warranty:e.warranty,min_stock_alert:e.min_stock_alert?Number(e.min_stock_alert):void 0,created_at:e.created_at,updated_at:e.updated_at}}static \u0275fac=(()=>{let e;return function(n){return(e||(e=fe(t)))(n||t)}})();static \u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})};var J=class{constructor(e,r){this.supabase=e;this.logger=r}getAll(e){let r=this.supabase.from(this.tableName).select("*");return e&&(r=r.order(e.column,{ascending:e.ascending??!0})),w(r).pipe(x(({data:n,error:o})=>{if(o)throw this.logger.error(`Error fetching all ${this.tableName}`,o),new P(o.message,o);return n||[]}))}getById(e){return w(this.supabase.from(this.tableName).select("*").eq("id",e).single()).pipe(x(({data:r,error:n})=>{if(n)throw n.code==="PGRST116"?new Error("Not found"):(this.logger.error(`Error fetching ${this.tableName} by ID`,n),new P(n.message,n));return r}))}create(e){return w(this.supabase.from(this.tableName).insert(e).select().single()).pipe(x(({data:r,error:n})=>{if(n)throw this.logger.error(`Error creating ${this.tableName}`,n),new P(n.message,n);return r}))}update(e,r){return w(this.supabase.from(this.tableName).update(r).eq("id",e).select().single()).pipe(x(({data:n,error:o})=>{if(o)throw this.logger.error(`Error updating ${this.tableName}`,o),new P(o.message,o);return n}))}delete(e){return w(this.supabase.from(this.tableName).delete().eq("id",e)).pipe(x(({error:r})=>{if(r)throw this.logger.error(`Error deleting ${this.tableName}`,r),new P(r.message,r)}))}getWhere(e,r,n){let o=this.supabase.from(this.tableName).select("*").eq(e,r);return n&&(o=o.order(n.column,{ascending:n.ascending??!0})),w(o).pipe(x(({data:a,error:i})=>{if(i)throw this.logger.error(`Error fetching ${this.tableName} with filter`,i),new P(i.message,i);return a||[]}))}count(){return w(this.supabase.from(this.tableName).select("*",{count:"exact",head:!0})).pipe(x(({count:e,error:r})=>{if(r)throw this.logger.error(`Error counting ${this.tableName}`,r),new P(r.message,r);return e||0}))}};var Se=class t extends J{tableName="categories";constructor(){let e=k(j),r=k(M);super(e.getSupabaseClient(),r)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})};var Ee=class t extends J{tableName="brands";constructor(){let e=k(j),r=k(M);super(e.getSupabaseClient(),r)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})};var Te=class t extends be{auth=k(j);supabase=this.auth.getSupabaseClient();getById(e){return w(this.supabase.from("repairs").select("*").eq("id",e).single()).pipe(x(({data:r,error:n})=>{if(n)throw n;return r}))}getAll(e=50,r=0){return w(this.supabase.from("repairs").select("*").range(r,r+e-1).order("created_at",{ascending:!1})).pipe(x(({data:n,error:o})=>{if(o)throw o;return n||[]}))}create(e){return w(this.supabase.from("repairs").insert(e).select().single()).pipe(x(({data:r,error:n})=>{if(n)throw n;return r}))}update(e,r){return w(this.supabase.from("repairs").update(r).eq("id",e)).pipe(x(({error:n})=>{if(n)throw n}))}delete(e){return w(this.supabase.from("repairs").delete().eq("id",e)).pipe(x(({error:r})=>{if(r)throw r}))}getByTrackingCode(e){return w(this.supabase.from("repairs").select("*").eq("tracking_code",e).single()).pipe(x(({data:r,error:n})=>{if(n)throw n;return r}))}async uploadImage(e){let r=e.name.split(".").pop(),o=`${`${Math.random().toString(36).substring(2,15)}_${Date.now()}.${r}`}`,{error:a,data:i}=await this.supabase.storage.from("repair-images").upload(o,e);if(a)throw a;let{data:c}=this.supabase.storage.from("repair-images").getPublicUrl(o);return c.publicUrl}static \u0275fac=(()=>{let e;return function(n){return(e||(e=fe(t)))(n||t)}})();static \u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})};var or={providers:[{provide:Pt,useClass:ke},Dt(),jt(),Gt(nr,Kt({anchorScrolling:"enabled",scrollPositionRestoration:"enabled"})),Yt(Wt()),tr(er()),{provide:ge,useClass:Ce},{provide:rr,useClass:Se},{provide:Xt,useClass:Ee},{provide:be,useClass:Te}]};var Ne=class t{phoneNumber=ne.contact.whatsappNumber;defaultMessage="Hola, necesito informaci\xF3n";get encodedMessage(){return encodeURIComponent(this.defaultMessage)}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=K({type:t,selectors:[["app-whatsapp-button"]],inputs:{phoneNumber:"phoneNumber",defaultMessage:"defaultMessage"},decls:6,vars:1,consts:[[1,"whatsapp-btn-container"],["target","_blank","rel","noopener noreferrer","aria-label","Contactar por WhatsApp",1,"whatsapp-btn",3,"href"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24"],["d","M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"],[1,"tooltip"]],template:function(r,n){r&1&&(he(0,"div",0)(1,"a",1),Tt(),he(2,"svg",2),At(3,"path",3),Ge()(),Nt(),he(4,"span",4),Y(5,"\xA1Escr\xEDbenos!"),Ge()()),r&2&&(F(),$t("href","https://wa.me/"+n.phoneNumber+"?text="+n.encodedMessage,Rt))},styles:['.whatsapp-btn-container[_ngcontent-%COMP%]{position:fixed;bottom:25px;right:25px;z-index:99999;backface-visibility:hidden;transform:translateZ(0);font-family:sans-serif}.whatsapp-btn[_ngcontent-%COMP%]{width:60px;height:60px;background-color:#25d366;border-radius:50%;display:flex;align-items:center;justify-content:center;text-decoration:none;position:relative;transition:all .3s ease;box-shadow:0 4px 14px #00000026;z-index:2}.whatsapp-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:35px;height:35px;fill:#fff;position:relative;z-index:3}.whatsapp-btn[_ngcontent-%COMP%]:hover{background-color:#128c7e;transform:scale(1.05);box-shadow:0 8px 25px #128c7e80}.tooltip[_ngcontent-%COMP%]{visibility:hidden;opacity:0;width:160px;background-color:#075e54;color:#fff;text-align:center;border-radius:8px;padding:8px 10px;position:absolute;bottom:100%;right:0;margin-bottom:15px;font-size:14px;line-height:1.4;box-shadow:0 4px 12px #00000026;transform:translateY(10px);transition:all .3s ease;pointer-events:none}.tooltip[_ngcontent-%COMP%]:after{content:"";position:absolute;top:100%;right:25px;border-width:8px;border-style:solid;border-color:#075e54 transparent transparent transparent}.whatsapp-btn-container[_ngcontent-%COMP%]:hover   .tooltip[_ngcontent-%COMP%]{visibility:visible;opacity:1;transform:translateY(0)}']})};var Ur=(t,e,r)=>({"border-l-green-500":t,"border-l-red-500":e,"border-l-blue-500":r}),qr=(t,e,r)=>({"text-green-700 dark:text-green-400":t,"text-red-700 dark:text-red-400":e,"text-blue-700 dark:text-blue-400":r}),jr=(t,e)=>e.id;function Br(t,e){t&1&&(O(0,"div",5),z(1,"i",13),U())}function Lr(t,e){t&1&&(O(0,"div",6),z(1,"i",14),U())}function Hr(t,e){t&1&&(O(0,"div",7),z(1,"i",15),U())}function zr(t,e){t&1&&Y(0," Producto Agregado ")}function Yr(t,e){t&1&&Y(0," Error ")}function Wr(t,e){t&1&&Y(0," Aviso ")}function Vr(t,e){if(t&1){let r=It();O(0,"div",2),Ft("click",function(){let o=St(r).$implicit,a=Ut();return Et(a.onToastClick(o))}),O(1,"div",3)(2,"div",4),Ye(3,Br,2,0,"div",5)(4,Lr,2,0,"div",6)(5,Hr,2,0,"div",7),U(),O(6,"div",8)(7,"span",9),Ye(8,zr,1,0)(9,Yr,1,0)(10,Wr,1,0),U(),O(11,"span",10),Y(12),U()(),O(13,"button",11),z(14,"i",12),U()()()}if(t&2){let r=e.$implicit;F(),Ve("ngClass",Ke(5,Ur,r.type==="success",r.type==="error",r.type==="info")),F(2),We(r.type==="success"?3:r.type==="error"?4:5),F(4),Ve("ngClass",Ke(9,qr,r.type==="success",r.type==="error",r.type==="info")),F(),We(r.type==="success"?8:r.type==="error"?9:10),F(4),qt(r.message)}}var Pe=class t{toastService=k(Jt);onToastClick(e){e.action&&e.action(),this.toastService.remove(e.id)}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=K({type:t,selectors:[["app-toast"]],decls:3,vars:0,consts:[[1,"fixed","top-20","right-2","z-9999","flex","flex-col","gap-2","pointer-events-none","max-w-[85vw]","sm:max-w-sm","w-auto","items-end"],[1,"pointer-events-auto","transform","transition-all","duration-300","animate-slide-in-down","cursor-pointer"],[1,"pointer-events-auto","transform","transition-all","duration-300","animate-slide-in-down","cursor-pointer",3,"click"],[1,"flex","items-center","gap-2","px-3","py-2","rounded-lg","shadow-lg","border-l-4","overflow-hidden","bg-white","dark:bg-gray-900","border-gray-200","dark:border-gray-700","ring-1","ring-black/5",3,"ngClass"],[1,"shrink-0"],[1,"w-8","h-8","rounded-full","bg-green-100","dark:bg-green-900/30","flex","items-center","justify-center","text-green-600","dark:text-green-400"],[1,"w-8","h-8","rounded-full","bg-red-100","dark:bg-red-900/30","flex","items-center","justify-center","text-red-600","dark:text-red-400"],[1,"w-8","h-8","rounded-full","bg-blue-100","dark:bg-blue-900/30","flex","items-center","justify-center","text-blue-600","dark:text-blue-400"],[1,"flex","flex-col","flex-1","min-w-0"],[1,"font-bold","text-xs","uppercase","tracking-wider",3,"ngClass"],[1,"text-sm","font-medium","text-gray-800","dark:text-gray-100","leading-tight"],[1,"shrink-0","text-gray-400","hover:text-gray-600","dark:hover:text-gray-200","transition-colors"],[1,"fas","fa-times","text-sm"],[1,"fas","fa-check","text-sm"],[1,"fas","fa-exclamation","text-sm"],[1,"fas","fa-info","text-sm"]],template:function(r,n){r&1&&(O(0,"div",0),Ot(1,Vr,15,13,"div",1,jr),U()),r&2&&(F(),Mt(n.toastService.toasts()))},dependencies:[Lt,Bt],styles:["@keyframes _ngcontent-%COMP%_slideInDown{0%{transform:translateY(-20px);opacity:0}to{transform:translateY(0);opacity:1}}.animate-slide-in-down[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInDown .3s cubic-bezier(.175,.885,.32,1.275) forwards}"]})};var De=class t{constructor(){}identify(e,r={}){B.identify(e,r)}capture(e,r={}){B.capture(e,r)}reset(){B.reset()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})};var Re=class t{analytics=k(De);logger=k(M);seoService=k(Zt);ngOnInit(){this.logger.debug("Sending test event to PostHog..."),B.capture("app_initialized",{timestamp:new Date().toISOString(),message:"Angular app successfully initialized"}),this.logger.debug("Test event sent to PostHog")}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=K({type:t,selectors:[["app-root"]],decls:3,vars:0,template:function(r,n){r&1&&z(0,"router-outlet")(1,"app-whatsapp-button")(2,"app-toast")},dependencies:[Vt,Ne,Pe],encapsulation:2})};var tt=class{#e;#t=new Set;constructor(e){this.#e=e}get current(){return this.#e}set current(e){this.#e!=e&&(this.#e=e,this.#t.forEach(r=>r(e)))}on(e){return this.#t.add(e),()=>this.#t.delete(e)}},hr=t=>new tt(t),rt=Symbol.for("atomico.hooks");globalThis[rt]=globalThis[rt]||{};var Z=globalThis[rt],Gr=Symbol.for("Atomico.suspense"),gr=Symbol.for("Atomico.effect"),Kr=Symbol.for("Atomico.layoutEffect"),br=Symbol.for("Atomico.insertionEffect"),X=(t,e,r)=>{let{i:n,hooks:o}=Z.c,a=o[n]=o[n]||{};return a.value=t(a.value),a.effect=e,a.tag=r,Z.c.i++,o[n].value},yr=t=>X((e=hr(t))=>e),qe=()=>X((t=hr(Z.c.host))=>t),vr=()=>Z.c.update,Jr=(t,e,r=0)=>{let n={},o=!1,a=()=>o,i=(c,d)=>{for(let u in n){let s=n[u];s.effect&&s.tag===c&&(s.value=s.effect(s.value,d))}};return{load:c=>{Z.c={host:e,hooks:n,update:t,i:0,id:r};let d;try{o=!1,d=c()}catch(u){if(u!==Gr)throw u;o=!0}finally{Z.c=null}return d},cleanEffects:c=>(i(br,c),()=>(i(Kr,c),()=>{i(gr,c)})),isSuspense:a}},ce=Symbol.for;function wr(t,e){let r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++){let o=t[n],a=e[n];if(o!==a)return!1}return!0}var I=t=>typeof t=="function",oe=t=>typeof t=="object",{isArray:Zr}=Array,nt=(t,e)=>(e?t instanceof HTMLStyleElement:!0)&&"hydrate"in(t?.dataset||{});function xr(t,e){let r,n=o=>{let{length:a}=o;for(let i=0;i<a;i++){let c=o[i];if(c&&Array.isArray(c))n(c);else{let d=typeof c;if(c==null||d==="function"||d==="boolean")continue;d==="string"||d==="number"?(r==null&&(r=""),r+=c):(r!=null&&(e(r),r=null),e(c))}}};n(t),r!=null&&e(r)}var _r=(t,e,r)=>(t.addEventListener(e,r),()=>t.removeEventListener(e,r)),Me=class{constructor(e,r,n){this.message=r,this.target=e,this.value=n}},Ae=class extends Me{},ot=class extends Me{},Ie="Custom",Qr=null,Xr={true:1,"":1,1:1};function en(t,e,r,n,o){let{type:a,reflect:i,event:c,value:d,attr:u=tn(e)}=r?.name!=Ie&&oe(r)&&r!=Qr?r:{type:r},s=a?.name===Ie&&a.map,m=d!=null?a==Function||!I(d)?()=>d:d:null;Object.defineProperty(t,e,{configurable:!0,set(p){let f=this[e];m&&a!=Boolean&&p==null&&(p=m());let{error:b,value:y}=(s?on:an)(a,p);if(b&&y!=null)throw new Ae(this,`The value defined for prop '${e}' must be of type '${a.name}'`,y);f!=y&&(this._props[e]=y??void 0,this.update(),c&&kr(this,c),this.updated.then(()=>{i&&(this._ignoreAttr=u,rn(this,a,u,this[e]),this._ignoreAttr=null)}))},get(){return this._props[e]}}),m&&(o[e]=m()),n[u]={prop:e,type:a}}var kr=(t,o)=>{var a=o,{type:e,base:r=CustomEvent}=a,n=kt(a,["type","base"]);return t.dispatchEvent(new r(e,n))},tn=t=>t.replace(/([A-Z])/g,"-$1").toLowerCase(),rn=(t,e,r,n)=>n==null||e==Boolean&&!n?t.removeAttribute(r):t.setAttribute(r,e?.name===Ie&&e?.serialize?e?.serialize(n):oe(n)?JSON.stringify(n):e==Boolean?"":n),nn=(t,e)=>t==Boolean?!!Xr[e]:t==Number?Number(e):t==String?e:t==Array||t==Object?JSON.parse(e):t.name==Ie?e:new t(e),on=({map:t},e)=>{try{return{value:t(e),error:!1}}catch{return{value:e,error:!0}}},an=(t,e)=>t==null||e==null?{value:e,error:!1}:t!=String&&e===""?{value:void 0,error:!1}:t==Object||t==Array||t==Symbol?{value:e,error:{}.toString.call(e)!==`[object ${t.name}]`}:e instanceof t?{value:e,error:t==Number&&Number.isNaN(e.valueOf())}:t==String||t==Number||t==Boolean?{value:e,error:t==Number?typeof e!="number"?!0:Number.isNaN(e):t==String?typeof e!="string":typeof e!="boolean"}:{value:e,error:!0},sn=0,cn=t=>(t?.dataset||{})?.hydrate||""||"c"+sn++,W=(t,e=HTMLElement)=>{let r={},n={},o="prototype"in e&&e.prototype instanceof Element,a=o?e:"base"in e?e.base:HTMLElement,{props:i,styles:c}=o?t:e;class d extends a{constructor(){super(),this._setup(),this._render=()=>t(v({},this._props));for(let s in n)this[s]=n[s]}static get styles(){return[super.styles,c]}async _setup(){if(this._props)return;this._props={};let s,m;this.mounted=new Promise(l=>this.mount=()=>{l(),s!=this.parentNode&&(m!=s?this.unmounted.then(this.update):this.update()),s=this.parentNode}),this.unmounted=new Promise(l=>this.unmount=()=>{l(),(s!=this.parentNode||!this.isConnected)&&(p.cleanEffects(!0)()(),m=this.parentNode,s=null)}),this.symbolId=this.symbolId||Symbol(),this.symbolIdParent=Symbol();let p=Jr(()=>this.update(),this,cn(this)),f,b=!0,y=nt(this);this.update=()=>(f||(f=!0,this.updated=(this.updated||this.mounted).then(()=>{try{let l=p.load(this._render),g=p.cleanEffects();return l&&l.render(this,this.symbolId,y),f=!1,b&&!p.isSuspense()&&(b=!1,!y&&ln(this)),g()}finally{f=!1}}).then(l=>{l&&l()})),this.updated),this.update()}connectedCallback(){this.mount(),super.connectedCallback&&super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),this.unmount()}attributeChangedCallback(s,m,p){if(r[s]){if(s===this._ignoreAttr||m===p)return;let{prop:f,type:b}=r[s];try{this[f]=nn(b,p)}catch{throw new ot(this,`The value defined as attr '${s}' cannot be parsed by type '${b.name}'`,p)}}else super.attributeChangedCallback(s,m,p)}static get props(){return v(v({},super.props),i)}static get observedAttributes(){let s=super.observedAttributes||[];for(let m in i)en(this.prototype,m,i[m],r,n);return Object.keys(r).concat(s)}}return d};function ln(t){let{styles:e}=t.constructor,{shadowRoot:r}=t;if(r&&e.length){let n=[];xr(e,o=>{o&&(o instanceof Element?r.appendChild(o.cloneNode(!0)):n.push(o))}),n.length&&(r.adoptedStyleSheets=n)}}var Cr=t=>(e,r)=>{X(([n,o]=[])=>((o||!o)&&(o&&wr(o,r)?n=n||!0:(I(n)&&n(),n=null)),[n,r]),([n,o],a)=>a?(I(n)&&n(),[]):[n||e(),o],t)},ie=Cr(gr),dn=Cr(br),$e=class extends Array{constructor(e,r){let n=!0,o=a=>{try{r(a,this,n)}finally{n=!1}};super(void 0,o,r),o(e)}},st=t=>{let e=vr();return X((r=new $e(t,(n,o,a)=>{n=I(n)?n(o[0]):n,n!==o[0]&&(o[0]=n,a||e())}))=>r)},R=(t,e)=>{let[r]=X(([n,o,a=0]=[])=>((!o||o&&!wr(o,e))&&(n=t()),[n,e,a]));return r},ct=t=>{let{current:e}=qe();if(!(t in e))throw new Ae(e,`For useProp("${t}"), the prop does not exist on the host.`,t);return X((r=new $e(e[t],(n,o)=>{n=I(n)?n(e[t]):n,e[t]=n}))=>(r[0]=e[t],r))},$=(t,e={})=>{let r=qe();return r[t]||(r[t]=(n=e.detail)=>kr(r.current,T(v({type:t},e),{detail:n}))),r[t]},at=ce("atomico/options");globalThis[at]=globalThis[at]||{sheet:!!document.adoptedStyleSheets};var je=globalThis[at],un=new Promise(t=>{je.ssr||(document.readyState==="loading"?_r(document,"DOMContentLoaded",t):t())}),pn={checked:1,value:1,selected:1},mn={list:1,type:1,size:1,form:1,width:1,height:1,src:1,href:1,slot:1},fn={shadowDom:1,staticNode:1,cloneNode:1,children:1,key:1},Oe={},it=[],se=class extends Text{},hn=ce("atomico/id"),ae=ce("atomico/type"),Je=ce("atomico/ref"),Sr=ce("atomico/vnode"),Er=()=>{};function gn(t,e,r){return Nr(this,t,e,r)}var Tr=(t,e,...r)=>{let n=e||Oe,{children:o}=n;if(o=o??(r.length?r:it),t===Er)return o;let a=t?t instanceof Node?1:t.prototype instanceof HTMLElement&&2:0;if(a===!1&&t instanceof Function)return t(o!=it?v({children:o},n):n);let i=je.render||gn;return{[ae]:Sr,type:t,props:n,children:o,key:n.key,shadow:n.shadowDom,static:n.staticNode,raw:a,is:n.is,clone:n.cloneNode,render:i}};function Nr(t,e,r=hn,n,o){let a;if(e&&e[r]&&e[r].vnode==t||t[ae]!=Sr)return e;(t||!e)&&(o=o||t.type=="svg",a=t.type!="host"&&(t.raw==1?(e&&t.clone?e[Je]:e)!=t.type:t.raw==2?!(e instanceof t.type):e?e[Je]||e.localName!=t.type:!e),a&&t.type!=null&&(t.raw==1&&t.clone?(n=!0,e=t.type.cloneNode(!0),e[Je]=t.type):e=t.raw==1?t.type:t.raw==2?new t.type:o?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,t.is?{is:t.is}:void 0)));let i=e[r]?e[r]:Oe,{vnode:c=Oe,cycle:d=0}=i,{fragment:u,handlers:s}=i,{children:m=it,props:p=Oe}=c;if(s=a?{}:s||{},t.static&&!a)return e;if(t.shadow&&!e.shadowRoot&&e.attachShadow(v({mode:"open"},t.shadow)),t.props!=p&&vn(e,p,t.props,s,o),t.children!==m){let f=t.shadow?e.shadowRoot:e;u=yn(t.children,u,f,r,!d&&n,o&&t.type=="foreignObject"?!1:o)}return e[r]={vnode:t,handlers:s,fragment:u,cycle:d+1},e}function bn(t,e){let r=new se(""),n=new se(""),o;if(t[e?"prepend":"append"](r),e){let{lastElementChild:a}=t;for(;a;){let{previousElementSibling:i}=a;if(nt(a,!0)&&!nt(i,!0)){o=a;break}a=i}}return o?o.before(n):t.append(n),{markStart:r,markEnd:n}}function yn(t,e,r,n,o,a){t=t==null?null:Zr(t)?t:[t];let i=e||bn(r,o),{markStart:c,markEnd:d,keyes:u}=i,s,m=u&&new Set,p=c;if(t&&xr(t,f=>{if(typeof f=="object"&&!f[ae])return;let b=f[ae]&&f.key,y=u&&b!=null&&u.get(b);p!=d&&p===y?m.delete(p):p=p==d?d:p.nextSibling;let l=u?y:p,g=l;if(f[ae])g=Nr(f,l,n,o,a);else{let E=f+"";!(g instanceof Text)||g instanceof se?g=new Text(E):g.data!=E&&(g.data=E)}g!=p&&(u&&m.delete(g),!l||u?(r.insertBefore(g,p),u&&p!=d&&m.add(p)):l==d?r.insertBefore(g,d):(r.replaceChild(g,l),p=g)),b!=null&&(s=s||new Map,s.set(b,g))}),p=p==d?d:p.nextSibling,e&&p!=d)for(;p!=d;){let f=p;p=p.nextSibling,f.remove()}return m&&m.forEach(f=>f.remove()),i.keyes=s,i}function vn(t,e,r,n,o){for(let a in e)!(a in r)&&ir(t,a,e[a],null,o,n);for(let a in r)ir(t,a,e[a],r[a],o,n)}function ir(t,e,r,n,o,a){if(e=e=="class"&&!o?"className":e,r=r??null,n=n??null,e in t&&pn[e]&&(r=t[e]),!(n===r||fn[e]||e[0]=="_"))if(t.localName==="slot"&&e==="assignNode"&&"assign"in t)t.assign(n);else if(e[0]=="o"&&e[1]=="n"&&(I(n)||I(r)))wn(t,e.slice(2),n,a);else if(e=="ref")n&&(I(n)?n(t):n.current=t);else if(e=="style"){let{style:i}=t;r=r||"",n=n||"";let c=oe(r),d=oe(n);if(c)for(let u in r)if(d)!(u in n)&&sr(i,u,null);else break;if(d)for(let u in n){let s=n[u];c&&r[u]===s||sr(i,u,s)}else i.cssText=n}else{let i=e[0]=="$"?e.slice(1):e;i===e&&(!o&&!mn[e]&&e in t||I(n)||I(r))?t[e]=n??"":n==null?t.removeAttribute(i):t.setAttribute(i,oe(n)?JSON.stringify(n):n)}}function wn(t,e,r,n){if(n.handleEvent||(n.handleEvent=o=>n[o.type].call(t,o)),r){if(!n[e]){let o=r.capture||r.once||r.passive?Object.assign({},r):null;t.addEventListener(e,n,o)}n[e]=r}else n[e]&&(t.removeEventListener(e,n),delete n[e])}function sr(t,e,r){let n="setProperty";r==null&&(n="removeProperty",r=null),~e.indexOf("-")?t[n](e,r):t[e]=r}var xn=Tr("host",{style:"display: contents"}),Pr="value",_n=(t,e)=>{let r=qe(),n=yr();dn(()=>_r(r.current,"ConnectContext",o=>{o.composedPath().at(0)!==o.currentTarget&&t===o.detail.id&&(o.stopPropagation(),o.detail.connect(n))}),[t]),n.current=e},lt=t=>{let e=$("ConnectContext",{bubbles:!0,composed:!0}),[r,n]=st(()=>{if(je.ssr)return;let a;return e({id:t,connect(i){a=i}}),a}),o=vr();return ie(()=>{un.then(()=>e({id:t,connect:n}))},[t]),ie(()=>{if(r)return r.on(o)},[r]),r?.current||t[Pr]},Dr=t=>{let e=W(({value:r})=>(_n(e,r),xn),{props:{value:{type:Object,value:()=>t}}});return e[Pr]=t,e};Dr({dispatch(t,e){}});var cr={};function Be(t,...e){let r=(t.raw||t).reduce((n,o,a)=>n+o+(e[a]||""),"");return cr[r]=cr[r]||kn(r)}function kn(t){if(je.sheet){let e=new CSSStyleSheet;return e.replaceSync(t),e}else{let e=document.createElement("style");return e.textContent=t,e}}var h=(t,e,r)=>(e==null?e={key:r}:e.key=r,Tr(t,e)),q=h,dt=Be`*,*:before,*:after{box-sizing:border-box}button{padding:0;touch-action:manipulation;cursor:pointer;user-select:none}`,ut=Be`.vh{position:absolute;transform:scale(0)}`;function pt(){let t=new Date;return new C(t.getFullYear(),t.getMonth()+1,t.getDate())}var Cn=864e5;function Sn(t){let e=D(t);e.setDate(e.getUTCDate()+3-(e.getUTCDay()+6)%7);let r=new Date(e.getUTCFullYear(),0,4);return 1+Math.round(((e.getTime()-r.getTime())/Cn-3+(r.getUTCDay()+6)%7)/7)}function mt(t,e=0){let r=D(t),n=r.getUTCDay(),o=(n<e?7:0)+n-e;return r.setUTCDate(r.getUTCDate()-o),C.from(r)}function Rr(t,e=0){return mt(t,e).add({days:6})}function Or(t){return C.from(new Date(Date.UTC(t.year,t.month,0)))}function Le(t,e,r){return e&&C.compare(t,e)<0?e:r&&C.compare(t,r)>0?r:t}var En={days:1};function Tn(t,e=0){let r=mt(t.toPlainDate(),e),n=Rr(Or(t),e),o=[];for(;C.compare(r,n)<0;){let a=[];for(let i=0;i<7;i++)a.push(r),r=r.add(En);o.push(a)}return o}function D(t){return new Date(Date.UTC(t.year,t.month-1,t.day??1))}var Nn=/^(\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[0-1])$/,Ze=(t,e)=>t.toString().padStart(e,"0"),C=class t{constructor(e,r,n){this.year=e,this.month=r,this.day=n}add(e){let r=D(this);if("days"in e)return r.setUTCDate(this.day+e.days),t.from(r);let{year:n,month:o}=this;"months"in e?(o=this.month+e.months,r.setUTCMonth(o-1)):(n=this.year+e.years,r.setUTCFullYear(n));let a=t.from(D({year:n,month:o,day:1}));return Le(t.from(r),a,Or(a))}toString(){return`${Ze(this.year,4)}-${Ze(this.month,2)}-${Ze(this.day,2)}`}toPlainYearMonth(){return new Fe(this.year,this.month)}equals(e){return t.compare(this,e)===0}static compare(e,r){return e.year<r.year?-1:e.year>r.year?1:e.month<r.month?-1:e.month>r.month?1:e.day<r.day?-1:e.day>r.day?1:0}static from(e){if(typeof e=="string"){let r=e.match(Nn);if(!r)throw new TypeError(e);let[,n,o,a]=r;return new t(parseInt(n,10),parseInt(o,10),parseInt(a,10))}return new t(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate())}},Fe=class t{constructor(e,r){this.year=e,this.month=r}add(e){let r=D(this),n=(e.months??0)+(e.years??0)*12;return r.setUTCMonth(r.getUTCMonth()+n),new t(r.getUTCFullYear(),r.getUTCMonth()+1)}equals(e){return this.year===e.year&&this.month===e.month}toPlainDate(){return new C(this.year,this.month,1)}};function Ue(t,e){if(e)try{return t.from(e)}catch{}}function H(t){let[e,r]=ct(t);return[R(()=>Ue(C,e),[e]),n=>r(n?.toString())]}function Pn(t){let[e="",r]=ct(t);return[R(()=>{let[n,o]=e.split("/"),a=Ue(C,n),i=Ue(C,o);return a&&i?[a,i]:[]},[e]),n=>r(`${n[0]}/${n[1]}`)]}function Dn(t){let[e="",r]=ct(t);return[R(()=>{let n=[];for(let o of e.trim().split(/\s+/)){let a=Ue(C,o);a&&n.push(a)}return n},[e]),n=>r(n.join(" "))]}function Q(t,e){return R(()=>new Intl.DateTimeFormat(e,v({timeZone:"UTC"},t)),[e,t])}function lr(t,e,r){let n=Q(t,r);return R(()=>{let o=[],a=new Date;for(var i=0;i<7;i++){let c=(a.getUTCDay()-e+7)%7;o[c]=n.format(a),a.setUTCDate(a.getUTCDate()+1)}return o},[e,n])}var dr=(t,e,r)=>Le(t,e,r)===t,ur=t=>t.target.matches(":dir(ltr)"),Rn={month:"long",day:"numeric"},On={month:"long"},Mn={weekday:"long"},Qe={bubbles:!0};function An({props:t,context:e}){let{offset:r}=t,{firstDayOfWeek:n,isDateDisallowed:o,min:a,max:i,today:c,page:d,locale:u,focusedDate:s,formatWeekday:m}=e,p=c??pt(),f=lr(Mn,n,u),b=R(()=>({weekday:m}),[m]),y=lr(b,n,u),l=Q(Rn,u),g=Q(On,u),E=R(()=>d.start.add({months:r}),[d,r]),V=R(()=>Tn(E,n),[E,n]),de=$("focusday",Qe),ee=$("selectday",Qe),He=$("hoverday",Qe);function ue(_){de(Le(_,a,i))}function Ir(_){let S;switch(_.key){case"ArrowRight":S=s.add({days:ur(_)?1:-1});break;case"ArrowLeft":S=s.add({days:ur(_)?-1:1});break;case"ArrowDown":S=s.add({days:7});break;case"ArrowUp":S=s.add({days:-7});break;case"PageUp":S=s.add(_.shiftKey?{years:-1}:{months:-1});break;case"PageDown":S=s.add(_.shiftKey?{years:1}:{months:1});break;case"Home":S=mt(s,n);break;case"End":S=Rr(s,n);break;default:return}ue(S),_.preventDefault()}function $r(_){let S=E.equals(_);if(!e.showOutsideDays&&!S)return;let Fr=_.equals(s),yt=_.equals(p),pe=D(_),me=o?.(pe),vt=!dr(_,a,i),wt="",G;if(e.type==="range"){let[te,ze]=e.value,xt=te?.equals(_),_t=ze?.equals(_);G=te&&ze&&dr(_,te,ze),wt=`${xt?"range-start":""} ${_t?"range-end":""} ${G&&!xt&&!_t?"range-inner":""}`}else e.type==="multi"?G=e.value.some(te=>te.equals(_)):G=e.value?.equals(_);return{part:`${`button day day-${pe.getDay()} ${S?G?"selected":"":"outside"} ${me?"disallowed":""} ${yt?"today":""} ${e.getDayParts?.(pe)??""}`} ${wt}`,tabindex:S&&Fr?0:-1,disabled:vt,"aria-disabled":me?"true":void 0,"aria-pressed":S&&G,"aria-current":yt?"date":void 0,"aria-label":l.format(pe),onkeydown:Ir,onclick(){me||ee(_),ue(_)},onmouseover(){!me&&!vt&&He(_)}}}return{weeks:V,yearMonth:E,daysLong:f,daysVisible:y,formatter:g,getDayProps:$r}}var Xe=pt(),le=Dr({type:"date",firstDayOfWeek:1,focusedDate:Xe,page:{start:Xe.toPlainYearMonth(),end:Xe.toPlainYearMonth()}});customElements.define("calendar-ctx",le);var In=(t,e)=>(e+t)%7,$n=W(t=>{let e=lt(le),r=yr(),n=An({props:t,context:e});function o(){r.current.querySelector("button[tabindex='0']")?.focus()}return q("host",{shadowDom:!0,focus:o,children:[h("div",{id:"h",part:"heading",children:n.formatter.format(D(n.yearMonth))}),q("table",{ref:r,"aria-labelledby":"h",part:"table",children:[q("colgroup",{children:[e.showWeekNumbers&&h("col",{part:"col-weeknumber"}),h("col",{part:"col-1"}),h("col",{part:"col-2"}),h("col",{part:"col-3"}),h("col",{part:"col-4"}),h("col",{part:"col-5"}),h("col",{part:"col-6"}),h("col",{part:"col-7"})]}),h("thead",{children:q("tr",{part:"tr head",children:[e.showWeekNumbers&&h("th",{part:"th weeknumber",children:h("slot",{name:"weeknumber",children:h("span",{"aria-label":"Week",children:"#"})})}),n.daysLong.map((a,i)=>q("th",{part:`th day day-${In(e.firstDayOfWeek,i)}`,scope:"col",children:[h("span",{class:"vh",children:a}),h("span",{"aria-hidden":"true",children:n.daysVisible[i]})]}))]})}),h("tbody",{children:n.weeks.map((a,i)=>q("tr",{part:"tr week",children:[e.showWeekNumbers&&h("th",{class:"num",part:"th weeknumber",scope:"row",children:Sn(a[0])}),a.map((c,d)=>{let u=n.getDayProps(c);return h("td",{part:"td",children:u&&h("button",T(v({class:"num"},u),{children:c.day}))},d)})]},i))})]})]})},{props:{offset:{type:Number,value:0}},styles:[dt,ut,Be`:host{--color-accent: black;--color-text-on-accent: white;display:flex;flex-direction:column;gap:.25rem;text-align:center;inline-size:fit-content}table{border-collapse:collapse;font-size:.875rem}th{inline-size:2.25rem;block-size:2.25rem}td{padding-inline:0}.num{font-variant-numeric:tabular-nums}button{color:inherit;font-size:inherit;background:transparent;border:0;block-size:2.25rem;inline-size:2.25rem}button:hover:where(:not(:disabled,[aria-disabled])){background:#0000000d}button:is([aria-pressed=true],:focus-visible){background:var(--color-accent);color:var(--color-text-on-accent)}button:focus-visible{outline:1px solid var(--color-text-on-accent);outline-offset:-2px}button:disabled,:host::part(outside),:host::part(disallowed){cursor:default;opacity:.5}`]});customElements.define("calendar-month",$n);function pr(t){return h("button",{part:`button ${t.name} ${t.onclick?"":"disabled"}`,onclick:t.onclick,"aria-disabled":t.onclick?null:"true",children:h("slot",{name:t.name,children:t.children})})}function ft(t){let e=D(t.page.start),r=D(t.page.end);return h(le,{value:t,onselectday:t.onSelect,onfocusday:t.onFocus,onhoverday:t.onHover,children:q("div",{role:"group","aria-labelledby":"h",part:"container",children:[h("div",{id:"h",class:"vh","aria-live":"polite","aria-atomic":"true",children:t.formatVerbose.formatRange(e,r)}),q("div",{part:"header",children:[h(pr,{name:"previous",onclick:t.previous,children:"Previous"}),h("slot",{part:"heading",name:"heading",children:h("div",{"aria-hidden":"true",children:t.format.formatRange(e,r)})}),h(pr,{name:"next",onclick:t.next,children:"Next"})]}),h("slot",{part:"months"})]})})}var ht={value:{type:String,value:""},min:{type:String,value:""},max:{type:String,value:""},today:{type:String,value:""},isDateDisallowed:{type:Function,value:t=>!1},formatWeekday:{type:String,value:()=>"narrow"},getDayParts:{type:Function,value:t=>""},firstDayOfWeek:{type:Number,value:()=>1},showOutsideDays:{type:Boolean,value:!1},locale:{type:String,value:()=>{}},months:{type:Number,value:1},focusedDate:{type:String,value:()=>{}},pageBy:{type:String,value:()=>"months"},showWeekNumbers:{type:Boolean,value:!1}},gt=[dt,ut,Be`:host{display:block;inline-size:fit-content}:host::part(container){display:flex;flex-direction:column;gap:1em}:host::part(header){display:flex;align-items:center;justify-content:space-between}:host::part(heading){font-weight:700;font-size:1.25em}:host::part(button){display:flex;align-items:center;justify-content:center}:host::part(button disabled){cursor:default;opacity:.5}`],Fn={year:"numeric"},Un={year:"numeric",month:"long"};function et(t,e){return(e.year-t.year)*12+e.month-t.month}var mr=(t,e)=>(t=e===12?new Fe(t.year,1):t,{start:t,end:t.add({months:e-1})});function qn({pageBy:t,focusedDate:e,months:r,max:n,min:o,goto:a}){let i=t==="single"?1:r,[c,d]=st(()=>mr(e.toPlainYearMonth(),r)),u=m=>d(mr(c.start.add({months:m}),r)),s=m=>{let p=et(c.start,m.toPlainYearMonth());return p>=0&&p<r};return ie(()=>{if(s(e))return;let m=et(e.toPlainYearMonth(),c.start);a(e.add({months:m}))},[c.start]),ie(()=>{if(s(e))return;let m=et(c.start,e.toPlainYearMonth());u(m===-1?-i:m===r?i:Math.floor(m/r)*r)},[e,i,r]),{page:c,previous:!o||!s(o)?()=>u(-i):void 0,next:!n||!s(n)?()=>u(i):void 0}}function bt({months:t,pageBy:e,locale:r,focusedDate:n,setFocusedDate:o}){let[a]=H("min"),[i]=H("max"),[c]=H("today"),d=$("focusday"),u=$("change"),s=R(()=>Le(n??c??pt(),a,i),[n,c,a,i]);function m(g){o(g),d(D(g))}let{next:p,previous:f,page:b}=qn({pageBy:e,focusedDate:s,months:t,min:a,max:i,goto:m}),y=qe();function l(g){let E=g?.target??"day";E==="day"?y.current.querySelectorAll("calendar-month").forEach(V=>V.focus(g)):y.current.shadowRoot.querySelector(`[part~='${E}']`).focus(g)}return{format:Q(Fn,r),formatVerbose:Q(Un,r),page:b,focusedDate:s,dispatch:u,onFocus(g){g.stopPropagation(),m(g.detail),setTimeout(l)},min:a,max:i,today:c,next:p,previous:f,focus:l}}var jn=W(t=>{let[e,r]=H("value"),[n=e,o]=H("focusedDate"),a=bt(T(v({},t),{focusedDate:n,setFocusedDate:o}));function i(c){r(c.detail),a.dispatch()}return h("host",{shadowDom:!0,focus:a.focus,children:h(ft,T(v(v({},t),a),{type:"date",value:e,onSelect:i}))})},{props:ht,styles:gt});customElements.define("calendar-date",jn);function Mr(t){return q(Er,{children:[h("label",{part:"label",for:"s",children:h("slot",{name:"label",children:t.label})}),h("select",{id:"s",part:"select",onchange:t.onChange,children:t.options.map(e=>h("option",v({part:"option"},e)))})]})}var Ar=[dt,ut];function Bn(t,e){return Array.from({length:t},(r,n)=>e(n))}function Ln(t){let{min:e,max:r,focusedDate:n}=lt(le),o=$("focusday",{bubbles:!0}),a=n.toPlainYearMonth(),i=a.year,c=Math.floor(t.maxYears/2),d=i-c,u=i+(t.maxYears-c-1),s=Math.max(d,e?.year??-1/0),m=Math.min(u,r?.year??1/0),p=Bn(m-s+1,b=>{let y=s+b;return{label:`${y}`,value:`${y}`,selected:y===a.year}});function f(b){let y=parseInt(b.currentTarget.value)-a.year;o(n.add({years:y}))}return{options:p,onChange:f}}var Hn=W(t=>{let e=Ln(t);return h("host",{shadowDom:!0,children:h(Mr,v({label:"Year"},e))})},{props:{maxYears:{type:Number,value:20}},styles:Ar});customElements.define("calendar-select-year",Hn);function zn(t){let{min:e,max:r,focusedDate:n,locale:o}=lt(le),a=$("focusday",{bubbles:!0}),i=R(()=>({month:t.formatMonth}),[t.formatMonth]),c=Q(i,o),d=R(()=>{let p=[],f=new Date;for(var b=0;b<12;b++){let y=(f.getUTCMonth()+12)%12;p[y]=c.format(f),f.setUTCMonth(f.getUTCMonth()+1)}return p},[c]),u=n.toPlainYearMonth(),s=d.map((p,f)=>{let b=f+1,y=u.add({months:b-u.month}).toPlainDate(),l=e!=null&&C.compare(y,e)<0||r!=null&&C.compare(y,r)>0;return{label:p,value:`${b}`,disabled:l,selected:b===u.month}});function m(p){let f=parseInt(p.currentTarget.value)-u.month;a(n.add({months:f}))}return{options:s,onChange:m}}var Yn=W(t=>{let e=zn(t);return h("host",{shadowDom:!0,children:h(Mr,v({label:"Month"},e))})},{props:{formatMonth:{type:String,value:()=>"long"}},styles:Ar});customElements.define("calendar-select-month",Yn);var fr=(t,e)=>C.compare(t,e)<0?[t,e]:[e,t],Wn=W(t=>{let[e,r]=Pn("value"),[n=e[0],o]=H("focusedDate"),a=bt(T(v({},t),{focusedDate:n,setFocusedDate:o})),i=$("rangestart"),c=$("rangeend"),[d,u]=H("tentative"),[s,m]=st();ie(()=>m(void 0),[d]);function p(l){a.onFocus(l),f(l)}function f(l){l.stopPropagation(),d&&m(l.detail)}function b(l){let g=l.detail;l.stopPropagation(),d?(r(fr(d,g)),u(void 0),c(D(g)),a.dispatch()):(u(g),i(D(g)))}let y=d?fr(d,s??d):e;return h("host",{shadowDom:!0,focus:a.focus,children:h(ft,T(v(v({},t),a),{type:"range",value:y,onFocus:p,onHover:f,onSelect:b}))})},{props:T(v({},ht),{tentative:{type:String,value:""}}),styles:gt});customElements.define("calendar-range",Wn);var Vn=W(t=>{let[e,r]=Dn("value"),[n=e[0],o]=H("focusedDate"),a=bt(T(v({},t),{focusedDate:n,setFocusedDate:o}));function i(c){let d=[...e],u=e.findIndex(s=>s.equals(c.detail));u<0?d.push(c.detail):d.splice(u,1),r(d),a.dispatch()}return h("host",{shadowDom:!0,focus:a.focus,children:h(ft,T(v(v({},t),a),{type:"multi",value:e,onSelect:i}))})},{props:ht,styles:gt});customElements.define("calendar-multi",Vn);B.init(ne.posthogKey,{api_host:ne.posthogHost,person_profiles:"identified_only",defaults:"2025-05-24"});Ht(Re,or).catch(t=>console.error(t));
