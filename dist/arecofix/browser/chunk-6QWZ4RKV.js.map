{
  "version": 3,
  "sources": ["src/app/admin/brands/admin-brands-page.ts", "src/app/admin/brands/admin-brands-page.html"],
  "sourcesContent": ["import { Component, inject, OnInit, signal } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterLink } from '@angular/router';\r\nimport { BrandRepository } from '@app/features/products/domain/repositories/brand.repository';\r\nimport { Brand } from '@app/features/products/domain/entities/brand.entity';\r\nimport { LoggerService } from '@app/core/services/logger.service';\r\nimport { NotificationService } from '@app/core/services/notification.service';\r\nimport { firstValueFrom } from 'rxjs';\r\n\r\n@Component({\r\n    selector: 'app-admin-brands-page',\r\n    standalone: true,\r\n    imports: [CommonModule, RouterLink],\r\n    templateUrl: './admin-brands-page.html',\r\n})\r\nexport class AdminBrandsPage implements OnInit {\r\n    private brandRepo = inject(BrandRepository);\r\n    private logger = inject(LoggerService);\r\n    private notification = inject(NotificationService);\r\n\r\n    brands = signal<Brand[]>([]);\r\n    loading = signal(true);\r\n\r\n    async ngOnInit() {\r\n        await this.loadBrands();\r\n    }\r\n\r\n    async loadBrands() {\r\n        this.loading.set(true);\r\n        try {\r\n            const brands = await firstValueFrom(this.brandRepo.getAll({ column: 'name', ascending: true }));\r\n            this.brands.set(brands);\r\n        } catch (error) {\r\n            this.logger.error('Failed to load brands', error);\r\n            this.notification.showError('Error al cargar las marcas');\r\n        } finally {\r\n            this.loading.set(false);\r\n        }\r\n    }\r\n\r\n    async toggleStatus(brand: Brand) {\r\n        try {\r\n            await firstValueFrom(this.brandRepo.update(brand.id, { is_active: !brand.is_active }));\r\n            await this.loadBrands();\r\n            this.notification.showSuccess('Estado actualizado correctamente');\r\n        } catch (error) {\r\n            this.logger.error('Failed to toggle brand status', error);\r\n            this.notification.showError('Error al actualizar el estado');\r\n        }\r\n    }\r\n}\r\n", "<div class=\"flex justify-between items-center mb-6\">\r\n    <h1 class=\"text-2xl font-bold text-green-600\">Marcas</h1>\r\n    <a routerLink=\"/admin/brands/new\" class=\"btn btn-primary\">\r\n        <i class=\"fas fa-plus mr-2\"></i> Nueva Marca\r\n    </a>\r\n</div>\r\n\r\n<div class=\"bg-base-100 rounded-lg shadow overflow-hidden text-base-content\">\r\n    <div class=\"overflow-x-auto\">\r\n        <table class=\"table w-full\">\r\n            <thead>\r\n                <tr class=\"text-base-content font-bold\">\r\n                    <th>Logo</th>\r\n                    <th>Nombre</th>\r\n                    <th>Estado</th>\r\n                    <th>Acciones</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                @if (loading()) {\r\n                <tr>\r\n                    <td colspan=\"4\" class=\"text-center py-4 text-base-content/70\">Cargando...</td>\r\n                </tr>\r\n                } @else if (brands().length === 0) {\r\n                <tr>\r\n                    <td colspan=\"4\" class=\"text-center py-4 text-base-content/70\">No hay marcas registradas.</td>\r\n                </tr>\r\n                } @else {\r\n                @for (brand of brands(); track brand.id) {\r\n                <tr class=\"hover:bg-base-200/50\">\r\n                    <td>\r\n                        @if (brand.logo_url) {\r\n                        <img [src]=\"brand.logo_url\" alt=\"{{brand.name}}\" class=\"w-10 h-10 object-contain\">\r\n                        } @else {\r\n                        <div class=\"w-10 h-10 bg-base-200 rounded flex items-center justify-center text-base-content/50\">\r\n                            <i class=\"fas fa-image\"></i>\r\n                        </div>\r\n                        }\r\n                    </td>\r\n                    <td>\r\n                        <div class=\"font-bold\">{{ brand.name }}</div>\r\n                        <div class=\"text-sm opacity-50\">{{ brand.slug }}</div>\r\n                    </td>\r\n                    <td>\r\n                        <button (click)=\"toggleStatus(brand)\" class=\"badge\" [class.badge-success]=\"brand.is_active\"\r\n                            [class.badge-error]=\"!brand.is_active\">\r\n                            {{ brand.is_active ? 'Activo' : 'Inactivo' }}\r\n                        </button>\r\n                    </td>\r\n                    <td>\r\n                        <a [routerLink]=\"['/admin/brands', brand.id]\" class=\"btn btn-sm btn-ghost hover:bg-base-300\">\r\n                            <i class=\"fas fa-edit\"></i>\r\n                        </a>\r\n                    </td>\r\n                </tr>\r\n                }\r\n                }\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n</div>"],
  "mappings": "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",
  "names": []
}
