import{a as u}from"./chunk-RZKRXCEK.js";import{T as n,X as o,p as t,q as a}from"./chunk-YATSW66L.js";var l=class s{constructor(e){this.authService=e;this.supabase=this.authService.getSupabaseClient()}supabase;getCourses(){return t(this.supabase.from("courses").select("id, title, slug, price, sale_price, level, is_active, image_url, created_at").order("created_at",{ascending:!1}))}getCourseBySlug(e){return t(this.supabase.from("courses").select("*").eq("slug",e).single())}getCourseById(e){return t(this.supabase.from("courses").select("*").eq("id",e).single())}createCourse(e){return t(this.supabase.from("courses").insert(e).select().single())}updateCourse(e,r){return t(this.supabase.from("courses").update(r).eq("id",e).select().single())}deleteCourse(e){return t(this.supabase.from("courses").delete().eq("id",e))}getModulesByCourseId(e){return a({data:[],error:null})}async registerStudent(e){try{let{data:r,error:i}=await this.supabase.from("course_enrollments").insert([{course_id:e.course_id,full_name:e.full_name,email:e.email,phone:e.phone,status:"pending",created_at:new Date().toISOString()}]).select().single();if(i)throw i;return{data:r,error:null}}catch(r){return console.error("Error registering student:",r),{data:null,error:r}}}static \u0275fac=function(r){return new(r||s)(o(u))};static \u0275prov=n({token:s,factory:s.\u0275fac,providedIn:"root"})};export{l as a};
