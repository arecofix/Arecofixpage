import{a as se}from"./chunk-KGQC2WJV.js";import{a as de}from"./chunk-PUX2C3NO.js";import{a as me,b as ge,c as fe}from"./chunk-Z6RW46OR.js";import{a as ue,c as T}from"./chunk-AZCK5UGA.js";import{a as pe}from"./chunk-LJL7ANOU.js";import"./chunk-SUEW2WST.js";import{a as ve}from"./chunk-DRKJXLYO.js";import{a as xe}from"./chunk-W6OHXZLO.js";import{a as ce}from"./chunk-NRL5PHBS.js";import"./chunk-MQUL3GSM.js";import"./chunk-FWUGUFSK.js";import{b as te,d as ie,e as re,f as oe,g as ae,h as ne,s as le}from"./chunk-RZAPBHU5.js";import"./chunk-OW7ANG2H.js";import"./chunk-F4YL3ILH.js";import{B as Z,G as ee,b as W,i as H,l as K,o as Y,z as X}from"./chunk-LKDB4EQ3.js";import{$ as p,$b as U,Ab as o,Bb as r,Cb as s,Ib as I,L as C,Mb as g,Ob as d,R as V,Ua as l,Vb as _,W as u,Xb as n,Yb as F,Zb as y,aa as m,ac as q,ba as k,bc as z,ca as N,da as j,ea as O,gb as Q,ic as $,l as A,ma as B,nc as G,oa as L,pc as J,r as b,s as R,tb as f,ub as x,wb as w,xb as E,xc as P,yb as D,zb as v}from"./chunk-R5MGBMPQ.js";import"./chunk-7CGTOI24.js";var S=class i{fallbackProducts=[{id:"1001",category_id:"0",slug:"joystick-play-station-4",name:"Joystick Play Station 4",description:"En venta Joystick nuevo de play station 4 DUALSHOCK",price:29800,featured:!0,image_url:"assets/img/products/joystick-ps4-v2.webp"},{id:"1002",category_id:"0",slug:"iphone-8-plus",name:"iPhone 8 Plus",description:"En venta iPhone 8 Plus vidrio astillado no afecta su uso",price:96e3,featured:!0,image_url:"assets/img/products/iph8plus.webp"},{id:"1003",category_id:"0",slug:"iphone-x",name:"iPhone X",description:"En venta celular iphone x a wifi",price:149e3,featured:!0,image_url:"assets/img/products/iphx.webp"}];getFallbackProduct(e){return this.fallbackProducts.find(t=>t.slug===e)}getAllFallbackProducts(){return[...this.fallbackProducts]}isFallbackProduct(e){return this.fallbackProducts.some(t=>t.slug===e)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=V({token:i,factory:i.\u0275fac,providedIn:"root"})};var be=()=>[1,2,3,4,5];function _e(i,e){i&1&&s(0,"is-loading")}function ye(i,e){i&1&&s(0,"is-empty")}function Pe(i,e){i&1&&s(0,"is-error")}function Se(i,e){if(i&1&&s(0,"img",10),i&2){let t=d(2);v("ngSrc",t.selectedImage())("alt",t.product().name)("priority",!0)}}function Ce(i,e){if(i&1&&s(0,"img",11),i&2){let t=d(2);v("alt",t.product().name)}}function ke(i,e){if(i&1){let t=I();o(0,"button",42),g("click",function(){let c=p(t).$implicit,h=d(3);return m(h.selectImage(c))}),s(1,"img",43),r()}if(i&2){let t=e.$implicit,a=d(3);_("ring-2",a.selectedImage()===t)("ring-indigo-500",a.selectedImage()===t),l(),v("ngSrc",t)("alt",a.product().name)}}function we(i,e){if(i&1&&(o(0,"div",12),E(1,ke,2,6,"button",41,w),r()),i&2){let t=d(2);l(),D(t.product().gallery_urls)}}function Ee(i,e){i&1&&(k(),o(0,"svg",19),s(1,"path",44),r())}function De(i,e){if(i&1&&(o(0,"li"),n(1),r()),i&2){let t=d(2);l(),y("SKU: ",t.product().sku)}}function Ie(i,e){if(i&1){let t=I();o(0,"div",0)(1,"div",1)(2,"div",2)(3,"input",3),z("ngModelChange",function(c){p(t);let h=d();return q(h.searchQuery,c)||(h.searchQuery=c),m(c)}),g("keyup.enter",function(){p(t);let c=d();return m(c.onSearch())}),r(),o(4,"button",4),g("click",function(){p(t);let c=d();return m(c.onSearch())}),s(5,"i",5),r()()(),s(6,"app-breadcrumbs",6),o(7,"div",7)(8,"div",8)(9,"div",9),f(10,Se,1,3,"img",10)(11,Ce,1,1,"img",11),r(),f(12,we,3,0,"div",12),r(),o(13,"div",13)(14,"h1",14),n(15),r(),o(16,"div",15)(17,"h2",16),n(18,"Product information"),r(),o(19,"p",17),n(20),G(21,"number"),r()(),o(22,"div",15)(23,"h3",16),n(24,"Reviews"),r(),o(25,"div",18)(26,"div",18),E(27,Ee,2,0,":svg:svg",19,w),r(),o(29,"p",16),n(30,"5 out of 5 stars"),r(),o(31,"a",20),n(32,"Ver rese\xF1as"),r()()(),o(33,"div",21)(34,"h3",16),n(35,"Description"),r(),o(36,"p",22),n(37),r()(),o(38,"div",23)(39,"h3",24),n(40,"Caracter\xEDsticas"),r(),o(41,"div",25)(42,"ul",26)(43,"li"),n(44,"Garant\xEDa: 3 meses"),r(),f(45,De,2,1,"li"),o(46,"li"),n(47,"Env\xEDo a todo el pa\xEDs"),r(),o(48,"li"),n(49,"Stock disponible"),r()()()(),o(50,"form",27)(51,"button",28),g("click",function(){p(t);let c=d();return m(c.addToCart())}),s(52,"i",29),n(53," Agregar al Carrito "),r(),o(54,"button",30),g("click",function(){p(t);let c=d();return m(c.toggleFavorite())}),s(55,"i",31),n(56),r()(),o(57,"div",32)(58,"div",33)(59,"div",34),k(),o(60,"svg",35),s(61,"path",36),r()(),N(),o(62,"div",37)(63,"p",38)(64,"span",39),n(65,"Armado y despacho de pedidos 24hs/48hs."),r(),n(66," Avisar antes de pasar por el local. "),o(67,"a",40),n(68,"AGENDA EL Whatsapp: 5491125960900"),r(),n(69," Y MANDANOS UN MSJ PARA QUE PUEDAS VER PROMOCIONES DEL DIA, DESCUENTO, SORTEOS Y MAS!!! "),r()()()()()()()}if(i&2){let t=d();l(3),U("ngModel",t.searchQuery),l(3),v("items",t.breadcrumbItems()),l(4),x(t.selectedImage()?10:11),l(2),x(t.product().gallery_urls&&t.product().gallery_urls.length>0?12:-1),l(3),F(t.product().name),l(5),y("$",J(21,21,t.product().price,"1.0-0")),l(7),D($(24,be)),l(10),F(t.product().description||"Sin descripci\xF3n detallada."),l(8),x(t.product().sku?45:-1),l(9),_("border-red-500",t.isFavorite())("text-red-600",t.isFavorite())("bg-red-50",t.isFavorite()),l(),_("fas",t.isFavorite())("far",!t.isFavorite())("text-red-600",t.isFavorite()),l(),y(" ",t.isFavorite()?"Quitar de Favoritos":"Agregar a Favoritos"," ")}}var M=class i{route=u(X);categoryService=u(pe);productService=u(xe);location=u(W);fallbackService=u(S);seoService=u(se);document=u(O);breadcrumbItems=P(()=>{let e=this.product(),t=this.categoryRs.value(),a=[{label:"Inicio",url:"/"},{label:"Productos",url:"/productos"}];return t&&a.push({label:t.name,url:`/productos/categoria/${t.slug}`}),e&&a.push({label:e.name}),a});productRs=T({stream:()=>R([this.route.params.pipe(b(({productSlug:e})=>e)),this.route.queryParams.pipe(b(e=>+e._page||1))]).pipe(C(([e])=>this.productService.getData({_page:1,slug:e}).pipe(b(t=>{let a=this.fallbackService.getFallbackProduct(e);return(!t.data||t.data.length===0)&&a?{data:[a],items:1,pages:1,first:1,last:1,prev:void 0,next:void 0}:t}))))});product=P(()=>{let e=this.productRs.value();return!e||!e.data||e.data.length===0?null:e.data[0]});selectedImage=B(null);constructor(){L(()=>{let e=this.product();if(e){this.selectedImage()||this.selectedImage.set(e.image_url||null),this.seoService.setPageData({title:e.name,description:e.description||`Compra ${e.name} en Arecofix`,imageUrl:e.image_url,type:"product"});let t=this.document.createElement("script");t.type="application/ld+json",t.text=JSON.stringify({"@context":"https://schema.org/","@type":"Product",name:e.name,image:e.image_url?[`https://arecofix.com.ar${e.image_url}`]:[],description:e.description||`Compra ${e.name} en Arecofix`,brand:{"@type":"Brand",name:"Arecofix"},sku:e.sku||e.id,offers:{"@type":"Offer",url:window.location.href,priceCurrency:"ARS",price:e.price,availability:"https://schema.org/InStock",seller:{"@type":"Organization",name:"Arecofix"}}}),this.document.head.appendChild(t)}})}selectImage(e){this.selectedImage.set(e)}injector=u(j);categoryRs=T({stream:()=>ue(this.product,{injector:this.injector}).pipe(C(e=>e?this.categoryService.getById(e.category_id):A(null)))});goBack(){this.location.back()}cartService=u(ce);favoritesService=u(ve);isFavorite=P(()=>{let e=this.product();return e?this.favoritesService.isFavorite(e.id):!1});toggleFavorite(){let e=this.product();e&&this.favoritesService.toggleFavorite(e)}addToCart(){let e=this.product();e&&this.cartService.addToCart(e)}shareProduct(){let e=this.product();if(!e)return;let t={title:e.name,text:`Mira este producto: ${e.name}`,url:window.location.href};navigator.share?navigator.share(t).catch(a=>console.error("Error sharing:",a)):navigator.clipboard.writeText(window.location.href).then(()=>alert("Enlace copiado al portapapeles!")).catch(a=>console.error("Error copying to clipboard:",a))}searchQuery="";router=u(Z);onSearch(){this.searchQuery.trim()&&this.router.navigate(["/products/all"],{queryParams:{q:this.searchQuery}})}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=Q({type:i,selectors:[["app-products-details-page"]],decls:4,vars:1,consts:[[1,"bg-white","dark:bg-gray-900","pt-6"],[1,"container","mx-auto","px-4","lg:px-8","mt-4","mb-4","flex","justify-end"],[1,"relative","w-full","max-w-xs"],["type","text","placeholder","Buscar producto...",1,"input","input-bordered","w-full","pl-10","h-10",3,"ngModelChange","keyup.enter","ngModel"],[1,"absolute","right-2","top-1/2","-translate-y-1/2","btn","btn-ghost","btn-xs","btn-circle",3,"click"],[1,"fas","fa-search","text-gray-400"],[3,"items"],[1,"mx-auto","mt-6","max-w-2xl","px-4","sm:px-6","lg:max-w-7xl","lg:px-8","lg:grid","lg:grid-cols-2","lg:gap-x-8"],[1,"lg:max-w-lg","lg:self-end"],[1,"w-full","aspect-square","overflow-hidden","rounded-lg","bg-gray-100","dark:bg-gray-800","flex","items-center","justify-center","relative"],["fill","",1,"object-contain","object-center","max-h-full","max-w-full",3,"ngSrc","alt","priority"],["src","assets/img/no-image.png",1,"object-contain","object-center","max-h-full","max-w-full",3,"alt"],[1,"mt-4","grid","grid-cols-4","gap-4"],[1,"mt-10","px-4","sm:mt-16","sm:px-0","lg:mt-0"],[1,"text-3xl","font-bold","tracking-tight","text-gray-900","dark:text-white"],[1,"mt-3"],[1,"sr-only"],[1,"text-3xl","tracking-tight","text-gray-900","dark:text-white","font-bold"],[1,"flex","items-center"],["viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"size-5","shrink-0","text-yellow-500"],["href","#",1,"ml-3","text-sm","font-medium","text-indigo-600","hover:text-indigo-500","dark:text-indigo-400"],[1,"mt-6"],[1,"text-base","text-gray-700","dark:text-gray-300"],[1,"mt-10","border-t","border-gray-200","dark:border-gray-700","pt-10"],[1,"text-sm","font-medium","text-gray-900","dark:text-white"],[1,"mt-4","prose","prose-sm","text-gray-500","dark:text-gray-400"],["role","list"],[1,"mt-10"],["type","button",1,"flex","w-full","items-center","justify-center","rounded-md","border","border-transparent","bg-indigo-600","px-8","py-3","text-base","font-medium","text-white","hover:bg-indigo-700","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-2","focus:outline-hidden","cursor-pointer","hover:shadow-lg","hover:scale-[1.02]","transition-all","duration-200",3,"click"],[1,"fas","fa-shopping-cart","mr-2"],["type","button",1,"mt-4","flex","w-full","items-center","justify-center","rounded-md","border","border-gray-300","dark:border-gray-600","bg-transparent","px-8","py-3","text-base","font-medium","text-gray-900","dark:text-gray-300","hover:bg-gray-50","dark:hover:bg-gray-800","cursor-pointer","transition-colors",3,"click"],[1,"mr-2","fa-heart"],[1,"mt-8","bg-blue-50","dark:bg-blue-900/20","border-l-4","border-blue-500","p-4","rounded-r-lg"],[1,"flex"],[1,"shrink-0"],["viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","text-blue-400"],["fill-rule","evenodd","d","M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule","evenodd"],[1,"ml-3"],[1,"text-sm","text-blue-700","dark:text-blue-200"],[1,"font-bold"],["href","https://wa.me/5491125960900","target","_blank",1,"font-bold","underline","hover:text-blue-600"],["type","button",1,"aspect-square","rounded-lg","overflow-hidden","bg-gray-100","dark:bg-gray-800","relative","cursor-pointer","hover:opacity-75","transition-opacity","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","w-full","block",3,"ring-2","ring-indigo-500"],["type","button",1,"aspect-square","rounded-lg","overflow-hidden","bg-gray-100","dark:bg-gray-800","relative","cursor-pointer","hover:opacity-75","transition-opacity","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","w-full","block",3,"click"],["fill","",1,"object-cover","object-center","pointer-events-none",3,"ngSrc","alt"],["fill-rule","evenodd","d","M10.868 2.884c-.321-.772-1.415-.772-1.736 0l-1.83 4.401-4.753.381c-.833.067-1.171 1.107-.536 1.651l3.62 3.102-1.106 4.637c-.194.813.691 1.456 1.405 1.02L10 15.591l4.069 2.485c.713.436 1.598-.207 1.404-1.02l-1.106-4.637 3.62-3.102c.635-.544.297-1.584-.536-1.65l-4.752-.382-1.831-4.401Z","clip-rule","evenodd"]],template:function(t,a){t&1&&f(0,_e,1,0,"is-loading")(1,ye,1,0,"is-empty")(2,Pe,1,0,"is-error")(3,Ie,70,25,"div",0),t&2&&x(a.productRs.isLoading()?0:a.productRs.hasValue()?a.productRs.error()?2:a.productRs.hasValue()?3:-1:1)},dependencies:[me,ge,fe,Y,le,ne,te,ie,re,ae,oe,ee,de,K,H],encapsulation:2,changeDetection:0})},Xe=M;export{M as ProductsDetailsPage,Xe as default};
