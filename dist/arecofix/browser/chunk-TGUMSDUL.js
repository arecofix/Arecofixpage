import{a as T}from"./chunk-3VL2JKQC.js";import"./chunk-MI7WHUK7.js";import"./chunk-XFT2X3PC.js";import{a as C,d as E}from"./chunk-CYIQDGHK.js";import{b as _,c as P}from"./chunk-BVKNO7TK.js";import"./chunk-RZVF5N6E.js";import"./chunk-T7AXESXA.js";import{m as w}from"./chunk-BKULT56L.js";import{Eb as s,Ga as v,Ha as b,La as l,Mb as r,Nb as m,Ob as g,Y as d,Za as y,bc as u,dc as h,jb as p,kb as x,pb as f,qb as t,qc as S,rb as n,sb as o}from"./chunk-YATSW66L.js";import"./chunk-VOSPIT4N.js";function D(a,i){a&1&&(t(0,"div",1),o(1,"div",3),n())}function I(a,i){if(a&1&&(t(0,"div",2)(1,"div",4),o(2,"i",5),n(),t(3,"h2",6),r(4,"No pudimos cargar la entrada"),n(),t(5,"p",7),r(6),n(),t(7,"a",8),r(8," Volver al Inicio "),n()()),a&2){let e=s();l(6),m(e.error)}}function M(a,i){if(a&1&&(t(0,"div",9),o(1,"div",23)(2,"img",24),t(3,"div",25)(4,"div",26)(5,"a",27),o(6,"i",28),r(7," Volver "),n(),t(8,"h1",29),r(9),n(),t(10,"div",30)(11,"span",31),r(12,"Blog"),n(),o(13,"i",32),t(14,"time"),r(15),u(16,"date"),n()()()()()),a&2){let e=s(2);l(2),f("src",e.post.image,b)("alt",e.post.title),l(7),g(" ",e.post.title," "),l(6),m(h(16,4,e.post.created_at,"longDate"))}}function j(a,i){if(a&1&&(t(0,"div",10)(1,"div",26)(2,"a",33),o(3,"i",28),r(4," Volver al Inicio "),n(),t(5,"h1",34),r(6),n(),t(7,"div",35),o(8,"i",32),t(9,"time"),r(10),u(11,"date"),n()()()()),a&2){let e=s(2);l(6),g(" ",e.post.title," "),l(4),m(h(11,2,e.post.created_at,"longDate"))}}function L(a,i){if(a&1&&(t(0,"article"),p(1,M,17,7,"div",9)(2,j,12,5,"div",10),t(3,"div",11),o(4,"div",12),t(5,"div",13)(6,"div",14)(7,"div",15),r(8," Compartir esta entrada: "),n(),t(9,"div",16)(10,"button",17),o(11,"i",18),n(),t(12,"button",19),o(13,"i",20),n(),t(14,"button",21),o(15,"i",22),n()()()()()()),a&2){let e=s();l(),x(e.post.image?1:2),l(3),f("innerHTML",e.post.content,v)}}var k=class a{route=d(C);postService=d(T);cdr=d(S);titleService=d(P);metaService=d(_);post=null;loading=!0;error=null;async ngOnInit(){this.route.paramMap.subscribe(async i=>{let e=i.get("slug");e&&await this.loadPost(e)})}async loadPost(i){try{if(this.loading=!0,this.error=null,this.post=await this.postService.getPostBySlug(i),this.post)this.updateMetaTags(this.post);else{if(i.includes("tcnico")){let e=i.replace("tcnico","tecnico");if(this.post=await this.postService.getPostBySlug(e),this.post){this.updateMetaTags(this.post);return}}this.error="Entrada no encontrada"}}catch{this.error="Error al cargar la entrada"}finally{this.loading=!1,this.cdr.markForCheck()}}updateMetaTags(i){this.titleService.setTitle(`${i.title} | Arecofix`),i.meta_description&&this.metaService.updateTag({name:"description",content:i.meta_description}),i.meta_title&&this.metaService.updateTag({name:"title",content:i.meta_title})}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=y({type:a,selectors:[["app-post-page"]],decls:4,vars:1,consts:[[1,"min-h-screen","bg-white"],[1,"flex","justify-center","items-center","h-screen"],[1,"flex","flex-col","items-center","justify-center","h-[60vh]","text-center","px-4"],[1,"animate-spin","rounded-full","h-12","w-12","border-t-2","border-b-2","border-indigo-600"],[1,"bg-red-50","p-4","rounded-full","mb-4"],[1,"fas","fa-exclamation-triangle","text-red-500","text-2xl"],[1,"text-2xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-500","mb-6"],["routerLink","/",1,"px-6","py-3","bg-indigo-600","hover:bg-indigo-700","text-white","font-medium","rounded-full","transition-colors"],[1,"relative","h-[40vh]","md:h-[50vh]","w-full","overflow-hidden"],[1,"bg-gray-900","py-20","md:py-32"],[1,"container","mx-auto","px-4","max-w-3xl","py-12","md:py-20"],[1,"prose","prose-lg","md:prose-xl","prose-indigo","mx-auto","text-gray-700","leading-relaxed",3,"innerHTML"],[1,"mt-16","pt-8","border-t","border-gray-200"],[1,"flex","flex-col","md:flex-row","justify-between","items-center","gap-6"],[1,"text-gray-500","font-medium"],[1,"flex","gap-4"],[1,"w-10","h-10","rounded-full","bg-[#25D366]","text-white","flex","items-center","justify-center","hover:opacity-90","transition-opacity"],[1,"fab","fa-whatsapp","text-xl"],[1,"w-10","h-10","rounded-full","bg-[#1877F2]","text-white","flex","items-center","justify-center","hover:opacity-90","transition-opacity"],[1,"fab","fa-facebook-f"],[1,"w-10","h-10","rounded-full","bg-[#1DA1F2]","text-white","flex","items-center","justify-center","hover:opacity-90","transition-opacity"],[1,"fab","fa-twitter"],[1,"absolute","inset-0","bg-black/40","z-10"],[1,"w-full","h-full","object-cover",3,"src","alt"],[1,"absolute","inset-0","z-20","flex","items-end","pb-12","md:pb-20"],[1,"container","mx-auto","px-4","max-w-4xl"],["routerLink","/",1,"inline-flex","items-center","text-white/80","hover:text-white","mb-6","transition-colors","text-sm","font-medium","backdrop-blur-sm","bg-black/20","px-3","py-1","rounded-full"],[1,"fas","fa-arrow-left","mr-2"],[1,"text-3xl","md:text-5xl","lg:text-6xl","font-bold","text-white","leading-tight","drop-shadow-lg","mb-4"],[1,"flex","items-center","text-white/90","text-sm","md:text-base","font-medium"],[1,"bg-indigo-600","px-3","py-1","rounded-full","text-xs","uppercase","tracking-wider","mr-4"],[1,"far","fa-calendar-alt","mr-2"],["routerLink","/",1,"inline-flex","items-center","text-white/80","hover:text-white","mb-8","transition-colors","text-sm","font-medium"],[1,"text-3xl","md:text-5xl","lg:text-6xl","font-bold","text-white","leading-tight","mb-6"],[1,"flex","items-center","text-gray-400","text-sm","md:text-base"]],template:function(e,c){e&1&&(t(0,"div",0),p(1,D,2,0,"div",1)(2,I,9,1,"div",2)(3,L,16,2,"article"),n()),e&2&&(l(),x(c.loading?1:c.error?2:c.post?3:-1))},dependencies:[E,w],encapsulation:2,changeDetection:0})};export{k as PostPage};
