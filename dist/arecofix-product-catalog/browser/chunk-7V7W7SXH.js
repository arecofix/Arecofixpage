import{a as w}from"./chunk-W45Y4OEE.js";import{a as q}from"./chunk-WBGVTRZR.js";import{a as b,b as I,c as M,d as E,e as L}from"./chunk-SYKQORJB.js";import{b as D,d as T}from"./chunk-4UBGR43O.js";import{A as _,Aa as h,I as c,J as p,K as v,M as C,N as y,O as s,P as S,Q as x,R as o,W as d,c as n,d as l,f,ka as R,l as r,va as F,x as P}from"./chunk-B4RJA4TY.js";import{c as g}from"./chunk-7CGTOI24.js";function A(e,t){e&1&&o(0,"is-loading")}function N(e,t){e&1&&o(0,"is-empty")}function V(e,t){e&1&&o(0,"is-error")}function j(e,t){if(e&1&&o(0,"pagination",0),e&2){let i=d(2);s("pages",i.productsRs.value().pages)("currentPage",i.paginationService.currentPage())}}function k(e,t){if(e&1&&o(0,"product-card",3),e&2){let i=t.$implicit;s("product",i)}}function B(e,t){if(e&1&&(c(0,j,1,2,"pagination",0),o(1,"div",1),S(2,"div",2),C(3,k,1,1,"product-card",3,v),x()),e&2){let i=d();p(i.paginationData()?0:-1),P(3),y(i.productsRs.value().data)}}var u=class e{route=r(h);categoryService=r(T);productService=r(q);paginationService=r(b);productsRs=D({stream:()=>l([this.route.params.pipe(n(({categorySlug:t})=>t)),this.route.queryParams.pipe(n(t=>+t._page||1))]).pipe(f(([t,i])=>this.productService.getData({featured:!0,_page:i})))});paginationData=R(()=>{let t=this.productsRs.value();if(!t)return null;let m=t,{data:i}=m;return g(m,["data"])});static \u0275fac=function(i){return new(i||e)};static \u0275cmp=_({type:e,selectors:[["products-by-category-page"]],decls:4,vars:1,consts:[[3,"pages","currentPage"],[1,"divider"],[1,"grid","grid-cols-1","md:grid-cols-3","xl:grid-cols-5","gap-4","p-4"],[3,"product"]],template:function(i,a){i&1&&c(0,A,1,0,"is-loading")(1,N,1,0,"is-empty")(2,V,1,0,"is-error")(3,B,5,1),i&2&&p(a.productsRs.isLoading()?0:a.productsRs.hasValue()?a.productsRs.error()?2:a.productsRs.hasValue()?3:-1:1)},dependencies:[M,E,L,w,I,F],encapsulation:2,changeDetection:0})},oe=u;export{u as ProductsFeaturedPage,oe as default};
