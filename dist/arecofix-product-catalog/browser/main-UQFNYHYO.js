import{$ as Cn,A as iu,Aa as ks,B as An,Ba as mu,C as su,Ca as Ns,D as _e,Da as gu,E as Ts,Ea as Vs,F as bs,Fa as Os,G as As,H as ou,Ia as _u,J as nt,Ja as Lr,K as Ss,Ka as yu,L as J,M as qt,Ma as vu,N as Cs,Na as Iu,O as Te,P as rt,Pa as wu,Q as au,Qa as Eu,R as Sn,S as De,Sa as Tu,T as cu,Ta as bu,U as uu,Ua as Au,Wa as Su,a as _s,aa as $,b as Qc,ba as G,c as Yc,ca as ye,d as Jc,e as ys,f as vs,g as Is,ga as Rn,h as Xc,ha as Rs,i as Zc,ja as Ps,k as eu,la as X,m as Mr,ma as Ds,n as bn,na as lu,o as ws,oa as hu,p as Es,pa as du,q as ge,qa as fu,r as tt,ra as Pn,s as $t,t as tu,u as Fr,va as pu,wa as it,x as nu,xa as Dn,y as ru,z as Et}from"./chunk-EVIY4IUP.js";import{a as M,b as H,c as Kc}from"./chunk-7CGTOI24.js";var Cu=[{title:"Home",path:"",loadChildren:()=>import("./chunk-4MFB4RFF.js")}];var Ru=()=>{};var ku=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},xf=function(n){let e=[],t=0,r=0;for(;t<n.length;){let s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){let a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){let a=n[t++],u=n[t++],h=n[t++],d=((s&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{let a=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},Ur={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){let a=n[s],u=s+1<n.length,h=u?n[s+1]:0,d=s+2<n.length,y=d?n[s+2]:0,b=a>>2,A=(a&3)<<4|h>>4,T=(h&15)<<2|y>>6,P=y&63;d||(P=64,u||(T=64)),r.push(t[b],t[A],t[T],t[P])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(ku(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):xf(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){let a=t[n.charAt(s++)],h=s<n.length?t[n.charAt(s)]:0;++s;let y=s<n.length?t[n.charAt(s)]:64;++s;let A=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||h==null||y==null||A==null)throw new Ms;let T=a<<2|h>>4;if(r.push(T),y!==64){let P=h<<4&240|y>>2;if(r.push(P),A!==64){let C=y<<6&192|A;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Ms=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Mf=function(n){let e=ku(n);return Ur.encodeByteArray(e,!0)},Nn=function(n){return Mf(n).replace(/\./g,"")},Br=function(n){try{return Ur.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Ls(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Ff=()=>Ls().__FIREBASE_DEFAULTS__,Lf=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Uf=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Br(n[1]);return e&&JSON.parse(e)},Us=()=>{try{return Ru()||Ff()||Lf()||Uf()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Bs=n=>{var e,t;return(t=(e=Us())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Nu=n=>{let e=Bs(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},js=()=>{var n;return(n=Us())===null||n===void 0?void 0:n.config},$s=n=>{var e;return(e=Us())===null||e===void 0?void 0:e[`_${n}`]};var Tt=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function bt(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function jr(n){return(await fetch(n,{credentials:"include"})).ok}function Vu(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Nn(JSON.stringify(t)),Nn(JSON.stringify(u)),""].join(".")}var kn={};function Bf(){let n={prod:[],emulator:[]};for(let e of Object.keys(kn))kn[e]?n.emulator.push(e):n.prod.push(e);return n}function jf(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var Pu=!1;function $r(n,e){if(typeof window>"u"||typeof document>"u"||!bt(window.location.host)||kn[n]===e||kn[n]||Pu)return;kn[n]=e;function t(T){return`__firebase__banner__${T}`}let r="__firebase__banner",a=Bf().prod.length>0;function u(){let T=document.getElementById(r);T&&T.remove()}function h(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function d(T,P){T.setAttribute("width","24"),T.setAttribute("id",P),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function y(){let T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{Pu=!0,u()},T}function b(T,P){T.setAttribute("id",P),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function A(){let T=jf(r),P=t("text"),C=document.getElementById(P)||document.createElement("span"),N=t("learnmore"),R=document.getElementById(N)||document.createElement("a"),k=t("preprendIcon"),U=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){let z=T.element;h(z),b(R,N);let oe=y();d(U,k),z.append(U,C,R,oe),document.body.appendChild(z)}a?(C.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function Z(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ou(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Z())}function xu(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Mu(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Fu(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Lu(){let n=Z();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Vn(){try{return typeof indexedDB=="object"}catch{return!1}}function Uu(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}var $f="FirebaseError",pe=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=$f,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,be.prototype.create)}},be=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?qf(a,r):"Error",h=`${this.serviceName}: ${u} (${s}).`;return new pe(s,h,r)}};function qf(n,e){return n.replace(zf,(t,r)=>{let s=e[r];return s!=null?String(s):`<${r}?>`})}var zf=/\{\$([^}]+)}/g;function Bu(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ke(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let s of t){if(!r.includes(s))return!1;let a=n[s],u=e[s];if(Du(a)&&Du(u)){if(!ke(a,u))return!1}else if(a!==u)return!1}for(let s of r)if(!t.includes(s))return!1;return!0}function Du(n){return n!==null&&typeof n=="object"}function On(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ju(n,e){let t=new Fs(n,e);return t.subscribe.bind(t)}var Fs=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Gf(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=xs),s.error===void 0&&(s.error=xs),s.complete===void 0&&(s.complete=xs);let a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Gf(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function xs(){}var AI=4*60*60*1e3;function $e(n){return n&&n._delegate?n._delegate:n}var ue=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var At="[DEFAULT]";var qs=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Tt;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),s=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Hf(e))try{this.getOrInitializeService({instanceIdentifier:At})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let s=this.normalizeInstanceIdentifier(t);try{let a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=At){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=At){return this.instances.has(e)}getOptions(e=At){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[a,u]of this.instancesDeferred.entries()){let h=this.normalizeInstanceIdentifier(a);r===h&&u.resolve(s)}return s}onInit(e,t){var r;let s=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);let u=this.instances.get(s);return u&&e(u,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Wf(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=At){return this.component?this.component.multipleInstances?e:At:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Wf(n){return n===At?void 0:n}function Hf(n){return n.instantiationMode==="EAGER"}var qr=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new qs(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var Kf=[],L=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(L||{}),Qf={debug:L.DEBUG,verbose:L.VERBOSE,info:L.INFO,warn:L.WARN,error:L.ERROR,silent:L.SILENT},Yf=L.INFO,Jf={[L.DEBUG]:"log",[L.VERBOSE]:"log",[L.INFO]:"info",[L.WARN]:"warn",[L.ERROR]:"error"},Xf=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),s=Jf[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Ne=class{constructor(e){this.name=e,this._logLevel=Yf,this._logHandler=Xf,this._userLogHandler=null,Kf.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in L))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Qf[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,L.DEBUG,...e),this._logHandler(this,L.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,L.VERBOSE,...e),this._logHandler(this,L.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,L.INFO,...e),this._logHandler(this,L.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,L.WARN,...e),this._logHandler(this,L.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,L.ERROR,...e),this._logHandler(this,L.ERROR,...e)}};var Zf=(n,e)=>e.some(t=>n instanceof t),$u,qu;function ep(){return $u||($u=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tp(){return qu||(qu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var zu=new WeakMap,Gs=new WeakMap,Gu=new WeakMap,zs=new WeakMap,Hs=new WeakMap;function np(n){let e=new Promise((t,r)=>{let s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Ve(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&zu.set(t,n)}).catch(()=>{}),Hs.set(e,n),e}function rp(n){if(Gs.has(n))return;let e=new Promise((t,r)=>{let s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});Gs.set(n,e)}var Ws={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Gs.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Gu.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ve(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Wu(n){Ws=n(Ws)}function ip(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(zr(this),e,...t);return Gu.set(r,e.sort?e.sort():[e]),Ve(r)}:tp().includes(n)?function(...e){return n.apply(zr(this),e),Ve(zu.get(this))}:function(...e){return Ve(n.apply(zr(this),e))}}function sp(n){return typeof n=="function"?ip(n):(n instanceof IDBTransaction&&rp(n),Zf(n,ep())?new Proxy(n,Ws):n)}function Ve(n){if(n instanceof IDBRequest)return np(n);if(zs.has(n))return zs.get(n);let e=sp(n);return e!==n&&(zs.set(n,e),Hs.set(e,n)),e}var zr=n=>Hs.get(n);function Ku(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){let u=indexedDB.open(n,e),h=Ve(u);return r&&u.addEventListener("upgradeneeded",d=>{r(Ve(u.result),d.oldVersion,d.newVersion,Ve(u.transaction),d)}),t&&u.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),h.then(d=>{a&&d.addEventListener("close",()=>a()),s&&d.addEventListener("versionchange",y=>s(y.oldVersion,y.newVersion,y))}).catch(()=>{}),h}var op=["get","getKey","getAll","getAllKeys","count"],ap=["put","add","delete","clear"],Ks=new Map;function Hu(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Ks.get(e))return Ks.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,s=ap.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||op.includes(t)))return;let a=async function(u,...h){let d=this.transaction(u,s?"readwrite":"readonly"),y=d.store;return r&&(y=y.index(h.shift())),(await Promise.all([y[t](...h),s&&d.done]))[0]};return Ks.set(e,a),a}Wu(n=>H(M({},n),{get:(e,t,r)=>Hu(e,t)||n.get(e,t,r),has:(e,t)=>!!Hu(e,t)||n.has(e,t)}));var Ys=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(cp(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function cp(n){let e=n.getComponent();return e?.type==="VERSION"}var Js="@firebase/app",Qu="0.13.2";var qe=new Ne("@firebase/app"),up="@firebase/app-compat",lp="@firebase/analytics-compat",hp="@firebase/analytics",dp="@firebase/app-check-compat",fp="@firebase/app-check",pp="@firebase/auth",mp="@firebase/auth-compat",gp="@firebase/database",_p="@firebase/data-connect",yp="@firebase/database-compat",vp="@firebase/functions",Ip="@firebase/functions-compat",wp="@firebase/installations",Ep="@firebase/installations-compat",Tp="@firebase/messaging",bp="@firebase/messaging-compat",Ap="@firebase/performance",Sp="@firebase/performance-compat",Cp="@firebase/remote-config",Rp="@firebase/remote-config-compat",Pp="@firebase/storage",Dp="@firebase/storage-compat",kp="@firebase/firestore",Np="@firebase/ai",Vp="@firebase/firestore-compat",Op="firebase",xp="11.10.0";var Xs="[DEFAULT]",Mp={[Js]:"fire-core",[up]:"fire-core-compat",[hp]:"fire-analytics",[lp]:"fire-analytics-compat",[fp]:"fire-app-check",[dp]:"fire-app-check-compat",[pp]:"fire-auth",[mp]:"fire-auth-compat",[gp]:"fire-rtdb",[_p]:"fire-data-connect",[yp]:"fire-rtdb-compat",[vp]:"fire-fn",[Ip]:"fire-fn-compat",[wp]:"fire-iid",[Ep]:"fire-iid-compat",[Tp]:"fire-fcm",[bp]:"fire-fcm-compat",[Ap]:"fire-perf",[Sp]:"fire-perf-compat",[Cp]:"fire-rc",[Rp]:"fire-rc-compat",[Pp]:"fire-gcs",[Dp]:"fire-gcs-compat",[kp]:"fire-fst",[Vp]:"fire-fst-compat",[Np]:"fire-vertex","fire-js":"fire-js",[Op]:"fire-js-all"};var xn=new Map,Fp=new Map,Zs=new Map;function Yu(n,e){try{n.container.addComponent(e)}catch(t){qe.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ae(n){let e=n.name;if(Zs.has(e))return qe.debug(`There were multiple attempts to register component ${e}.`),!1;Zs.set(e,n);for(let t of xn.values())Yu(t,n);for(let t of Fp.values())Yu(t,n);return!0}function zt(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ve(n){return n==null?!1:n.settings!==void 0}var Lp={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},st=new be("app","Firebase",Lp);var eo=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ue("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw st.create("app-deleted",{appName:this._name})}};var ot=xp;function ro(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Xs,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw st.create("bad-app-name",{appName:String(s)});if(t||(t=js()),!t)throw st.create("no-options");let a=xn.get(s);if(a){if(ke(t,a.options)&&ke(r,a.config))return a;throw st.create("duplicate-app",{appName:s})}let u=new qr(s);for(let d of Zs.values())u.addComponent(d);let h=new eo(t,r,u);return xn.set(s,h),h}function St(n=Xs){let e=xn.get(n);if(!e&&n===Xs&&js())return ro();if(!e)throw st.create("no-app",{appName:n});return e}function Gr(){return Array.from(xn.values())}function K(n,e,t){var r;let s=(r=Mp[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);let a=s.match(/\s|\//),u=e.match(/\s|\//);if(a||u){let h=[`Unable to register library "${s}" with version "${e}":`];a&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qe.warn(h.join(" "));return}Ae(new ue(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}var Up="firebase-heartbeat-database",Bp=1,Mn="firebase-heartbeat-store",Qs=null;function el(){return Qs||(Qs=Ku(Up,Bp,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Mn)}catch(t){console.warn(t)}}}}).catch(n=>{throw st.create("idb-open",{originalErrorMessage:n.message})})),Qs}async function jp(n){try{let t=(await el()).transaction(Mn),r=await t.objectStore(Mn).get(tl(n));return await t.done,r}catch(e){if(e instanceof pe)qe.warn(e.message);else{let t=st.create("idb-get",{originalErrorMessage:e?.message});qe.warn(t.message)}}}async function Ju(n,e){try{let r=(await el()).transaction(Mn,"readwrite");await r.objectStore(Mn).put(e,tl(n)),await r.done}catch(t){if(t instanceof pe)qe.warn(t.message);else{let r=st.create("idb-set",{originalErrorMessage:t?.message});qe.warn(r.message)}}}function tl(n){return`${n.name}!${n.options.appId}`}var $p=1024,qp=30,to=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new no(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{let s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Xu();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>qp){let u=Gp(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){qe.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=Xu(),{heartbeatsToSend:r,unsentEntries:s}=zp(this._heartbeatsCache.heartbeats),a=Nn(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return qe.warn(t),""}}};function Xu(){return new Date().toISOString().substring(0,10)}function zp(n,e=$p){let t=[],r=n.slice();for(let s of n){let a=t.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),Zu(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Zu(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var no=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Vn()?Uu().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let t=await jp(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){let s=await this.read();return Ju(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){let s=await this.read();return Ju(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}};function Zu(n){return Nn(JSON.stringify({version:2,heartbeats:n})).length}function Gp(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function Wp(n){Ae(new ue("platform-logger",e=>new Ys(e),"PRIVATE")),Ae(new ue("heartbeat",e=>new to(e),"PRIVATE")),K(Js,Qu,n),K(Js,Qu,"esm2017"),K("fire-js","")}Wp("");var Hp="firebase",Kp="11.10.0";K(Hp,Kp,"app");var at=new ks("ANGULARFIRE2_VERSION");function Fn(n,e,t){if(e){if(e.length===1)return e[0];let a=e.filter(u=>u.app===t);if(a.length===1)return a[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Wt=(n,e)=>{let t=e?[e]:Gr(),r=[];return t.forEach(s=>{s.container.getProvider(n).instances.forEach(u=>{r.includes(u)||r.push(u)})}),r},Gt=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(Gt||{}),nl=Ns()&&typeof Zone<"u"?Gt.WARN:Gt.SILENT;var Wr=class{zone;delegate;constructor(e,t=Jc){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let s=this.zone,a=function(u){s?s.runGuarded(()=>{e.apply(this,[u])}):e.apply(this,[u])};return this.delegate.schedule(a,t,r)}},ct=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=tt(De);this.outsideAngular=t.runOutsideAngular(()=>new Wr(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Wr(typeof Zone>"u"?void 0:Zone.current,Yc))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ws({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),rl=!1;function Qp(n,e){!rl&&(nl>Gt.SILENT||Ns())&&(rl=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),nl>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function Yp(n){let e=tt(De,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Ct(n){let e=tt(De,{optional:!0});return e?e.run(()=>n()):n()}var Jp=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Fr(t,()=>Ct(()=>n.apply(void 0,r)))),Rt=(n,e,t)=>(t||=e?Gt.WARN:Gt.VERBOSE,function(){let r,s=arguments,a,u,h;try{a=tt(ct),u=tt(su),h=tt(tu)}catch{return Qp(n,t),n.apply(this,s)}for(let y=0;y<arguments.length;y++)typeof s[y]=="function"&&(e&&(r||=Ct(()=>u.add())),s[y]=Jp(s[y],r,h));let d=Yp(()=>n.apply(this,s));return e?d instanceof _s?d.pipe(Is(a.outsideAngular),vs(a.insideAngular),Su(h)):d instanceof Promise?Ct(()=>{let y=u.add();return new Promise((b,A)=>{d.then(T=>Fr(h,()=>Ct(()=>b(T))),T=>Fr(h,()=>Ct(()=>A(T)))).finally(y)})}):typeof d=="function"&&r?function(){return setTimeout(r,0),d.apply(this,arguments)}:Ct(()=>d):d instanceof _s?d.pipe(Is(a.outsideAngular),vs(a.insideAngular)):Ct(()=>d)});var ze=class{constructor(e){return e}},Pt=class{constructor(){return Gr()}};function Xp(n){return n&&n.length===1?n[0]:new ze(St())}var io=new ge("angularfire2._apps"),Zp={provide:ze,useFactory:Xp,deps:[[new _e,io]]},em={provide:Pt,deps:[[new _e,io]]};function tm(n){return(e,t)=>{let r=t.get(ou);K("angularfire",at.full,"core"),K("angularfire",at.full,"app"),K("angular",mu.full,r.toString());let s=e.runOutsideAngular(()=>n(t));return new ze(s)}}function il(n,...e){return $t([Zp,em,{provide:io,useFactory:tm(n),multi:!0,deps:[De,Et,ct,...e]}])}var sl=Rt(ro,!0);var nm=new Map,rm={activated:!1,tokenObservers:[]},im={initialized:!1,enabled:!1};function Se(n){return nm.get(n)||Object.assign({},rm)}function ul(){return im}var sm="https://content-firebaseappcheck.googleapis.com/v1";var om="exchangeDebugToken",ol={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},yw=24*60*60*1e3;var ao=class{constructor(e,t,r,s,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=s,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=s,s>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new Tt,this.pending.promise.catch(t=>{}),await am(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new Tt,this.pending.promise.catch(t=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function am(n){return new Promise(e=>{setTimeout(e,n)})}var cm={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},ut=new be("appCheck","AppCheck",cm);function ll(n){if(!Se(n).activated)throw ut.create("use-before-activation",{appName:n.name})}async function hl({url:n,body:e},t){let r={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let A=await s.getHeartbeatsHeader();A&&(r["X-Firebase-Client"]=A)}let a={method:"POST",body:JSON.stringify(e),headers:r},u;try{u=await fetch(n,a)}catch(A){throw ut.create("fetch-network-error",{originalErrorMessage:A?.message})}if(u.status!==200)throw ut.create("fetch-status-error",{httpStatus:u.status});let h;try{h=await u.json()}catch(A){throw ut.create("fetch-parse-error",{originalErrorMessage:A?.message})}let d=h.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw ut.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});let y=Number(d[1])*1e3,b=Date.now();return{token:h.token,expireTimeMillis:b+y,issuedAtTimeMillis:b}}function dl(n,e){let{projectId:t,appId:r,apiKey:s}=n.options;return{url:`${sm}/projects/${t}/apps/${r}:${om}?key=${s}`,body:{debug_token:e}}}var um="firebase-app-check-database",lm=1,co="firebase-app-check-store";var Kr=null;function hm(){return Kr||(Kr=new Promise((n,e)=>{try{let t=indexedDB.open(um,lm);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var s;e(ut.create("storage-open",{originalErrorMessage:(s=r.target.error)===null||s===void 0?void 0:s.message}))},t.onupgradeneeded=r=>{let s=r.target.result;switch(r.oldVersion){case 0:s.createObjectStore(co,{keyPath:"compositeKey"})}}}catch(t){e(ut.create("storage-open",{originalErrorMessage:t?.message}))}}),Kr)}function dm(n,e){return fm(pm(n),e)}async function fm(n,e){let r=(await hm()).transaction(co,"readwrite"),a=r.objectStore(co).put({compositeKey:n,value:e});return new Promise((u,h)=>{a.onsuccess=d=>{u()},r.onerror=d=>{var y;h(ut.create("storage-set",{originalErrorMessage:(y=d.target.error)===null||y===void 0?void 0:y.message}))}})}function pm(n){return`${n.options.appId}-${n.name}`}var Ln=new Ne("@firebase/app-check");function so(n,e){return Vn()?dm(n,e).catch(t=>{Ln.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function fl(){return ul().enabled}async function pl(){let n=ul();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}var mm={error:"UNKNOWN_ERROR"};function gm(n){return Ur.encodeString(JSON.stringify(n),!1)}async function uo(n,e=!1,t=!1){let r=n.app;ll(r);let s=Se(r),a=s.token,u;if(a&&!Un(a)&&(s.token=void 0,a=void 0),!a){let y=await s.cachedTokenPromise;y&&(Un(y)?a=y:await so(r,void 0))}if(!e&&a&&Un(a))return{token:a.token};let h=!1;if(fl())try{s.exchangeTokenPromise||(s.exchangeTokenPromise=hl(dl(r,await pl()),n.heartbeatServiceProvider).finally(()=>{s.exchangeTokenPromise=void 0}),h=!0);let y=await s.exchangeTokenPromise;return await so(r,y),s.token=y,{token:y.token}}catch(y){return y.code==="appCheck/throttled"||y.code==="appCheck/initial-throttle"?Ln.warn(y.message):t&&Ln.error(y),oo(y)}try{s.exchangeTokenPromise||(s.exchangeTokenPromise=s.provider.getToken().finally(()=>{s.exchangeTokenPromise=void 0}),h=!0),a=await Se(r).exchangeTokenPromise}catch(y){y.code==="appCheck/throttled"||y.code==="appCheck/initial-throttle"?Ln.warn(y.message):t&&Ln.error(y),u=y}let d;return a?u?Un(a)?d={token:a.token,internalError:u}:d=oo(u):(d={token:a.token},s.token=a,await so(r,a)):d=oo(u),h&&Im(r,d),d}async function _m(n){let e=n.app;ll(e);let{provider:t}=Se(e);if(fl()){let r=await pl(),{token:s}=await hl(dl(e,r),n.heartbeatServiceProvider);return{token:s}}else{let{token:r}=await t.getToken();return{token:r}}}function ym(n,e,t,r){let{app:s}=n,a=Se(s),u={next:t,error:r,type:e};if(a.tokenObservers=[...a.tokenObservers,u],a.token&&Un(a.token)){let h=a.token;Promise.resolve().then(()=>{t({token:h.token}),al(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>al(n))}function ml(n,e){let t=Se(n),r=t.tokenObservers.filter(s=>s.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function al(n){let{app:e}=n,t=Se(e),r=t.tokenRefresher;r||(r=vm(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function vm(n){let{app:e}=n;return new ao(async()=>{let t=Se(e),r;if(t.token?r=await uo(n,!0):r=await uo(n),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{let t=Se(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,s=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,s),Math.max(0,r-Date.now())}else return 0},ol.RETRIAL_MIN_WAIT,ol.RETRIAL_MAX_WAIT)}function Im(n,e){let t=Se(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Un(n){return n.expireTimeMillis-Date.now()>0}function oo(n){return{token:gm(mm),error:n}}var lo=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Se(this.app);for(let t of e)ml(this.app,t.next);return Promise.resolve()}};function wm(n,e){return new lo(n,e)}function Em(n){return{getToken:e=>uo(n,e),getLimitedUseToken:()=>_m(n),addTokenListener:e=>ym(n,"INTERNAL",e),removeTokenListener:e=>ml(n.app,e)}}var Tm="@firebase/app-check",bm="0.10.1";var Am="app-check",cl="app-check-internal";function Sm(){Ae(new ue(Am,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return wm(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(cl).initialize()})),Ae(new ue(cl,n=>{let e=n.getProvider("app-check").getImmediate();return Em(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),K(Tm,bm)}Sm();var Cm="app-check";var Ht=class{constructor(){return Wt(Cm)}};var Rm=["localhost","0.0.0.0","127.0.0.1"],Dw=typeof window<"u"&&Rm.includes(window.location.hostname);function Dl(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var kl=Dl,Nl=new be("auth","Firebase",Dl());var ei=new Ne("@firebase/auth");function Pm(n,...e){ei.logLevel<=L.WARN&&ei.warn(`Auth (${ot}): ${n}`,...e)}function Yr(n,...e){ei.logLevel<=L.ERROR&&ei.error(`Auth (${ot}): ${n}`,...e)}function dt(n,...e){throw ko(n,...e)}function kt(n,...e){return ko(n,...e)}function Vl(n,e,t){let r=Object.assign(Object.assign({},kl()),{[e]:t});return new be("auth","Firebase",r).create(e,{appName:n.name})}function Dt(n){return Vl(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ko(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Nl.create(n,...e)}function D(n,e,...t){if(!n)throw ko(e,...t)}function Ge(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Yr(e),new Error(e)}function ft(n,e){n||Ge(e)}function mo(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Dm(){return gl()==="http:"||gl()==="https:"}function gl(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function km(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Dm()||Mu()||"connection"in navigator)?navigator.onLine:!0}function Nm(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Nt=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,ft(t>e,"Short delay should be less than long delay!"),this.isMobile=Ou()||Fu()}get(){return km()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function No(n,e){ft(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var ti=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ge("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ge("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ge("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Vm={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Om=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],xm=new Nt(3e4,6e4);function Vo(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Kt(n,e,t,r,s={}){return Ol(n,s,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});let h=On(Object.assign({key:n.config.apiKey},u)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);let y=Object.assign({method:e,headers:d},a);return xu()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&bt(n.emulatorConfig.host)&&(y.credentials="include"),ti.fetch()(await xl(n,n.config.apiHost,t,h),y)})}async function Ol(n,e,t){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},Vm),e);try{let s=new go(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();let u=await a.json();if("needConfirmation"in u)throw Qr(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{let h=a.ok?u.errorMessage:u.error.message,[d,y]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qr(n,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw Qr(n,"email-already-in-use",u);if(d==="USER_DISABLED")throw Qr(n,"user-disabled",u);let b=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Vl(n,b,y);dt(n,b)}}catch(s){if(s instanceof pe)throw s;dt(n,"network-request-failed",{message:String(s)})}}async function Mm(n,e,t,r,s={}){let a=await Kt(n,e,t,r,s);return"mfaPendingCredential"in a&&dt(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function xl(n,e,t,r){let s=`${e}${t}?${r}`,a=n,u=a.config.emulator?No(n.config,s):`${n.config.apiScheme}://${s}`;return Om.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}var go=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(kt(this.auth,"network-request-failed")),xm.get())})}};function Qr(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let s=kt(n,e,r);return s.customData._tokenResponse=t,s}async function Fm(n,e){return Kt(n,"POST","/v1/accounts:delete",e)}async function ni(n,e){return Kt(n,"POST","/v1/accounts:lookup",e)}function Bn(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Oo(n,e=!1){let t=$e(n),r=await t.getIdToken(e),s=xo(r);D(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");let a=typeof s.firebase=="object"?s.firebase:void 0,u=a?.sign_in_provider;return{claims:s,token:r,authTime:Bn(ho(s.auth_time)),issuedAtTime:Bn(ho(s.iat)),expirationTime:Bn(ho(s.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function ho(n){return Number(n)*1e3}function xo(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Yr("JWT malformed, contained fewer than 3 sections"),null;try{let s=Br(t);return s?JSON.parse(s):(Yr("Failed to decode base64 JWT payload"),null)}catch(s){return Yr("Caught error parsing JWT payload as JSON",s?.toString()),null}}function _l(n){let e=xo(n);return D(e,"internal-error"),D(typeof e.exp<"u","internal-error"),D(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function $n(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof pe&&Lm(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Lm({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var _o=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var qn=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bn(this.lastLoginAt),this.creationTime=Bn(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function ri(n){var e;let t=n.auth,r=await n.getIdToken(),s=await $n(n,ni(t,{idToken:r}));D(s?.users.length,t,"internal-error");let a=s.users[0];n._notifyReloadListener(a);let u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?Ml(a.providerUserInfo):[],h=Um(n.providerData,u),d=n.isAnonymous,y=!(n.email&&a.passwordHash)&&!h?.length,b=d?y:!1,A={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new qn(a.createdAt,a.lastLoginAt),isAnonymous:b};Object.assign(n,A)}async function Mo(n){let e=$e(n);await ri(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Um(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Ml(n){return n.map(e=>{var{providerId:t}=e,r=ys(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function Bm(n,e){let t=await Ol(n,{},async()=>{let r=On({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,u=await xl(n,s,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";let d={method:"POST",headers:h,body:r};return n.emulatorConfig&&bt(n.emulatorConfig.host)&&(d.credentials="include"),ti.fetch()(u,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function jm(n,e){return Kt(n,"POST","/v2/accounts:revokeToken",Vo(n,e))}var jn=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){D(e.idToken,"internal-error"),D(typeof e.idToken<"u","internal-error"),D(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_l(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){D(e.length!==0,"internal-error");let t=_l(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(D(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:r,refreshToken:s,expiresIn:a}=await Bm(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:s,expirationTime:a}=t,u=new n;return r&&(D(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(D(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),a&&(D(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Ge("not implemented")}};function lt(n,e){D(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var ht=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,a=ys(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _o(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new qn(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){let t=await $n(this,this.stsTokenManager.getToken(this.auth,e));return D(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Oo(this,e)}reload(){return Mo(this)}_assign(e){this!==e&&(D(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){D(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await ri(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ve(this.auth.app))return Promise.reject(Dt(this.auth));let e=await this.getIdToken();return await $n(this,Fm(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,a,u,h,d,y,b;let A=(r=t.displayName)!==null&&r!==void 0?r:void 0,T=(s=t.email)!==null&&s!==void 0?s:void 0,P=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,C=(u=t.photoURL)!==null&&u!==void 0?u:void 0,N=(h=t.tenantId)!==null&&h!==void 0?h:void 0,R=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,k=(y=t.createdAt)!==null&&y!==void 0?y:void 0,U=(b=t.lastLoginAt)!==null&&b!==void 0?b:void 0,{uid:z,emailVerified:oe,isAnonymous:Le,providerData:te,stsTokenManager:v}=t;D(z&&v,e,"internal-error");let f=jn.fromJSON(this.name,v);D(typeof z=="string",e,"internal-error"),lt(A,e.name),lt(T,e.name),D(typeof oe=="boolean",e,"internal-error"),D(typeof Le=="boolean",e,"internal-error"),lt(P,e.name),lt(C,e.name),lt(N,e.name),lt(R,e.name),lt(k,e.name),lt(U,e.name);let m=new n({uid:z,auth:e,email:T,emailVerified:oe,displayName:A,isAnonymous:Le,photoURL:C,phoneNumber:P,tenantId:N,stsTokenManager:f,createdAt:k,lastLoginAt:U});return te&&Array.isArray(te)&&(m.providerData=te.map(g=>Object.assign({},g))),R&&(m._redirectEventId=R),m}static async _fromIdTokenResponse(e,t,r=!1){let s=new jn;s.updateFromServerResponse(t);let a=new n({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await ri(a),a}static async _fromGetAccountInfoResponse(e,t,r){let s=t.users[0];D(s.localId!==void 0,"internal-error");let a=s.providerUserInfo!==void 0?Ml(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!a?.length,h=new jn;h.updateFromIdToken(r);let d=new n({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:u}),y={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new qn(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(d,y),d}};var yl=new Map;function We(n){ft(n instanceof Function,"Expected a class definition");let e=yl.get(n);return e?(ft(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,yl.set(n,e),e)}var $m=(()=>{class n{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){let r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),yo=$m;function Jr(n,e,t){return`firebase:${n}:${e}:${t}`}var ii=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:s,name:a}=this.auth;this.fullUserKey=Jr(this.userKey,s.apiKey,a),this.fullPersistenceKey=Jr("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=await ni(this.auth,{idToken:e}).catch(()=>{});return t?ht._fromGetAccountInfoResponse(this.auth,t,e):null}return ht._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new n(We(yo),e,r);let s=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y),a=s[0]||We(yo),u=Jr(r,e.config.apiKey,e.name),h=null;for(let y of t)try{let b=await y._get(u);if(b){let A;if(typeof b=="string"){let T=await ni(e,{idToken:b}).catch(()=>{});if(!T)break;A=await ht._fromGetAccountInfoResponse(e,T,b)}else A=ht._fromJSON(e,b);y!==a&&(h=A),a=y;break}}catch{}let d=s.filter(y=>y._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new n(a,e,r):(a=d[0],h&&await a._set(u,h.toJSON()),await Promise.all(t.map(async y=>{if(y!==a)try{await y._remove(u)}catch{}})),new n(a,e,r))}};function vl(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Bl(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Fl(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($l(e))return"Blackberry";if(ql(e))return"Webos";if(Ll(e))return"Safari";if((e.includes("chrome/")||Ul(e))&&!e.includes("edge/"))return"Chrome";if(jl(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function Fl(n=Z()){return/firefox\//i.test(n)}function Ll(n=Z()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ul(n=Z()){return/crios\//i.test(n)}function Bl(n=Z()){return/iemobile/i.test(n)}function jl(n=Z()){return/android/i.test(n)}function $l(n=Z()){return/blackberry/i.test(n)}function ql(n=Z()){return/webos/i.test(n)}function Fo(n=Z()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function qm(n=Z()){var e;return Fo(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function zm(){return Lu()&&document.documentMode===10}function zl(n=Z()){return Fo(n)||jl(n)||ql(n)||$l(n)||/windows phone/i.test(n)||Bl(n)}function Gl(n,e=[]){let t;switch(n){case"Browser":t=vl(Z());break;case"Worker":t=`${vl(Z())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ot}/${r}`}var vo=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=a=>new Promise((u,h)=>{try{let d=e(a);u(d)}catch(d){h(d)}});r.onAbort=t,this.queue.push(r);let s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function Gm(n,e={}){return Kt(n,"GET","/v2/passwordPolicy",Vo(n,e))}var Wm=6,Io=class{constructor(e){var t,r,s,a;let u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:Wm,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,a,u,h;let d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(s=d.containsLowercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(a=d.containsUppercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(u=d.containsNumericCharacter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}};var wo=class{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new si(this),this.idTokenSubscription=new si(this),this.beforeStateQueue=new vo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Nl,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=We(t)),this._initializationPromise=this.queue(async()=>{var r,s,a;if(!this._deleted&&(this.persistenceManager=await ii.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await ni(this,{idToken:e}),r=await ht._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ve(this.app)){let u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}let r=await this.assertedPersistence.getCurrentUser(),s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=s?._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===h)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return D(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ri(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Nm()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ve(this.app))return Promise.reject(Dt(this));let t=e?$e(e):null;return t&&D(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&D(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ve(this.app)?Promise.reject(Dt(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ve(this.app)?Promise.reject(Dt(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(We(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await Gm(this),t=new Io(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new be("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await jm(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){let r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&We(e)||this._popupRedirectResolver;D(t,this,"argument-error"),this.redirectPersistenceManager=await ii.create(this,[We(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};let a=typeof t=="function"?t:t.next.bind(t),u=!1,h=this._isInitialized?Promise.resolve():this._initializationPromise;if(D(h,this,"internal-error"),h.then(()=>{u||a(this.currentUser)}),typeof t=="function"){let d=e.addObserver(t,r,s);return()=>{u=!0,d()}}else{let d=e.addObserver(t);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return D(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Gl(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);let s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(ve(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&Pm(`Error while retrieving App Check token: ${t.error}`),t?.token}};function Lo(n){return $e(n)}var si=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=ju(t=>this.observer=t)}get next(){return D(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Uo={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Hm(n){Uo=n}function Km(n){return Uo.loadJS(n)}function Qm(){return Uo.gapiScript}function Wl(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function Bo(n,e){let t=zt(n,"auth");if(t.isInitialized()){let s=t.getImmediate(),a=t.getOptions();if(ke(a,e??{}))return s;dt(s,"already-initialized")}return t.initialize({options:e})}function Ym(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(We);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function jo(n,e,t){let r=Lo(n);D(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let s=!!t?.disableWarnings,a=Hl(e),{host:u,port:h}=Jm(e),d=h===null?"":`:${h}`,y={url:`${a}//${u}${d}/`},b=Object.freeze({host:u,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){D(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),D(ke(y,r.config.emulator)&&ke(b,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=b,r.settings.appVerificationDisabledForTesting=!0,bt(u)?(jr(`${a}//${u}${d}`),$r("Auth",!0)):s||Xm()}function Hl(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Jm(n){let e=Hl(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){let a=s[1];return{host:a,port:Il(r.substr(a.length+1))}}else{let[a,u]=r.split(":");return{host:a,port:Il(u)}}}function Il(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function Xm(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var oi=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ge("not implemented")}_getIdTokenResponse(e){return Ge("not implemented")}_linkToIdToken(e,t){return Ge("not implemented")}_getReauthenticationResolver(e){return Ge("not implemented")}};async function fo(n,e){return Mm(n,"POST","/v1/accounts:signInWithIdp",Vo(n,e))}var ai=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Eo=class extends ai{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var zn=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){let a=await ht._fromIdTokenResponse(e,r,s),u=wl(r);return new n({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);let s=wl(r);return new n({user:e,providerId:s,_tokenResponse:r,operationType:t})}};function wl(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var To=class n extends pe{constructor(e,t,r,s){var a;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new n(e,t,r,s)}};function Kl(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?To._fromErrorAndOperation(n,a,e,r):a})}async function Zm(n,e,t=!1){let r=await $n(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return zn._forOperation(n,"link",r)}async function eg(n,e,t=!1){let{auth:r}=n;if(ve(r.app))return Promise.reject(Dt(r));let s="reauthenticate";try{let a=await $n(n,Kl(r,s,e,n),t);D(a.idToken,r,"internal-error");let u=xo(a.idToken);D(u,r,"internal-error");let{sub:h}=u;return D(n.uid===h,r,"user-mismatch"),zn._forOperation(n,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&dt(r,"user-mismatch"),a}}async function tg(n,e,t=!1){if(ve(n.app))return Promise.reject(Dt(n));let r="signIn",s=await Kl(n,r,e),a=await zn._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}function $o(n,e,t,r){return $e(n).onIdTokenChanged(e,t,r)}function qo(n,e,t){return $e(n).beforeAuthStateChanged(e,t)}var ci="__sak";var ui=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ci,"1"),this.storage.removeItem(ci),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var ng=1e3,rg=10,ig=(()=>{class n extends ui{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zl(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let s=this.storage.getItem(r),a=this.localCache[r];s!==a&&t(r,a,s)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((h,d,y)=>{this.notifyListeners(h,y)});return}let s=t.key;r?this.detachListener():this.stopPolling();let a=()=>{let h=this.storage.getItem(s);!r&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);zm()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,rg):a()}notifyListeners(t,r){this.localCache[t]=r;let s=this.listeners[t];if(s)for(let a of Array.from(s))a(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:s}),!0)})},ng)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){let r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}return n.type="LOCAL",n})(),Ql=ig;var sg=(()=>{class n extends ui{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),zo=sg;function og(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}var ag=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(a=>a.isListeningto(t));if(r)return r;let s=new n(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){let r=t,{eventId:s,eventType:a,data:u}=r.data,h=this.handlersMap[a];if(!h?.size)return;r.ports[0].postMessage({status:"ack",eventId:s,eventType:a});let d=Array.from(h).map(async b=>b(r.origin,u)),y=await og(d);r.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:y})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function Yl(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var bo=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){let s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((h,d)=>{let y=Yl("",20);s.port1.start();let b=setTimeout(()=>{d(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(A){let T=A;if(T.data.eventId===y)switch(T.data.status){case"ack":clearTimeout(b),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(T.data.response);break;default:clearTimeout(b),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}};function Oe(){return window}function cg(n){Oe().location.href=n}function Jl(){return typeof Oe().WorkerGlobalScope<"u"&&typeof Oe().importScripts=="function"}async function ug(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lg(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function hg(){return Jl()?self:null}var Xl="firebaseLocalStorageDb",dg=1,li="firebaseLocalStorage",Zl="fbase_key",Vt=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function di(n,e){return n.transaction([li],e?"readwrite":"readonly").objectStore(li)}function fg(){let n=indexedDB.deleteDatabase(Xl);return new Vt(n).toPromise()}function Ao(){let n=indexedDB.open(Xl,dg);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(li,{keyPath:Zl})}catch(s){t(s)}}),n.addEventListener("success",async()=>{let r=n.result;r.objectStoreNames.contains(li)?e(r):(r.close(),await fg(),e(await Ao()))})})}async function El(n,e,t){let r=di(n,!0).put({[Zl]:e,value:t});return new Vt(r).toPromise()}async function pg(n,e){let t=di(n,!1).get(e),r=await new Vt(t).toPromise();return r===void 0?null:r.value}function Tl(n,e){let t=di(n,!0).delete(e);return new Vt(t).toPromise()}var mg=800,gg=3,_g=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ao(),this.db)}async _withRetries(t){let r=0;for(;;)try{let s=await this._openDb();return await t(s)}catch(s){if(r++>gg)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Jl()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ag._getInstance(hg()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await ug(),!this.activeServiceWorker)return;this.sender=new bo(this.activeServiceWorker);let s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((r=s[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||lg()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let t=await Ao();return await El(t,ci,"1"),await Tl(t,ci),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(s=>El(s,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){let r=await this._withRetries(s=>pg(s,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Tl(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){let t=await this._withRetries(a=>{let u=di(a,!1).getAll();return new Vt(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],s=new Set;if(t.length!==0)for(let{fbase_key:a,value:u}of t)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(u)&&(this.notifyListeners(a,u),r.push(a));for(let a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),r.push(a));return r}notifyListeners(t,r){this.localCache[t]=r;let s=this.listeners[t];if(s)for(let a of Array.from(s))a(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mg)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),eh=_g;var Bw=Wl("rcb"),jw=new Nt(3e4,6e4);function yg(n,e){return e?We(e):(D(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Gn=class extends oi{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return fo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return fo(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function vg(n){return tg(n.auth,new Gn(n),n.bypassAuthState)}function Ig(n){let{auth:e,user:t}=n;return D(t,e,"internal-error"),eg(t,new Gn(n),n.bypassAuthState)}async function wg(n){let{auth:e,user:t}=n;return D(t,e,"internal-error"),Zm(t,new Gn(n),n.bypassAuthState)}var So=class{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:u,type:h}=e;if(u){this.reject(u);return}let d={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vg;case"linkViaPopup":case"linkViaRedirect":return wg;case"reauthViaPopup":case"reauthViaRedirect":return Ig;default:dt(this.auth,"internal-error")}}resolve(e){ft(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ft(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var $w=new Nt(2e3,1e4);var Eg="pendingRedirect",Xr=new Map,Co=class extends So{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Xr.get(this.auth._key());if(!e){try{let r=await Tg(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Xr.set(this.auth._key(),e)}return this.bypassAuthState||Xr.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function Tg(n,e){let t=Sg(e),r=Ag(n);if(!await r._isAvailable())return!1;let s=await r._get(t)==="true";return await r._remove(t),s}function bg(n,e){Xr.set(n._key(),e)}function Ag(n){return We(n._redirectPersistence)}function Sg(n){return Jr(Eg,n.config.apiKey,n.name)}async function Cg(n,e,t=!1){if(ve(n.app))return Promise.reject(Dt(n));let r=Lo(n),s=yg(r,e),u=await new Co(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}var Rg=10*60*1e3,Ro=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Pg(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!th(e)){let s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(kt(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Rg&&this.cachedEventUids.clear(),this.cachedEventUids.has(bl(e))}saveEventToCache(e){this.cachedEventUids.add(bl(e)),this.lastProcessedEventTime=Date.now()}};function bl(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function th({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function Pg(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return th(n);default:return!1}}async function Dg(n,e={}){return Kt(n,"GET","/v1/projects",e)}var kg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ng=/^https?/;async function Vg(n){if(n.config.emulator)return;let{authorizedDomains:e}=await Dg(n);for(let t of e)try{if(Og(t))return}catch{}dt(n,"unauthorized-domain")}function Og(n){let e=mo(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!Ng.test(t))return!1;if(kg.test(n))return r===n;let s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}var xg=new Nt(3e4,6e4);function Al(){let n=Oe().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Mg(n){return new Promise((e,t)=>{var r,s,a;function u(){Al(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Al(),t(kt(n,"network-request-failed"))},timeout:xg.get()})}if(!((s=(r=Oe().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=Oe().gapi)===null||a===void 0)&&a.load)u();else{let h=Wl("iframefcb");return Oe()[h]=()=>{gapi.load?u():t(kt(n,"network-request-failed"))},Km(`${Qm()}?onload=${h}`).catch(d=>t(d))}}).catch(e=>{throw Zr=null,e})}var Zr=null;function Fg(n){return Zr=Zr||Mg(n),Zr}var Lg=new Nt(5e3,15e3),Ug="__/auth/iframe",Bg="emulator/auth/iframe",jg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$g=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qg(n){let e=n.config;D(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?No(e,Bg):`https://${n.config.authDomain}/${Ug}`,r={apiKey:e.apiKey,appName:n.name,v:ot},s=$g.get(n.config.apiHost);s&&(r.eid=s);let a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${On(r).slice(1)}`}async function zg(n){let e=await Fg(n),t=Oe().gapi;return D(t,n,"internal-error"),e.open({where:document.body,url:qg(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jg,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});let u=kt(n,"network-request-failed"),h=Oe().setTimeout(()=>{a(u)},Lg.get());function d(){Oe().clearTimeout(h),s(r)}r.ping(d).then(d,()=>{a(u)})}))}var Gg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Wg=500,Hg=600,Kg="_blank",Qg="http://localhost",hi=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Yg(n,e,t,r=Wg,s=Hg){let a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString(),h="",d=Object.assign(Object.assign({},Gg),{width:r.toString(),height:s.toString(),top:a,left:u}),y=Z().toLowerCase();t&&(h=Ul(y)?Kg:t),Fl(y)&&(e=e||Qg,d.scrollbars="yes");let b=Object.entries(d).reduce((T,[P,C])=>`${T}${P}=${C},`,"");if(qm(y)&&h!=="_self")return Jg(e||"",h),new hi(null);let A=window.open(e||"",h,b);D(A,n,"popup-blocked");try{A.focus()}catch{}return new hi(A)}function Jg(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var Xg="__/auth/handler",Zg="emulator/auth/handler",e_=encodeURIComponent("fac");async function Sl(n,e,t,r,s,a){D(n.config.authDomain,n,"auth-domain-config-required"),D(n.config.apiKey,n,"invalid-api-key");let u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ot,eventId:s};if(e instanceof ai){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",Bu(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(let[b,A]of Object.entries(a||{}))u[b]=A}if(e instanceof Eo){let b=e.getScopes().filter(A=>A!=="");b.length>0&&(u.scopes=b.join(","))}n.tenantId&&(u.tid=n.tenantId);let h=u;for(let b of Object.keys(h))h[b]===void 0&&delete h[b];let d=await n._getAppCheckToken(),y=d?`#${e_}=${encodeURIComponent(d)}`:"";return`${t_(n)}?${On(h).slice(1)}${y}`}function t_({config:n}){return n.emulator?No(n,Zg):`https://${n.authDomain}/${Xg}`}var po="webStorageSupport",Po=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zo,this._completeRedirectFn=Cg,this._overrideRedirectResult=bg}async _openPopup(e,t,r,s){var a;ft((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");let u=await Sl(e,t,r,mo(),s);return Yg(e,u,Yl())}async _openRedirect(e,t,r,s){await this._originValidation(e);let a=await Sl(e,t,r,mo(),s);return cg(a),new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(ft(a,"If manager is not set, promise should be"),a)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){let t=await zg(e),r=new Ro(e);return t.register("authEvent",s=>(D(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(po,{type:po},s=>{var a;let u=(a=s?.[0])===null||a===void 0?void 0:a[po];u!==void 0&&t(!!u),dt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Vg(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return zl()||Ll()||Fo()}},nh=Po;var Cl="@firebase/auth",Rl="1.10.8";var Do=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){D(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function n_(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function r_(n){Ae(new ue("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;D(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});let d={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gl(n)},y=new wo(r,s,a,d);return Ym(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ae(new ue("auth-internal",e=>{let t=Lo(e.getProvider("auth").getImmediate());return(r=>new Do(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),K(Cl,Rl,n_(n)),K(Cl,Rl,"esm2017")}var i_=5*60,s_=$s("authIdTokenMaxAge")||i_,Pl=null,o_=n=>async e=>{let t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>s_)return;let s=t?.token;Pl!==s&&(Pl=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Go(n=St()){let e=zt(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Bo(n,{popupRedirectResolver:nh,persistence:[eh,Ql,zo]}),r=$s("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let a=new URL(r,location.origin);if(location.origin===a.origin){let u=o_(a.toString());qo(t,u,()=>u(t.currentUser)),$o(t,h=>u(h))}}let s=Bs("auth");return s&&jo(t,`http://${s}`),t}function a_(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Hm({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{let a=kt("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",a_().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});r_("Browser");var rh="auth",Wn=class{constructor(e){return e}},Hn=class{constructor(){return Wt(rh)}};var Wo=new ge("angularfire2.auth-instances");function ey(n,e){let t=Fn(rh,n,e);return t&&new Wn(t)}function ty(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Wn(r)}}var ny={provide:Hn,deps:[[new _e,Wo]]},ry={provide:Wn,useFactory:ey,deps:[[new _e,Wo],ze]};function ih(n,...e){return K("angularfire",at.full,"auth"),$t([ry,ny,{provide:Wo,useFactory:ty(n),multi:!0,deps:[De,Et,ct,Pt,[new _e,Ht],...e]}])}var sh=Rt(Go,!0);var oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ah={};var fi,ch;(function(){var n;function e(v,f){function m(){}m.prototype=f.prototype,v.D=f.prototype,v.prototype=new m,v.prototype.constructor=v,v.C=function(g,_,w){for(var p=Array(arguments.length-2),le=2;le<arguments.length;le++)p[le-2]=arguments[le];return f.prototype[_].apply(g,p)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(v,f,m){m||(m=0);var g=Array(16);if(typeof f=="string")for(var _=0;16>_;++_)g[_]=f.charCodeAt(m++)|f.charCodeAt(m++)<<8|f.charCodeAt(m++)<<16|f.charCodeAt(m++)<<24;else for(_=0;16>_;++_)g[_]=f[m++]|f[m++]<<8|f[m++]<<16|f[m++]<<24;f=v.g[0],m=v.g[1],_=v.g[2];var w=v.g[3],p=f+(w^m&(_^w))+g[0]+3614090360&4294967295;f=m+(p<<7&4294967295|p>>>25),p=w+(_^f&(m^_))+g[1]+3905402710&4294967295,w=f+(p<<12&4294967295|p>>>20),p=_+(m^w&(f^m))+g[2]+606105819&4294967295,_=w+(p<<17&4294967295|p>>>15),p=m+(f^_&(w^f))+g[3]+3250441966&4294967295,m=_+(p<<22&4294967295|p>>>10),p=f+(w^m&(_^w))+g[4]+4118548399&4294967295,f=m+(p<<7&4294967295|p>>>25),p=w+(_^f&(m^_))+g[5]+1200080426&4294967295,w=f+(p<<12&4294967295|p>>>20),p=_+(m^w&(f^m))+g[6]+2821735955&4294967295,_=w+(p<<17&4294967295|p>>>15),p=m+(f^_&(w^f))+g[7]+4249261313&4294967295,m=_+(p<<22&4294967295|p>>>10),p=f+(w^m&(_^w))+g[8]+1770035416&4294967295,f=m+(p<<7&4294967295|p>>>25),p=w+(_^f&(m^_))+g[9]+2336552879&4294967295,w=f+(p<<12&4294967295|p>>>20),p=_+(m^w&(f^m))+g[10]+4294925233&4294967295,_=w+(p<<17&4294967295|p>>>15),p=m+(f^_&(w^f))+g[11]+2304563134&4294967295,m=_+(p<<22&4294967295|p>>>10),p=f+(w^m&(_^w))+g[12]+1804603682&4294967295,f=m+(p<<7&4294967295|p>>>25),p=w+(_^f&(m^_))+g[13]+4254626195&4294967295,w=f+(p<<12&4294967295|p>>>20),p=_+(m^w&(f^m))+g[14]+2792965006&4294967295,_=w+(p<<17&4294967295|p>>>15),p=m+(f^_&(w^f))+g[15]+1236535329&4294967295,m=_+(p<<22&4294967295|p>>>10),p=f+(_^w&(m^_))+g[1]+4129170786&4294967295,f=m+(p<<5&4294967295|p>>>27),p=w+(m^_&(f^m))+g[6]+3225465664&4294967295,w=f+(p<<9&4294967295|p>>>23),p=_+(f^m&(w^f))+g[11]+643717713&4294967295,_=w+(p<<14&4294967295|p>>>18),p=m+(w^f&(_^w))+g[0]+3921069994&4294967295,m=_+(p<<20&4294967295|p>>>12),p=f+(_^w&(m^_))+g[5]+3593408605&4294967295,f=m+(p<<5&4294967295|p>>>27),p=w+(m^_&(f^m))+g[10]+38016083&4294967295,w=f+(p<<9&4294967295|p>>>23),p=_+(f^m&(w^f))+g[15]+3634488961&4294967295,_=w+(p<<14&4294967295|p>>>18),p=m+(w^f&(_^w))+g[4]+3889429448&4294967295,m=_+(p<<20&4294967295|p>>>12),p=f+(_^w&(m^_))+g[9]+568446438&4294967295,f=m+(p<<5&4294967295|p>>>27),p=w+(m^_&(f^m))+g[14]+3275163606&4294967295,w=f+(p<<9&4294967295|p>>>23),p=_+(f^m&(w^f))+g[3]+4107603335&4294967295,_=w+(p<<14&4294967295|p>>>18),p=m+(w^f&(_^w))+g[8]+1163531501&4294967295,m=_+(p<<20&4294967295|p>>>12),p=f+(_^w&(m^_))+g[13]+2850285829&4294967295,f=m+(p<<5&4294967295|p>>>27),p=w+(m^_&(f^m))+g[2]+4243563512&4294967295,w=f+(p<<9&4294967295|p>>>23),p=_+(f^m&(w^f))+g[7]+1735328473&4294967295,_=w+(p<<14&4294967295|p>>>18),p=m+(w^f&(_^w))+g[12]+2368359562&4294967295,m=_+(p<<20&4294967295|p>>>12),p=f+(m^_^w)+g[5]+4294588738&4294967295,f=m+(p<<4&4294967295|p>>>28),p=w+(f^m^_)+g[8]+2272392833&4294967295,w=f+(p<<11&4294967295|p>>>21),p=_+(w^f^m)+g[11]+1839030562&4294967295,_=w+(p<<16&4294967295|p>>>16),p=m+(_^w^f)+g[14]+4259657740&4294967295,m=_+(p<<23&4294967295|p>>>9),p=f+(m^_^w)+g[1]+2763975236&4294967295,f=m+(p<<4&4294967295|p>>>28),p=w+(f^m^_)+g[4]+1272893353&4294967295,w=f+(p<<11&4294967295|p>>>21),p=_+(w^f^m)+g[7]+4139469664&4294967295,_=w+(p<<16&4294967295|p>>>16),p=m+(_^w^f)+g[10]+3200236656&4294967295,m=_+(p<<23&4294967295|p>>>9),p=f+(m^_^w)+g[13]+681279174&4294967295,f=m+(p<<4&4294967295|p>>>28),p=w+(f^m^_)+g[0]+3936430074&4294967295,w=f+(p<<11&4294967295|p>>>21),p=_+(w^f^m)+g[3]+3572445317&4294967295,_=w+(p<<16&4294967295|p>>>16),p=m+(_^w^f)+g[6]+76029189&4294967295,m=_+(p<<23&4294967295|p>>>9),p=f+(m^_^w)+g[9]+3654602809&4294967295,f=m+(p<<4&4294967295|p>>>28),p=w+(f^m^_)+g[12]+3873151461&4294967295,w=f+(p<<11&4294967295|p>>>21),p=_+(w^f^m)+g[15]+530742520&4294967295,_=w+(p<<16&4294967295|p>>>16),p=m+(_^w^f)+g[2]+3299628645&4294967295,m=_+(p<<23&4294967295|p>>>9),p=f+(_^(m|~w))+g[0]+4096336452&4294967295,f=m+(p<<6&4294967295|p>>>26),p=w+(m^(f|~_))+g[7]+1126891415&4294967295,w=f+(p<<10&4294967295|p>>>22),p=_+(f^(w|~m))+g[14]+2878612391&4294967295,_=w+(p<<15&4294967295|p>>>17),p=m+(w^(_|~f))+g[5]+4237533241&4294967295,m=_+(p<<21&4294967295|p>>>11),p=f+(_^(m|~w))+g[12]+1700485571&4294967295,f=m+(p<<6&4294967295|p>>>26),p=w+(m^(f|~_))+g[3]+2399980690&4294967295,w=f+(p<<10&4294967295|p>>>22),p=_+(f^(w|~m))+g[10]+4293915773&4294967295,_=w+(p<<15&4294967295|p>>>17),p=m+(w^(_|~f))+g[1]+2240044497&4294967295,m=_+(p<<21&4294967295|p>>>11),p=f+(_^(m|~w))+g[8]+1873313359&4294967295,f=m+(p<<6&4294967295|p>>>26),p=w+(m^(f|~_))+g[15]+4264355552&4294967295,w=f+(p<<10&4294967295|p>>>22),p=_+(f^(w|~m))+g[6]+2734768916&4294967295,_=w+(p<<15&4294967295|p>>>17),p=m+(w^(_|~f))+g[13]+1309151649&4294967295,m=_+(p<<21&4294967295|p>>>11),p=f+(_^(m|~w))+g[4]+4149444226&4294967295,f=m+(p<<6&4294967295|p>>>26),p=w+(m^(f|~_))+g[11]+3174756917&4294967295,w=f+(p<<10&4294967295|p>>>22),p=_+(f^(w|~m))+g[2]+718787259&4294967295,_=w+(p<<15&4294967295|p>>>17),p=m+(w^(_|~f))+g[9]+3951481745&4294967295,v.g[0]=v.g[0]+f&4294967295,v.g[1]=v.g[1]+(_+(p<<21&4294967295|p>>>11))&4294967295,v.g[2]=v.g[2]+_&4294967295,v.g[3]=v.g[3]+w&4294967295}r.prototype.u=function(v,f){f===void 0&&(f=v.length);for(var m=f-this.blockSize,g=this.B,_=this.h,w=0;w<f;){if(_==0)for(;w<=m;)s(this,v,w),w+=this.blockSize;if(typeof v=="string"){for(;w<f;)if(g[_++]=v.charCodeAt(w++),_==this.blockSize){s(this,g),_=0;break}}else for(;w<f;)if(g[_++]=v[w++],_==this.blockSize){s(this,g),_=0;break}}this.h=_,this.o+=f},r.prototype.v=function(){var v=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);v[0]=128;for(var f=1;f<v.length-8;++f)v[f]=0;var m=8*this.o;for(f=v.length-8;f<v.length;++f)v[f]=m&255,m/=256;for(this.u(v),v=Array(16),f=m=0;4>f;++f)for(var g=0;32>g;g+=8)v[m++]=this.g[f]>>>g&255;return v};function a(v,f){var m=h;return Object.prototype.hasOwnProperty.call(m,v)?m[v]:m[v]=f(v)}function u(v,f){this.h=f;for(var m=[],g=!0,_=v.length-1;0<=_;_--){var w=v[_]|0;g&&w==f||(m[_]=w,g=!1)}this.g=m}var h={};function d(v){return-128<=v&&128>v?a(v,function(f){return new u([f|0],0>f?-1:0)}):new u([v|0],0>v?-1:0)}function y(v){if(isNaN(v)||!isFinite(v))return A;if(0>v)return R(y(-v));for(var f=[],m=1,g=0;v>=m;g++)f[g]=v/m|0,m*=4294967296;return new u(f,0)}function b(v,f){if(v.length==0)throw Error("number format error: empty string");if(f=f||10,2>f||36<f)throw Error("radix out of range: "+f);if(v.charAt(0)=="-")return R(b(v.substring(1),f));if(0<=v.indexOf("-"))throw Error('number format error: interior "-" character');for(var m=y(Math.pow(f,8)),g=A,_=0;_<v.length;_+=8){var w=Math.min(8,v.length-_),p=parseInt(v.substring(_,_+w),f);8>w?(w=y(Math.pow(f,w)),g=g.j(w).add(y(p))):(g=g.j(m),g=g.add(y(p)))}return g}var A=d(0),T=d(1),P=d(16777216);n=u.prototype,n.m=function(){if(N(this))return-R(this).m();for(var v=0,f=1,m=0;m<this.g.length;m++){var g=this.i(m);v+=(0<=g?g:4294967296+g)*f,f*=4294967296}return v},n.toString=function(v){if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(C(this))return"0";if(N(this))return"-"+R(this).toString(v);for(var f=y(Math.pow(v,6)),m=this,g="";;){var _=oe(m,f).g;m=k(m,_.j(f));var w=((0<m.g.length?m.g[0]:m.h)>>>0).toString(v);if(m=_,C(m))return w+g;for(;6>w.length;)w="0"+w;g=w+g}},n.i=function(v){return 0>v?0:v<this.g.length?this.g[v]:this.h};function C(v){if(v.h!=0)return!1;for(var f=0;f<v.g.length;f++)if(v.g[f]!=0)return!1;return!0}function N(v){return v.h==-1}n.l=function(v){return v=k(this,v),N(v)?-1:C(v)?0:1};function R(v){for(var f=v.g.length,m=[],g=0;g<f;g++)m[g]=~v.g[g];return new u(m,~v.h).add(T)}n.abs=function(){return N(this)?R(this):this},n.add=function(v){for(var f=Math.max(this.g.length,v.g.length),m=[],g=0,_=0;_<=f;_++){var w=g+(this.i(_)&65535)+(v.i(_)&65535),p=(w>>>16)+(this.i(_)>>>16)+(v.i(_)>>>16);g=p>>>16,w&=65535,p&=65535,m[_]=p<<16|w}return new u(m,m[m.length-1]&-2147483648?-1:0)};function k(v,f){return v.add(R(f))}n.j=function(v){if(C(this)||C(v))return A;if(N(this))return N(v)?R(this).j(R(v)):R(R(this).j(v));if(N(v))return R(this.j(R(v)));if(0>this.l(P)&&0>v.l(P))return y(this.m()*v.m());for(var f=this.g.length+v.g.length,m=[],g=0;g<2*f;g++)m[g]=0;for(g=0;g<this.g.length;g++)for(var _=0;_<v.g.length;_++){var w=this.i(g)>>>16,p=this.i(g)&65535,le=v.i(_)>>>16,Pe=v.i(_)&65535;m[2*g+2*_]+=p*Pe,U(m,2*g+2*_),m[2*g+2*_+1]+=w*Pe,U(m,2*g+2*_+1),m[2*g+2*_+1]+=p*le,U(m,2*g+2*_+1),m[2*g+2*_+2]+=w*le,U(m,2*g+2*_+2)}for(g=0;g<f;g++)m[g]=m[2*g+1]<<16|m[2*g];for(g=f;g<2*f;g++)m[g]=0;return new u(m,0)};function U(v,f){for(;(v[f]&65535)!=v[f];)v[f+1]+=v[f]>>>16,v[f]&=65535,f++}function z(v,f){this.g=v,this.h=f}function oe(v,f){if(C(f))throw Error("division by zero");if(C(v))return new z(A,A);if(N(v))return f=oe(R(v),f),new z(R(f.g),R(f.h));if(N(f))return f=oe(v,R(f)),new z(R(f.g),f.h);if(30<v.g.length){if(N(v)||N(f))throw Error("slowDivide_ only works with positive integers.");for(var m=T,g=f;0>=g.l(v);)m=Le(m),g=Le(g);var _=te(m,1),w=te(g,1);for(g=te(g,2),m=te(m,2);!C(g);){var p=w.add(g);0>=p.l(v)&&(_=_.add(m),w=p),g=te(g,1),m=te(m,1)}return f=k(v,_.j(f)),new z(_,f)}for(_=A;0<=v.l(f);){for(m=Math.max(1,Math.floor(v.m()/f.m())),g=Math.ceil(Math.log(m)/Math.LN2),g=48>=g?1:Math.pow(2,g-48),w=y(m),p=w.j(f);N(p)||0<p.l(v);)m-=g,w=y(m),p=w.j(f);C(w)&&(w=T),_=_.add(w),v=k(v,p)}return new z(_,v)}n.A=function(v){return oe(this,v).h},n.and=function(v){for(var f=Math.max(this.g.length,v.g.length),m=[],g=0;g<f;g++)m[g]=this.i(g)&v.i(g);return new u(m,this.h&v.h)},n.or=function(v){for(var f=Math.max(this.g.length,v.g.length),m=[],g=0;g<f;g++)m[g]=this.i(g)|v.i(g);return new u(m,this.h|v.h)},n.xor=function(v){for(var f=Math.max(this.g.length,v.g.length),m=[],g=0;g<f;g++)m[g]=this.i(g)^v.i(g);return new u(m,this.h^v.h)};function Le(v){for(var f=v.g.length+1,m=[],g=0;g<f;g++)m[g]=v.i(g)<<1|v.i(g-1)>>>31;return new u(m,v.h)}function te(v,f){var m=f>>5;f%=32;for(var g=v.g.length-m,_=[],w=0;w<g;w++)_[w]=0<f?v.i(w+m)>>>f|v.i(w+m+1)<<32-f:v.i(w+m);return new u(_,v.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ch=ah.Md5=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=y,u.fromString=b,fi=ah.Integer=u}).apply(typeof oh<"u"?oh:typeof self<"u"?self:typeof window<"u"?window:{});var pi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},He={};var uh,iy,lh,hh,dh,fh,ph,mh,gh;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(i,o,c){return i==Array.prototype||i==Object.prototype||(i[o]=c.value),i};function t(i){i=[typeof globalThis=="object"&&globalThis,i,typeof window=="object"&&window,typeof self=="object"&&self,typeof pi=="object"&&pi];for(var o=0;o<i.length;++o){var c=i[o];if(c&&c.Math==Math)return c}throw Error("Cannot find global object")}var r=t(this);function s(i,o){if(o)e:{var c=r;i=i.split(".");for(var l=0;l<i.length-1;l++){var I=i[l];if(!(I in c))break e;c=c[I]}i=i[i.length-1],l=c[i],o=o(l),o!=l&&o!=null&&e(c,i,{configurable:!0,writable:!0,value:o})}}function a(i,o){i instanceof String&&(i+="");var c=0,l=!1,I={next:function(){if(!l&&c<i.length){var E=c++;return{value:o(E,i[E]),done:!1}}return l=!0,{done:!0,value:void 0}}};return I[Symbol.iterator]=function(){return I},I}s("Array.prototype.values",function(i){return i||function(){return a(this,function(o,c){return c})}});var u=u||{},h=this||self;function d(i){var o=typeof i;return o=o!="object"?o:i?Array.isArray(i)?"array":o:"null",o=="array"||o=="object"&&typeof i.length=="number"}function y(i){var o=typeof i;return o=="object"&&i!=null||o=="function"}function b(i,o,c){return i.call.apply(i.bind,arguments)}function A(i,o,c){if(!i)throw Error();if(2<arguments.length){var l=Array.prototype.slice.call(arguments,2);return function(){var I=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(I,l),i.apply(o,I)}}return function(){return i.apply(o,arguments)}}function T(i,o,c){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:A,T.apply(null,arguments)}function P(i,o){var c=Array.prototype.slice.call(arguments,1);return function(){var l=c.slice();return l.push.apply(l,arguments),i.apply(this,l)}}function C(i,o){function c(){}c.prototype=o.prototype,i.aa=o.prototype,i.prototype=new c,i.prototype.constructor=i,i.Qb=function(l,I,E){for(var S=Array(arguments.length-2),B=2;B<arguments.length;B++)S[B-2]=arguments[B];return o.prototype[I].apply(l,S)}}function N(i){let o=i.length;if(0<o){let c=Array(o);for(let l=0;l<o;l++)c[l]=i[l];return c}return[]}function R(i,o){for(let c=1;c<arguments.length;c++){let l=arguments[c];if(d(l)){let I=i.length||0,E=l.length||0;i.length=I+E;for(let S=0;S<E;S++)i[I+S]=l[S]}else i.push(l)}}class k{constructor(o,c){this.i=o,this.j=c,this.h=0,this.g=null}get(){let o;return 0<this.h?(this.h--,o=this.g,this.g=o.next,o.next=null):o=this.i(),o}}function U(i){return/^[\s\xa0]*$/.test(i)}function z(){var i=h.navigator;return i&&(i=i.userAgent)?i:""}function oe(i){return oe[" "](i),i}oe[" "]=function(){};var Le=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function te(i,o,c){for(let l in i)o.call(c,i[l],l,i)}function v(i,o){for(let c in i)o.call(void 0,i[c],c,i)}function f(i){let o={};for(let c in i)o[c]=i[c];return o}let m="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function g(i,o){let c,l;for(let I=1;I<arguments.length;I++){l=arguments[I];for(c in l)i[c]=l[c];for(let E=0;E<m.length;E++)c=m[E],Object.prototype.hasOwnProperty.call(l,c)&&(i[c]=l[c])}}function _(i){var o=1;i=i.split(":");let c=[];for(;0<o&&i.length;)c.push(i.shift()),o--;return i.length&&c.push(i.join(":")),c}function w(i){h.setTimeout(()=>{throw i},0)}function p(){var i=Ue;let o=null;return i.g&&(o=i.g,i.g=i.g.next,i.g||(i.h=null),o.next=null),o}class le{constructor(){this.h=this.g=null}add(o,c){let l=Pe.get();l.set(o,c),this.h?this.h.next=l:this.g=l,this.h=l}}var Pe=new k(()=>new _r,i=>i.reset());class _r{constructor(){this.next=this.g=this.h=null}set(o,c){this.h=o,this.g=c,this.next=null}reset(){this.next=this.g=this.h=null}}let Je,me=!1,Ue=new le,Ft=()=>{let i=h.Promise.resolve(void 0);Je=()=>{i.then(yr)}};var yr=()=>{for(var i;i=p();){try{i.h.call(i.g)}catch(c){w(c)}var o=Pe;o.j(i),100>o.h&&(o.h++,i.next=o.g,o.g=i)}me=!1};function we(){this.s=this.s,this.C=this.C}we.prototype.s=!1,we.prototype.ma=function(){this.s||(this.s=!0,this.N())},we.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(i,o){this.type=i,this.g=this.target=o,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var nf=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var i=!1,o=Object.defineProperty({},"passive",{get:function(){i=!0}});try{let c=()=>{};h.addEventListener("test",c,o),h.removeEventListener("test",c,o)}catch{}return i}();function cn(i,o){if(ne.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var c=this.type=i.type,l=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=o,o=i.relatedTarget){if(Le){e:{try{oe(o.nodeName);var I=!0;break e}catch{}I=!1}I||(o=null)}}else c=="mouseover"?o=i.fromElement:c=="mouseout"&&(o=i.toElement);this.relatedTarget=o,l?(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0):(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType=typeof i.pointerType=="string"?i.pointerType:rf[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&cn.aa.h.call(this)}}C(cn,ne);var rf={2:"touch",3:"pen",4:"mouse"};cn.prototype.h=function(){cn.aa.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var un="closure_listenable_"+(1e6*Math.random()|0),sf=0;function of(i,o,c,l,I){this.listener=i,this.proxy=null,this.src=o,this.type=c,this.capture=!!l,this.ha=I,this.key=++sf,this.da=this.fa=!1}function vr(i){i.da=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function Ir(i){this.src=i,this.g={},this.h=0}Ir.prototype.add=function(i,o,c,l,I){var E=i.toString();i=this.g[E],i||(i=this.g[E]=[],this.h++);var S=Ki(i,o,l,I);return-1<S?(o=i[S],c||(o.fa=!1)):(o=new of(o,this.src,E,!!l,I),o.fa=c,i.push(o)),o};function Hi(i,o){var c=o.type;if(c in i.g){var l=i.g[c],I=Array.prototype.indexOf.call(l,o,void 0),E;(E=0<=I)&&Array.prototype.splice.call(l,I,1),E&&(vr(o),i.g[c].length==0&&(delete i.g[c],i.h--))}}function Ki(i,o,c,l){for(var I=0;I<i.length;++I){var E=i[I];if(!E.da&&E.listener==o&&E.capture==!!c&&E.ha==l)return I}return-1}var Qi="closure_lm_"+(1e6*Math.random()|0),Yi={};function Ka(i,o,c,l,I){if(l&&l.once)return Ya(i,o,c,l,I);if(Array.isArray(o)){for(var E=0;E<o.length;E++)Ka(i,o[E],c,l,I);return null}return c=es(c),i&&i[un]?i.K(o,c,y(l)?!!l.capture:!!l,I):Qa(i,o,c,!1,l,I)}function Qa(i,o,c,l,I,E){if(!o)throw Error("Invalid event type");var S=y(I)?!!I.capture:!!I,B=Xi(i);if(B||(i[Qi]=B=new Ir(i)),c=B.add(o,c,l,S,E),c.proxy)return c;if(l=af(),c.proxy=l,l.src=i,l.listener=c,i.addEventListener)nf||(I=S),I===void 0&&(I=!1),i.addEventListener(o.toString(),l,I);else if(i.attachEvent)i.attachEvent(Xa(o.toString()),l);else if(i.addListener&&i.removeListener)i.addListener(l);else throw Error("addEventListener and attachEvent are unavailable.");return c}function af(){function i(c){return o.call(i.src,i.listener,c)}let o=cf;return i}function Ya(i,o,c,l,I){if(Array.isArray(o)){for(var E=0;E<o.length;E++)Ya(i,o[E],c,l,I);return null}return c=es(c),i&&i[un]?i.L(o,c,y(l)?!!l.capture:!!l,I):Qa(i,o,c,!0,l,I)}function Ja(i,o,c,l,I){if(Array.isArray(o))for(var E=0;E<o.length;E++)Ja(i,o[E],c,l,I);else l=y(l)?!!l.capture:!!l,c=es(c),i&&i[un]?(i=i.i,o=String(o).toString(),o in i.g&&(E=i.g[o],c=Ki(E,c,l,I),-1<c&&(vr(E[c]),Array.prototype.splice.call(E,c,1),E.length==0&&(delete i.g[o],i.h--)))):i&&(i=Xi(i))&&(o=i.g[o.toString()],i=-1,o&&(i=Ki(o,c,l,I)),(c=-1<i?o[i]:null)&&Ji(c))}function Ji(i){if(typeof i!="number"&&i&&!i.da){var o=i.src;if(o&&o[un])Hi(o.i,i);else{var c=i.type,l=i.proxy;o.removeEventListener?o.removeEventListener(c,l,i.capture):o.detachEvent?o.detachEvent(Xa(c),l):o.addListener&&o.removeListener&&o.removeListener(l),(c=Xi(o))?(Hi(c,i),c.h==0&&(c.src=null,o[Qi]=null)):vr(i)}}}function Xa(i){return i in Yi?Yi[i]:Yi[i]="on"+i}function cf(i,o){if(i.da)i=!0;else{o=new cn(o,this);var c=i.listener,l=i.ha||i.src;i.fa&&Ji(i),i=c.call(l,o)}return i}function Xi(i){return i=i[Qi],i instanceof Ir?i:null}var Zi="__closure_events_fn_"+(1e9*Math.random()>>>0);function es(i){return typeof i=="function"?i:(i[Zi]||(i[Zi]=function(o){return i.handleEvent(o)}),i[Zi])}function re(){we.call(this),this.i=new Ir(this),this.M=this,this.F=null}C(re,we),re.prototype[un]=!0,re.prototype.removeEventListener=function(i,o,c,l){Ja(this,i,o,c,l)};function ae(i,o){var c,l=i.F;if(l)for(c=[];l;l=l.F)c.push(l);if(i=i.M,l=o.type||o,typeof o=="string")o=new ne(o,i);else if(o instanceof ne)o.target=o.target||i;else{var I=o;o=new ne(l,i),g(o,I)}if(I=!0,c)for(var E=c.length-1;0<=E;E--){var S=o.g=c[E];I=wr(S,l,!0,o)&&I}if(S=o.g=i,I=wr(S,l,!0,o)&&I,I=wr(S,l,!1,o)&&I,c)for(E=0;E<c.length;E++)S=o.g=c[E],I=wr(S,l,!1,o)&&I}re.prototype.N=function(){if(re.aa.N.call(this),this.i){var i=this.i,o;for(o in i.g){for(var c=i.g[o],l=0;l<c.length;l++)vr(c[l]);delete i.g[o],i.h--}}this.F=null},re.prototype.K=function(i,o,c,l){return this.i.add(String(i),o,!1,c,l)},re.prototype.L=function(i,o,c,l){return this.i.add(String(i),o,!0,c,l)};function wr(i,o,c,l){if(o=i.i.g[String(o)],!o)return!0;o=o.concat();for(var I=!0,E=0;E<o.length;++E){var S=o[E];if(S&&!S.da&&S.capture==c){var B=S.listener,Y=S.ha||S.src;S.fa&&Hi(i.i,S),I=B.call(Y,l)!==!1&&I}}return I&&!l.defaultPrevented}function Za(i,o,c){if(typeof i=="function")c&&(i=T(i,c));else if(i&&typeof i.handleEvent=="function")i=T(i.handleEvent,i);else throw Error("Invalid listener argument");return 2147483647<Number(o)?-1:h.setTimeout(i,o||0)}function ec(i){i.g=Za(()=>{i.g=null,i.i&&(i.i=!1,ec(i))},i.l);let o=i.h;i.h=null,i.m.apply(null,o)}class uf extends we{constructor(o,c){super(),this.m=o,this.l=c,this.h=null,this.i=!1,this.g=null}j(o){this.h=arguments,this.g?this.i=!0:ec(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ln(i){we.call(this),this.h=i,this.g={}}C(ln,we);var tc=[];function nc(i){te(i.g,function(o,c){this.g.hasOwnProperty(c)&&Ji(o)},i),i.g={}}ln.prototype.N=function(){ln.aa.N.call(this),nc(this)},ln.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ts=h.JSON.stringify,lf=h.JSON.parse,hf=class{stringify(i){return h.JSON.stringify(i,void 0)}parse(i){return h.JSON.parse(i,void 0)}};function ns(){}ns.prototype.h=null;function rc(i){return i.h||(i.h=i.i())}function ic(){}var hn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rs(){ne.call(this,"d")}C(rs,ne);function is(){ne.call(this,"c")}C(is,ne);var yt={},sc=null;function Er(){return sc=sc||new re}yt.La="serverreachability";function oc(i){ne.call(this,yt.La,i)}C(oc,ne);function dn(i){let o=Er();ae(o,new oc(o))}yt.STAT_EVENT="statevent";function ac(i,o){ne.call(this,yt.STAT_EVENT,i),this.stat=o}C(ac,ne);function ce(i){let o=Er();ae(o,new ac(o,i))}yt.Ma="timingevent";function cc(i,o){ne.call(this,yt.Ma,i),this.size=o}C(cc,ne);function fn(i,o){if(typeof i!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){i()},o)}function pn(){this.g=!0}pn.prototype.xa=function(){this.g=!1};function df(i,o,c,l,I,E){i.info(function(){if(i.g)if(E)for(var S="",B=E.split("&"),Y=0;Y<B.length;Y++){var F=B[Y].split("=");if(1<F.length){var ie=F[0];F=F[1];var se=ie.split("_");S=2<=se.length&&se[1]=="type"?S+(ie+"="+F+"&"):S+(ie+"=redacted&")}}else S=null;else S=E;return"XMLHTTP REQ ("+l+") [attempt "+I+"]: "+o+`
`+c+`
`+S})}function ff(i,o,c,l,I,E,S){i.info(function(){return"XMLHTTP RESP ("+l+") [ attempt "+I+"]: "+o+`
`+c+`
`+E+" "+S})}function Lt(i,o,c,l){i.info(function(){return"XMLHTTP TEXT ("+o+"): "+mf(i,c)+(l?" "+l:"")})}function pf(i,o){i.info(function(){return"TIMEOUT: "+o})}pn.prototype.info=function(){};function mf(i,o){if(!i.g)return o;if(!o)return null;try{var c=JSON.parse(o);if(c){for(i=0;i<c.length;i++)if(Array.isArray(c[i])){var l=c[i];if(!(2>l.length)){var I=l[1];if(Array.isArray(I)&&!(1>I.length)){var E=I[0];if(E!="noop"&&E!="stop"&&E!="close")for(var S=1;S<I.length;S++)I[S]=""}}}}return ts(c)}catch{return o}}var Tr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},uc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ss;function br(){}C(br,ns),br.prototype.g=function(){return new XMLHttpRequest},br.prototype.i=function(){return{}},ss=new br;function Xe(i,o,c,l){this.j=i,this.i=o,this.l=c,this.R=l||1,this.U=new ln(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new lc}function lc(){this.i=null,this.g="",this.h=!1}var hc={},os={};function as(i,o,c){i.L=1,i.v=Rr(Be(o)),i.m=c,i.P=!0,dc(i,null)}function dc(i,o){i.F=Date.now(),Ar(i),i.A=Be(i.v);var c=i.A,l=i.R;Array.isArray(l)||(l=[String(l)]),Sc(c.i,"t",l),i.C=0,c=i.j.J,i.h=new lc,i.g=zc(i.j,c?o:null,!i.m),0<i.O&&(i.M=new uf(T(i.Y,i,i.g),i.O)),o=i.U,c=i.g,l=i.ca;var I="readystatechange";Array.isArray(I)||(I&&(tc[0]=I.toString()),I=tc);for(var E=0;E<I.length;E++){var S=Ka(c,I[E],l||o.handleEvent,!1,o.h||o);if(!S)break;o.g[S.key]=S}o=i.H?f(i.H):{},i.m?(i.u||(i.u="POST"),o["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.m,o)):(i.u="GET",i.g.ea(i.A,i.u,null,o)),dn(),df(i.i,i.u,i.A,i.l,i.R,i.m)}Xe.prototype.ca=function(i){i=i.target;let o=this.M;o&&je(i)==3?o.j():this.Y(i)},Xe.prototype.Y=function(i){try{if(i==this.g)e:{let se=je(this.g);var o=this.g.Ba();let jt=this.g.Z();if(!(3>se)&&(se!=3||this.g&&(this.h.h||this.g.oa()||Vc(this.g)))){this.J||se!=4||o==7||(o==8||0>=jt?dn(3):dn(2)),cs(this);var c=this.g.Z();this.X=c;t:if(fc(this)){var l=Vc(this.g);i="";var I=l.length,E=je(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vt(this),mn(this);var S="";break t}this.h.i=new h.TextDecoder}for(o=0;o<I;o++)this.h.h=!0,i+=this.h.i.decode(l[o],{stream:!(E&&o==I-1)});l.length=0,this.h.g+=i,this.C=0,S=this.h.g}else S=this.g.oa();if(this.o=c==200,ff(this.i,this.u,this.A,this.l,this.R,se,c),this.o){if(this.T&&!this.K){t:{if(this.g){var B,Y=this.g;if((B=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(B)){var F=B;break t}}F=null}if(c=F)Lt(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,us(this,c);else{this.o=!1,this.s=3,ce(12),vt(this),mn(this);break e}}if(this.P){c=!0;let Ee;for(;!this.J&&this.C<S.length;)if(Ee=gf(this,S),Ee==os){se==4&&(this.s=4,ce(14),c=!1),Lt(this.i,this.l,null,"[Incomplete Response]");break}else if(Ee==hc){this.s=4,ce(15),Lt(this.i,this.l,S,"[Invalid Chunk]"),c=!1;break}else Lt(this.i,this.l,Ee,null),us(this,Ee);if(fc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),se!=4||S.length!=0||this.h.h||(this.s=1,ce(16),c=!1),this.o=this.o&&c,!c)Lt(this.i,this.l,S,"[Invalid Chunked Response]"),vt(this),mn(this);else if(0<S.length&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.ba&&!ie.M&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),ms(ie),ie.M=!0,ce(11))}}else Lt(this.i,this.l,S,null),us(this,S);se==4&&vt(this),this.o&&!this.J&&(se==4?Bc(this.j,this):(this.o=!1,Ar(this)))}else Vf(this.g),c==400&&0<S.indexOf("Unknown SID")?(this.s=3,ce(12)):(this.s=0,ce(13)),vt(this),mn(this)}}}catch{}finally{}};function fc(i){return i.g?i.u=="GET"&&i.L!=2&&i.j.Ca:!1}function gf(i,o){var c=i.C,l=o.indexOf(`
`,c);return l==-1?os:(c=Number(o.substring(c,l)),isNaN(c)?hc:(l+=1,l+c>o.length?os:(o=o.slice(l,l+c),i.C=l+c,o)))}Xe.prototype.cancel=function(){this.J=!0,vt(this)};function Ar(i){i.S=Date.now()+i.I,pc(i,i.I)}function pc(i,o){if(i.B!=null)throw Error("WatchDog timer not null");i.B=fn(T(i.ba,i),o)}function cs(i){i.B&&(h.clearTimeout(i.B),i.B=null)}Xe.prototype.ba=function(){this.B=null;let i=Date.now();0<=i-this.S?(pf(this.i,this.A),this.L!=2&&(dn(),ce(17)),vt(this),this.s=2,mn(this)):pc(this,this.S-i)};function mn(i){i.j.G==0||i.J||Bc(i.j,i)}function vt(i){cs(i);var o=i.M;o&&typeof o.ma=="function"&&o.ma(),i.M=null,nc(i.U),i.g&&(o=i.g,i.g=null,o.abort(),o.ma())}function us(i,o){try{var c=i.j;if(c.G!=0&&(c.g==i||ls(c.h,i))){if(!i.K&&ls(c.h,i)&&c.G==3){try{var l=c.Da.g.parse(o)}catch{l=null}if(Array.isArray(l)&&l.length==3){var I=l;if(I[0]==0){e:if(!c.u){if(c.g)if(c.g.F+3e3<i.F)Vr(c),kr(c);else break e;ps(c),ce(18)}}else c.za=I[1],0<c.za-c.T&&37500>I[2]&&c.F&&c.v==0&&!c.C&&(c.C=fn(T(c.Za,c),6e3));if(1>=_c(c.h)&&c.ca){try{c.ca()}catch{}c.ca=void 0}}else wt(c,11)}else if((i.K||c.g==i)&&Vr(c),!U(o))for(I=c.Da.g.parse(o),o=0;o<I.length;o++){let F=I[o];if(c.T=F[0],F=F[1],c.G==2)if(F[0]=="c"){c.K=F[1],c.ia=F[2];let ie=F[3];ie!=null&&(c.la=ie,c.j.info("VER="+c.la));let se=F[4];se!=null&&(c.Aa=se,c.j.info("SVER="+c.Aa));let jt=F[5];jt!=null&&typeof jt=="number"&&0<jt&&(l=1.5*jt,c.L=l,c.j.info("backChannelRequestTimeoutMs_="+l)),l=c;let Ee=i.g;if(Ee){let xr=Ee.g?Ee.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xr){var E=l.h;E.g||xr.indexOf("spdy")==-1&&xr.indexOf("quic")==-1&&xr.indexOf("h2")==-1||(E.j=E.l,E.g=new Set,E.h&&(hs(E,E.h),E.h=null))}if(l.D){let gs=Ee.g?Ee.g.getResponseHeader("X-HTTP-Session-Id"):null;gs&&(l.ya=gs,j(l.I,l.D,gs))}}c.G=3,c.l&&c.l.ua(),c.ba&&(c.R=Date.now()-i.F,c.j.info("Handshake RTT: "+c.R+"ms")),l=c;var S=i;if(l.qa=qc(l,l.J?l.ia:null,l.W),S.K){yc(l.h,S);var B=S,Y=l.L;Y&&(B.I=Y),B.B&&(cs(B),Ar(B)),l.g=S}else Lc(l);0<c.i.length&&Nr(c)}else F[0]!="stop"&&F[0]!="close"||wt(c,7);else c.G==3&&(F[0]=="stop"||F[0]=="close"?F[0]=="stop"?wt(c,7):fs(c):F[0]!="noop"&&c.l&&c.l.ta(F),c.v=0)}}dn(4)}catch{}}var _f=class{constructor(i,o){this.g=i,this.map=o}};function mc(i){this.l=i||10,h.PerformanceNavigationTiming?(i=h.performance.getEntriesByType("navigation"),i=0<i.length&&(i[0].nextHopProtocol=="hq"||i[0].nextHopProtocol=="h2")):i=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gc(i){return i.h?!0:i.g?i.g.size>=i.j:!1}function _c(i){return i.h?1:i.g?i.g.size:0}function ls(i,o){return i.h?i.h==o:i.g?i.g.has(o):!1}function hs(i,o){i.g?i.g.add(o):i.h=o}function yc(i,o){i.h&&i.h==o?i.h=null:i.g&&i.g.has(o)&&i.g.delete(o)}mc.prototype.cancel=function(){if(this.i=vc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let i of this.g.values())i.cancel();this.g.clear()}};function vc(i){if(i.h!=null)return i.i.concat(i.h.D);if(i.g!=null&&i.g.size!==0){let o=i.i;for(let c of i.g.values())o=o.concat(c.D);return o}return N(i.i)}function yf(i){if(i.V&&typeof i.V=="function")return i.V();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if(typeof i=="string")return i.split("");if(d(i)){for(var o=[],c=i.length,l=0;l<c;l++)o.push(i[l]);return o}o=[],c=0;for(l in i)o[c++]=i[l];return o}function vf(i){if(i.na&&typeof i.na=="function")return i.na();if(!i.V||typeof i.V!="function"){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(d(i)||typeof i=="string"){var o=[];i=i.length;for(var c=0;c<i;c++)o.push(c);return o}o=[],c=0;for(let l in i)o[c++]=l;return o}}}function Ic(i,o){if(i.forEach&&typeof i.forEach=="function")i.forEach(o,void 0);else if(d(i)||typeof i=="string")Array.prototype.forEach.call(i,o,void 0);else for(var c=vf(i),l=yf(i),I=l.length,E=0;E<I;E++)o.call(void 0,l[E],c&&c[E],i)}var wc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function If(i,o){if(i){i=i.split("&");for(var c=0;c<i.length;c++){var l=i[c].indexOf("="),I=null;if(0<=l){var E=i[c].substring(0,l);I=i[c].substring(l+1)}else E=i[c];o(E,I?decodeURIComponent(I.replace(/\+/g," ")):"")}}}function It(i){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,i instanceof It){this.h=i.h,Sr(this,i.j),this.o=i.o,this.g=i.g,Cr(this,i.s),this.l=i.l;var o=i.i,c=new yn;c.i=o.i,o.g&&(c.g=new Map(o.g),c.h=o.h),Ec(this,c),this.m=i.m}else i&&(o=String(i).match(wc))?(this.h=!1,Sr(this,o[1]||"",!0),this.o=gn(o[2]||""),this.g=gn(o[3]||"",!0),Cr(this,o[4]),this.l=gn(o[5]||"",!0),Ec(this,o[6]||"",!0),this.m=gn(o[7]||"")):(this.h=!1,this.i=new yn(null,this.h))}It.prototype.toString=function(){var i=[],o=this.j;o&&i.push(_n(o,Tc,!0),":");var c=this.g;return(c||o=="file")&&(i.push("//"),(o=this.o)&&i.push(_n(o,Tc,!0),"@"),i.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.s,c!=null&&i.push(":",String(c))),(c=this.l)&&(this.g&&c.charAt(0)!="/"&&i.push("/"),i.push(_n(c,c.charAt(0)=="/"?Tf:Ef,!0))),(c=this.i.toString())&&i.push("?",c),(c=this.m)&&i.push("#",_n(c,Af)),i.join("")};function Be(i){return new It(i)}function Sr(i,o,c){i.j=c?gn(o,!0):o,i.j&&(i.j=i.j.replace(/:$/,""))}function Cr(i,o){if(o){if(o=Number(o),isNaN(o)||0>o)throw Error("Bad port number "+o);i.s=o}else i.s=null}function Ec(i,o,c){o instanceof yn?(i.i=o,Sf(i.i,i.h)):(c||(o=_n(o,bf)),i.i=new yn(o,i.h))}function j(i,o,c){i.i.set(o,c)}function Rr(i){return j(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function gn(i,o){return i?o?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function _n(i,o,c){return typeof i=="string"?(i=encodeURI(i).replace(o,wf),c&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function wf(i){return i=i.charCodeAt(0),"%"+(i>>4&15).toString(16)+(i&15).toString(16)}var Tc=/[#\/\?@]/g,Ef=/[#\?:]/g,Tf=/[#\?]/g,bf=/[#\?@]/g,Af=/#/g;function yn(i,o){this.h=this.g=null,this.i=i||null,this.j=!!o}function Ze(i){i.g||(i.g=new Map,i.h=0,i.i&&If(i.i,function(o,c){i.add(decodeURIComponent(o.replace(/\+/g," ")),c)}))}n=yn.prototype,n.add=function(i,o){Ze(this),this.i=null,i=Ut(this,i);var c=this.g.get(i);return c||this.g.set(i,c=[]),c.push(o),this.h+=1,this};function bc(i,o){Ze(i),o=Ut(i,o),i.g.has(o)&&(i.i=null,i.h-=i.g.get(o).length,i.g.delete(o))}function Ac(i,o){return Ze(i),o=Ut(i,o),i.g.has(o)}n.forEach=function(i,o){Ze(this),this.g.forEach(function(c,l){c.forEach(function(I){i.call(o,I,l,this)},this)},this)},n.na=function(){Ze(this);let i=Array.from(this.g.values()),o=Array.from(this.g.keys()),c=[];for(let l=0;l<o.length;l++){let I=i[l];for(let E=0;E<I.length;E++)c.push(o[l])}return c},n.V=function(i){Ze(this);let o=[];if(typeof i=="string")Ac(this,i)&&(o=o.concat(this.g.get(Ut(this,i))));else{i=Array.from(this.g.values());for(let c=0;c<i.length;c++)o=o.concat(i[c])}return o},n.set=function(i,o){return Ze(this),this.i=null,i=Ut(this,i),Ac(this,i)&&(this.h-=this.g.get(i).length),this.g.set(i,[o]),this.h+=1,this},n.get=function(i,o){return i?(i=this.V(i),0<i.length?String(i[0]):o):o};function Sc(i,o,c){bc(i,o),0<c.length&&(i.i=null,i.g.set(Ut(i,o),N(c)),i.h+=c.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let i=[],o=Array.from(this.g.keys());for(var c=0;c<o.length;c++){var l=o[c];let E=encodeURIComponent(String(l)),S=this.V(l);for(l=0;l<S.length;l++){var I=E;S[l]!==""&&(I+="="+encodeURIComponent(String(S[l]))),i.push(I)}}return this.i=i.join("&")};function Ut(i,o){return o=String(o),i.j&&(o=o.toLowerCase()),o}function Sf(i,o){o&&!i.j&&(Ze(i),i.i=null,i.g.forEach(function(c,l){var I=l.toLowerCase();l!=I&&(bc(this,l),Sc(this,I,c))},i)),i.j=o}function Cf(i,o){let c=new pn;if(h.Image){let l=new Image;l.onload=P(et,c,"TestLoadImage: loaded",!0,o,l),l.onerror=P(et,c,"TestLoadImage: error",!1,o,l),l.onabort=P(et,c,"TestLoadImage: abort",!1,o,l),l.ontimeout=P(et,c,"TestLoadImage: timeout",!1,o,l),h.setTimeout(function(){l.ontimeout&&l.ontimeout()},1e4),l.src=i}else o(!1)}function Rf(i,o){let c=new pn,l=new AbortController,I=setTimeout(()=>{l.abort(),et(c,"TestPingServer: timeout",!1,o)},1e4);fetch(i,{signal:l.signal}).then(E=>{clearTimeout(I),E.ok?et(c,"TestPingServer: ok",!0,o):et(c,"TestPingServer: server error",!1,o)}).catch(()=>{clearTimeout(I),et(c,"TestPingServer: error",!1,o)})}function et(i,o,c,l,I){try{I&&(I.onload=null,I.onerror=null,I.onabort=null,I.ontimeout=null),l(c)}catch{}}function Pf(){this.g=new hf}function Df(i,o,c){let l=c||"";try{Ic(i,function(I,E){let S=I;y(I)&&(S=ts(I)),o.push(l+E+"="+encodeURIComponent(S))})}catch(I){throw o.push(l+"type="+encodeURIComponent("_badmap")),I}}function vn(i){this.l=i.Ub||null,this.j=i.eb||!1}C(vn,ns),vn.prototype.g=function(){return new Pr(this.l,this.j)},vn.prototype.i=function(i){return function(){return i}}({});function Pr(i,o){re.call(this),this.D=i,this.o=o,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Pr,re),n=Pr.prototype,n.open=function(i,o){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=i,this.A=o,this.readyState=1,wn(this)},n.send=function(i){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let o={headers:this.u,method:this.B,credentials:this.m,cache:void 0};i&&(o.body=i),(this.D||h).fetch(new Request(this.A,o)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,In(this)),this.readyState=0},n.Sa=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,wn(this)),this.g&&(this.readyState=3,wn(this),this.g)))if(this.responseType==="arraybuffer")i.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Cc(this)}else i.text().then(this.Ra.bind(this),this.ga.bind(this))};function Cc(i){i.j.read().then(i.Pa.bind(i)).catch(i.ga.bind(i))}n.Pa=function(i){if(this.g){if(this.o&&i.value)this.response.push(i.value);else if(!this.o){var o=i.value?i.value:new Uint8Array(0);(o=this.v.decode(o,{stream:!i.done}))&&(this.response=this.responseText+=o)}i.done?In(this):wn(this),this.readyState==3&&Cc(this)}},n.Ra=function(i){this.g&&(this.response=this.responseText=i,In(this))},n.Qa=function(i){this.g&&(this.response=i,In(this))},n.ga=function(){this.g&&In(this)};function In(i){i.readyState=4,i.l=null,i.j=null,i.v=null,wn(i)}n.setRequestHeader=function(i,o){this.u.append(i,o)},n.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let i=[],o=this.h.entries();for(var c=o.next();!c.done;)c=c.value,i.push(c[0]+": "+c[1]),c=o.next();return i.join(`\r
`)};function wn(i){i.onreadystatechange&&i.onreadystatechange.call(i)}Object.defineProperty(Pr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(i){this.m=i?"include":"same-origin"}});function Rc(i){let o="";return te(i,function(c,l){o+=l,o+=":",o+=c,o+=`\r
`}),o}function ds(i,o,c){e:{for(l in c){var l=!1;break e}l=!0}l||(c=Rc(c),typeof i=="string"?c!=null&&encodeURIComponent(String(c)):j(i,o,c))}function W(i){re.call(this),this.headers=new Map,this.o=i||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(W,re);var kf=/^https?$/i,Nf=["POST","PUT"];n=W.prototype,n.Ha=function(i){this.J=i},n.ea=function(i,o,c,l){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+i);o=o?o.toUpperCase():"GET",this.D=i,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ss.g(),this.v=this.o?rc(this.o):rc(ss),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(o,String(i),!0),this.B=!1}catch(E){Pc(this,E);return}if(i=c||"",c=new Map(this.headers),l)if(Object.getPrototypeOf(l)===Object.prototype)for(var I in l)c.set(I,l[I]);else if(typeof l.keys=="function"&&typeof l.get=="function")for(let E of l.keys())c.set(E,l.get(E));else throw Error("Unknown input type for opt_headers: "+String(l));l=Array.from(c.keys()).find(E=>E.toLowerCase()=="content-type"),I=h.FormData&&i instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Nf,o,void 0))||l||I||c.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[E,S]of c)this.g.setRequestHeader(E,S);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Nc(this),this.u=!0,this.g.send(i),this.u=!1}catch(E){Pc(this,E)}};function Pc(i,o){i.h=!1,i.g&&(i.j=!0,i.g.abort(),i.j=!1),i.l=o,i.m=5,Dc(i),Dr(i)}function Dc(i){i.A||(i.A=!0,ae(i,"complete"),ae(i,"error"))}n.abort=function(i){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=i||7,ae(this,"complete"),ae(this,"abort"),Dr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Dr(this,!0)),W.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?kc(this):this.bb())},n.bb=function(){kc(this)};function kc(i){if(i.h&&typeof u<"u"&&(!i.v[1]||je(i)!=4||i.Z()!=2)){if(i.u&&je(i)==4)Za(i.Ea,0,i);else if(ae(i,"readystatechange"),je(i)==4){i.h=!1;try{let S=i.Z();e:switch(S){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var o=!0;break e;default:o=!1}var c;if(!(c=o)){var l;if(l=S===0){var I=String(i.D).match(wc)[1]||null;!I&&h.self&&h.self.location&&(I=h.self.location.protocol.slice(0,-1)),l=!kf.test(I?I.toLowerCase():"")}c=l}if(c)ae(i,"complete"),ae(i,"success");else{i.m=6;try{var E=2<je(i)?i.g.statusText:""}catch{E=""}i.l=E+" ["+i.Z()+"]",Dc(i)}}finally{Dr(i)}}}}function Dr(i,o){if(i.g){Nc(i);let c=i.g,l=i.v[0]?()=>{}:null;i.g=null,i.v=null,o||ae(i,"ready");try{c.onreadystatechange=l}catch{}}}function Nc(i){i.I&&(h.clearTimeout(i.I),i.I=null)}n.isActive=function(){return!!this.g};function je(i){return i.g?i.g.readyState:0}n.Z=function(){try{return 2<je(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(i){if(this.g){var o=this.g.responseText;return i&&o.indexOf(i)==0&&(o=o.substring(i.length)),lf(o)}};function Vc(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.H){case"":case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function Vf(i){let o={};i=(i.g&&2<=je(i)&&i.g.getAllResponseHeaders()||"").split(`\r
`);for(let l=0;l<i.length;l++){if(U(i[l]))continue;var c=_(i[l]);let I=c[0];if(c=c[1],typeof c!="string")continue;c=c.trim();let E=o[I]||[];o[I]=E,E.push(c)}v(o,function(l){return l.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function En(i,o,c){return c&&c.internalChannelParams&&c.internalChannelParams[i]||o}function Oc(i){this.Aa=0,this.i=[],this.j=new pn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=En("failFast",!1,i),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=En("baseRetryDelayMs",5e3,i),this.cb=En("retryDelaySeedMs",1e4,i),this.Wa=En("forwardChannelMaxRetries",2,i),this.wa=En("forwardChannelRequestTimeoutMs",2e4,i),this.pa=i&&i.xmlHttpFactory||void 0,this.Xa=i&&i.Tb||void 0,this.Ca=i&&i.useFetchStreams||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.h=new mc(i&&i.concurrentRequestLimit),this.Da=new Pf,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=i&&i.Rb||!1,i&&i.xa&&this.j.xa(),i&&i.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&i&&i.detectBufferingProxy||!1,this.ja=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.ja=i.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Oc.prototype,n.la=8,n.G=1,n.connect=function(i,o,c,l){ce(0),this.W=i,this.H=o||{},c&&l!==void 0&&(this.H.OSID=c,this.H.OAID=l),this.F=this.X,this.I=qc(this,null,this.W),Nr(this)};function fs(i){if(xc(i),i.G==3){var o=i.U++,c=Be(i.I);if(j(c,"SID",i.K),j(c,"RID",o),j(c,"TYPE","terminate"),Tn(i,c),o=new Xe(i,i.j,o),o.L=2,o.v=Rr(Be(c)),c=!1,h.navigator&&h.navigator.sendBeacon)try{c=h.navigator.sendBeacon(o.v.toString(),"")}catch{}!c&&h.Image&&(new Image().src=o.v,c=!0),c||(o.g=zc(o.j,null),o.g.ea(o.v)),o.F=Date.now(),Ar(o)}$c(i)}function kr(i){i.g&&(ms(i),i.g.cancel(),i.g=null)}function xc(i){kr(i),i.u&&(h.clearTimeout(i.u),i.u=null),Vr(i),i.h.cancel(),i.s&&(typeof i.s=="number"&&h.clearTimeout(i.s),i.s=null)}function Nr(i){if(!gc(i.h)&&!i.s){i.s=!0;var o=i.Ga;Je||Ft(),me||(Je(),me=!0),Ue.add(o,i),i.B=0}}function Of(i,o){return _c(i.h)>=i.h.j-(i.s?1:0)?!1:i.s?(i.i=o.D.concat(i.i),!0):i.G==1||i.G==2||i.B>=(i.Va?0:i.Wa)?!1:(i.s=fn(T(i.Ga,i,o),jc(i,i.B)),i.B++,!0)}n.Ga=function(i){if(this.s)if(this.s=null,this.G==1){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;let I=new Xe(this,this.j,i),E=this.o;if(this.S&&(E?(E=f(E),g(E,this.S)):E=this.S),this.m!==null||this.O||(I.H=E,E=null),this.P)e:{for(var o=0,c=0;c<this.i.length;c++){t:{var l=this.i[c];if("__data__"in l.map&&(l=l.map.__data__,typeof l=="string")){l=l.length;break t}l=void 0}if(l===void 0)break;if(o+=l,4096<o){o=c;break e}if(o===4096||c===this.i.length-1){o=c+1;break e}}o=1e3}else o=1e3;o=Fc(this,I,o),c=Be(this.I),j(c,"RID",i),j(c,"CVER",22),this.D&&j(c,"X-HTTP-Session-Id",this.D),Tn(this,c),E&&(this.O?o="headers="+encodeURIComponent(String(Rc(E)))+"&"+o:this.m&&ds(c,this.m,E)),hs(this.h,I),this.Ua&&j(c,"TYPE","init"),this.P?(j(c,"$req",o),j(c,"SID","null"),I.T=!0,as(I,c,null)):as(I,c,o),this.G=2}}else this.G==3&&(i?Mc(this,i):this.i.length==0||gc(this.h)||Mc(this))};function Mc(i,o){var c;o?c=o.l:c=i.U++;let l=Be(i.I);j(l,"SID",i.K),j(l,"RID",c),j(l,"AID",i.T),Tn(i,l),i.m&&i.o&&ds(l,i.m,i.o),c=new Xe(i,i.j,c,i.B+1),i.m===null&&(c.H=i.o),o&&(i.i=o.D.concat(i.i)),o=Fc(i,c,1e3),c.I=Math.round(.5*i.wa)+Math.round(.5*i.wa*Math.random()),hs(i.h,c),as(c,l,o)}function Tn(i,o){i.H&&te(i.H,function(c,l){j(o,l,c)}),i.l&&Ic({},function(c,l){j(o,l,c)})}function Fc(i,o,c){c=Math.min(i.i.length,c);var l=i.l?T(i.l.Na,i.l,i):null;e:{var I=i.i;let E=-1;for(;;){let S=["count="+c];E==-1?0<c?(E=I[0].g,S.push("ofs="+E)):E=0:S.push("ofs="+E);let B=!0;for(let Y=0;Y<c;Y++){let F=I[Y].g,ie=I[Y].map;if(F-=E,0>F)E=Math.max(0,I[Y].g-100),B=!1;else try{Df(ie,S,"req"+F+"_")}catch{l&&l(ie)}}if(B){l=S.join("&");break e}}}return i=i.i.splice(0,c),o.D=i,l}function Lc(i){if(!i.g&&!i.u){i.Y=1;var o=i.Fa;Je||Ft(),me||(Je(),me=!0),Ue.add(o,i),i.v=0}}function ps(i){return i.g||i.u||3<=i.v?!1:(i.Y++,i.u=fn(T(i.Fa,i),jc(i,i.v)),i.v++,!0)}n.Fa=function(){if(this.u=null,Uc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var i=2*this.R;this.j.info("BP detection timer enabled: "+i),this.A=fn(T(this.ab,this),i)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ce(10),kr(this),Uc(this))};function ms(i){i.A!=null&&(h.clearTimeout(i.A),i.A=null)}function Uc(i){i.g=new Xe(i,i.j,"rpc",i.Y),i.m===null&&(i.g.H=i.o),i.g.O=0;var o=Be(i.qa);j(o,"RID","rpc"),j(o,"SID",i.K),j(o,"AID",i.T),j(o,"CI",i.F?"0":"1"),!i.F&&i.ja&&j(o,"TO",i.ja),j(o,"TYPE","xmlhttp"),Tn(i,o),i.m&&i.o&&ds(o,i.m,i.o),i.L&&(i.g.I=i.L);var c=i.g;i=i.ia,c.L=1,c.v=Rr(Be(o)),c.m=null,c.P=!0,dc(c,i)}n.Za=function(){this.C!=null&&(this.C=null,kr(this),ps(this),ce(19))};function Vr(i){i.C!=null&&(h.clearTimeout(i.C),i.C=null)}function Bc(i,o){var c=null;if(i.g==o){Vr(i),ms(i),i.g=null;var l=2}else if(ls(i.h,o))c=o.D,yc(i.h,o),l=1;else return;if(i.G!=0){if(o.o)if(l==1){c=o.m?o.m.length:0,o=Date.now()-o.F;var I=i.B;l=Er(),ae(l,new cc(l,c)),Nr(i)}else Lc(i);else if(I=o.s,I==3||I==0&&0<o.X||!(l==1&&Of(i,o)||l==2&&ps(i)))switch(c&&0<c.length&&(o=i.h,o.i=o.i.concat(c)),I){case 1:wt(i,5);break;case 4:wt(i,10);break;case 3:wt(i,6);break;default:wt(i,2)}}}function jc(i,o){let c=i.Ta+Math.floor(Math.random()*i.cb);return i.isActive()||(c*=2),c*o}function wt(i,o){if(i.j.info("Error code "+o),o==2){var c=T(i.fb,i),l=i.Xa;let I=!l;l=new It(l||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Sr(l,"https"),Rr(l),I?Cf(l.toString(),c):Rf(l.toString(),c)}else ce(2);i.G=0,i.l&&i.l.sa(o),$c(i),xc(i)}n.fb=function(i){i?(this.j.info("Successfully pinged google.com"),ce(2)):(this.j.info("Failed to ping google.com"),ce(1))};function $c(i){if(i.G=0,i.ka=[],i.l){let o=vc(i.h);(o.length!=0||i.i.length!=0)&&(R(i.ka,o),R(i.ka,i.i),i.h.i.length=0,N(i.i),i.i.length=0),i.l.ra()}}function qc(i,o,c){var l=c instanceof It?Be(c):new It(c);if(l.g!="")o&&(l.g=o+"."+l.g),Cr(l,l.s);else{var I=h.location;l=I.protocol,o=o?o+"."+I.hostname:I.hostname,I=+I.port;var E=new It(null);l&&Sr(E,l),o&&(E.g=o),I&&Cr(E,I),c&&(E.l=c),l=E}return c=i.D,o=i.ya,c&&o&&j(l,c,o),j(l,"VER",i.la),Tn(i,l),l}function zc(i,o,c){if(o&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return o=i.Ca&&!i.pa?new W(new vn({eb:c})):new W(i.pa),o.Ha(i.J),o}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gc(){}n=Gc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Or(){}Or.prototype.g=function(i,o){return new fe(i,o)};function fe(i,o){re.call(this),this.g=new Oc(o),this.l=i,this.h=o&&o.messageUrlParams||null,i=o&&o.messageHeaders||null,o&&o.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.o=i,i=o&&o.initMessageHeaders||null,o&&o.messageContentType&&(i?i["X-WebChannel-Content-Type"]=o.messageContentType:i={"X-WebChannel-Content-Type":o.messageContentType}),o&&o.va&&(i?i["X-WebChannel-Client-Profile"]=o.va:i={"X-WebChannel-Client-Profile":o.va}),this.g.S=i,(i=o&&o.Sb)&&!U(i)&&(this.g.m=i),this.v=o&&o.supportsCrossDomainXhr||!1,this.u=o&&o.sendRawJson||!1,(o=o&&o.httpSessionIdParam)&&!U(o)&&(this.g.D=o,i=this.h,i!==null&&o in i&&(i=this.h,o in i&&delete i[o])),this.j=new Bt(this)}C(fe,re),fe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fe.prototype.close=function(){fs(this.g)},fe.prototype.o=function(i){var o=this.g;if(typeof i=="string"){var c={};c.__data__=i,i=c}else this.u&&(c={},c.__data__=ts(i),i=c);o.i.push(new _f(o.Ya++,i)),o.G==3&&Nr(o)},fe.prototype.N=function(){this.g.l=null,delete this.j,fs(this.g),delete this.g,fe.aa.N.call(this)};function Wc(i){rs.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var o=i.__sm__;if(o){e:{for(let c in o){i=c;break e}i=void 0}(this.i=i)&&(i=this.i,o=o!==null&&i in o?o[i]:void 0),this.data=o}else this.data=i}C(Wc,rs);function Hc(){is.call(this),this.status=1}C(Hc,is);function Bt(i){this.g=i}C(Bt,Gc),Bt.prototype.ua=function(){ae(this.g,"a")},Bt.prototype.ta=function(i){ae(this.g,new Wc(i))},Bt.prototype.sa=function(i){ae(this.g,new Hc)},Bt.prototype.ra=function(){ae(this.g,"b")},Or.prototype.createWebChannel=Or.prototype.g,fe.prototype.send=fe.prototype.o,fe.prototype.open=fe.prototype.m,fe.prototype.close=fe.prototype.close,gh=He.createWebChannelTransport=function(){return new Or},mh=He.getStatEventTarget=function(){return Er()},ph=He.Event=yt,fh=He.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Tr.NO_ERROR=0,Tr.TIMEOUT=8,Tr.HTTP_ERROR=6,dh=He.ErrorCode=Tr,uc.COMPLETE="complete",hh=He.EventType=uc,ic.EventType=hn,hn.OPEN="a",hn.CLOSE="b",hn.ERROR="c",hn.MESSAGE="d",re.prototype.listen=re.prototype.K,lh=He.WebChannel=ic,iy=He.FetchXmlHttpFactory=vn,W.prototype.listenOnce=W.prototype.L,W.prototype.getLastError=W.prototype.Ka,W.prototype.getLastErrorCode=W.prototype.Ba,W.prototype.getStatus=W.prototype.Z,W.prototype.getResponseJson=W.prototype.Oa,W.prototype.getResponseText=W.prototype.oa,W.prototype.send=W.prototype.ea,W.prototype.setWithCredentials=W.prototype.Ha,uh=He.XhrIo=W}).apply(typeof pi<"u"?pi:typeof self<"u"?self:typeof window<"u"?window:{});var _h="@firebase/firestore",yh="4.8.0";var ee=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ee.UNAUTHENTICATED=new ee(null),ee.GOOGLE_CREDENTIALS=new ee("google-credentials-uid"),ee.FIRST_PARTY=new ee("first-party-uid"),ee.MOCK_USER=new ee("mock-user");var er="11.10.0";var Zt=new Ne("@firebase/firestore");function Ce(n,...e){if(Zt.logLevel<=L.DEBUG){let t=e.map(fa);Zt.debug(`Firestore (${er}): ${n}`,...t)}}function kh(n,...e){if(Zt.logLevel<=L.ERROR){let t=e.map(fa);Zt.error(`Firestore (${er}): ${n}`,...t)}}function sy(n,...e){if(Zt.logLevel<=L.WARN){let t=e.map(fa);Zt.warn(`Firestore (${er}): ${n}`,...t)}}function fa(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function he(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,Nh(n,r,t)}function Nh(n,e,t){let r=`FIRESTORE (${er}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw kh(r),new Error(r)}function Ot(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||Nh(e,s,r)}var x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},V=class extends pe{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var xt=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var mi=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Ko=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ee.UNAUTHENTICATED))}shutdown(){}},Qo=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Yo=class{constructor(e){this.t=e,this.currentUser=ee.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ot(this.o===void 0,42304);let r=this.i,s=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve(),a=new xt;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new xt,e.enqueueRetryable(()=>s(this.currentUser))};let u=()=>{let d=a;e.enqueueRetryable(async()=>{await d.promise,await s(this.currentUser)})},h=d=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){let d=this.t.getImmediate({optional:!0});d?h(d):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new xt)}},0),u()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ot(typeof r.accessToken=="string",31837,{l:r}),new mi(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ot(e===null||typeof e=="string",2055,{h:e}),new ee(e)}},Jo=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=ee.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Xo=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new Jo(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(ee.FIRST_PARTY))}shutdown(){}invalidateToken(){}},gi=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Zo=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ve(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ot(this.o===void 0,3512);let r=a=>{a.error!=null&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);let u=a.token!==this.m;return this.m=a.token,Ce("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};let s=a=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){let a=this.V.getImmediate({optional:!0});a?s(a):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new gi(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ot(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new gi(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function oy(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function ay(){return new TextEncoder}var ea=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let s=oy(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%62))}return r}};function Ie(n,e){return n<e?-1:n>e?1:0}function cy(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),s=e.codePointAt(t);if(r!==s){if(r<128&&s<128)return Ie(r,s);{let a=ay(),u=uy(a.encode(vh(n,t)),a.encode(vh(e,t)));return u!==0?u:Ie(r,s)}}t+=r>65535?2:1}return Ie(n.length,e.length)}function vh(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function uy(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Ie(n[t],e[t]);return Ie(n.length,e.length)}var Ih="__name__",_i=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&he(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&he(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let s=0;s<r;s++){let a=n.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return Ie(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),s=n.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?n.extractNumericId(e).compare(n.extractNumericId(t)):cy(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fi.fromString(e.substring(4,e.length-2))}},Ke=class n extends _i{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new V(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new n(t)}static emptyPath(){return new n([])}},ly=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ta=class n extends _i{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return ly.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ih}static keyField(){return new n([Ih])}static fromServerFormat(e){let t=[],r="",s=0,a=()=>{if(r.length===0)throw new V(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},u=!1;for(;s<e.length;){let h=e[s];if(h==="\\"){if(s+1===e.length)throw new V(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new V(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else h==="`"?(u=!u,s++):h!=="."||u?(r+=h,s++):(a(),s++)}if(a(),u)throw new V(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var Qe=class n{constructor(e){this.path=e}static fromPath(e){return new n(Ke.fromString(e))}static fromName(e){return new n(Ke.fromString(e).popFirst(5))}static empty(){return new n(Ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ke.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Ke(e.slice()))}};function hy(n,e,t,r){if(e===!0&&r===!0)throw new V(x.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function dy(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function fy(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":he(12329,{type:typeof n})}function py(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new V(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=fy(n);throw new V(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Q(n,e){let t={typeString:n};return e&&(t.value=e),t}function tr(n,e){if(!dy(n))throw new V(x.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let s=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let u=n[r];if(s&&typeof u!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(a!==void 0&&u!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new V(x.INVALID_ARGUMENT,t);return!0}var wh=-62135596800,Eh=1e6,Kn=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Eh);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new V(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new V(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<wh)throw new V(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Eh}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(tr(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-wh;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Kn._jsonSchemaVersion="firestore/timestamp/1.0",Kn._jsonSchema={type:Q("string",Kn._jsonSchemaVersion),seconds:Q("number"),nanoseconds:Q("number")};var na=class{constructor(e,t,r,s){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=s}};na.UNKNOWN_ID=-1;function my(n){return n.name==="IndexedDbTransactionError"}function gy(n){return n===0&&1/n==-1/0}var _y="remoteDocuments",Vh="owner";var Oh="mutationQueues";var xh="mutations";var Mh="documentMutations",yy="remoteDocumentsV14";var Fh="remoteDocumentGlobal";var Lh="targets";var Uh="targetDocuments";var Bh="targetGlobal",jh="collectionParents";var $h="clientMetadata";var qh="bundles";var zh="namedQueries";var vy="indexConfiguration";var Iy="indexState";var wy="indexEntries";var Gh="documentOverlays";var Ey="globals";var Ty=[Oh,xh,Mh,_y,Lh,Vh,Bh,Uh,$h,Fh,jh,qh,zh],GE=[...Ty,Gh],by=[Oh,xh,Mh,yy,Lh,Vh,Bh,Uh,$h,Fh,jh,qh,zh,Gh],Ay=by,Sy=[...Ay,vy,Iy,wy];var WE=[...Sy,Ey];var en=class n{constructor(e,t){this.comparator=e,this.root=t||Me.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Me.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Me.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qt(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qt(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qt(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qt(this.root,e,this.comparator,!0)}},Qt=class{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Me=class n{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??n.RED,this.left=s??n.EMPTY,this.right=a??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new n(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this,a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return n.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw he(43730,{key:this.key,value:this.value});if(this.right.isRed())throw he(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw he(27949);return e+(this.isRed()?0:1)}};Me.EMPTY=null,Me.RED=!0,Me.BLACK=!1;Me.EMPTY=new class{constructor(){this.size=0}get key(){throw he(57766)}get value(){throw he(16141)}get color(){throw he(16727)}get left(){throw he(29726)}get right(){throw he(36894)}copy(e,t,r,s,a){return this}insert(e,t,r){return new Me(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var yi=class n{constructor(e){this.comparator=e,this.data=new en(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new vi(this.data.getIterator())}getIteratorFrom(e){return new vi(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},vi=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var ra=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var pt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new ra("Invalid base64 string: "+a):a}}(e);return new n(t)}static fromUint8Array(e){let t=function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};pt.EMPTY_BYTE_STRING=new pt("");var Cy=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ry(n){if(Ot(!!n,39018),typeof n=="string"){let e=0,t=Cy.exec(n);if(Ot(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qn(n.seconds),nanos:Qn(n.nanos)}}function Qn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Py(n){return typeof n=="string"?pt.fromBase64String(n):pt.fromUint8Array(n)}var ia="(default)",sa=class n{constructor(e,t){this.projectId=e,this.database=t||ia}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===ia}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Wh="__type__",Dy="__max__";var Hh="__vector__",Kh="value";function ky(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Wh])===null||t===void 0?void 0:t.stringValue)===Hh}function Ny(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Dy}var KE={mapValue:{fields:{[Wh]:{stringValue:Hh},[Kh]:{arrayValue:{}}}}};var oa=class{constructor(e,t=null,r=[],s=[],a=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=d,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function Vy(n){return new oa(n)}var QE=new en(Qe.comparator);var YE=new en(Qe.comparator);var JE=new en(Qe.comparator),XE=new yi(Qe.comparator);var ZE=new yi(Ie);var Th,O;(O=Th||(Th={}))[O.OK=0]="OK",O[O.CANCELLED=1]="CANCELLED",O[O.UNKNOWN=2]="UNKNOWN",O[O.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",O[O.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",O[O.NOT_FOUND=5]="NOT_FOUND",O[O.ALREADY_EXISTS=6]="ALREADY_EXISTS",O[O.PERMISSION_DENIED=7]="PERMISSION_DENIED",O[O.UNAUTHENTICATED=16]="UNAUTHENTICATED",O[O.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",O[O.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",O[O.ABORTED=10]="ABORTED",O[O.OUT_OF_RANGE=11]="OUT_OF_RANGE",O[O.UNIMPLEMENTED=12]="UNIMPLEMENTED",O[O.INTERNAL=13]="INTERNAL",O[O.UNAVAILABLE=14]="UNAVAILABLE",O[O.DATA_LOSS=15]="DATA_LOSS";var eT=new fi([4294967295,4294967295],0);var Ii=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(Qn(e.integerValue));else if("doubleValue"in e){let r=Qn(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),gy(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=Ry(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(Py(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?Ny(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):ky(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):he(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let s of Object.keys(r))this.xt(s,t),this.Dt(r[s],t)}Lt(e,t){var r,s;let a=e.fields||{};this.Ct(t,53);let u=Kh,h=((s=(r=a[u].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.length)||0;this.Ct(t,15),t.Ft(Qn(h)),this.xt(u,t),this.Dt(a[u],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let s of r)this.Dt(s,t)}Bt(e,t){this.Ct(t,37),Qe.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};Ii.Ut=new Ii;var tT=new Uint8Array(0);var Qh=41943040,xe=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};xe.DEFAULT_COLLECTION_PERCENTILE=10,xe.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xe.DEFAULT=new xe(Qh,xe.DEFAULT_COLLECTION_PERCENTILE,xe.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xe.DISABLED=new xe(-1,0,0);var Oy=1048576;function Ho(){return typeof document<"u"?document:null}var aa=class{constructor(e,t,r=1e3,s=1.5,a=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=s,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),s=Math.max(0,t-r);s>0&&Ce("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var ca=class n{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new xt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){let u=Date.now()+r,h=new n(e,t,u,s,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new V(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};var bh,Ah;(Ah=bh||(bh={})).Fa="default",Ah.Cache="cache";function xy(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var Sh=new Map;var Yh="firestore.googleapis.com",Ch=!0,wi=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new V(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Yh,this.ssl=Ch}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Ch;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Qh;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Oy)throw new V(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hy("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xy((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new V(x.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new V(x.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new V(x.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ei=class{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wi({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new V(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new V(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wi(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Ko;switch(r.type){case"firstParty":return new Xo(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new V(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=Sh.get(t);r&&(Ce("ComponentProvider","Removing Datastore"),Sh.delete(t),r.terminate())}(this),Promise.resolve()}};function Jh(n,e,t,r={}){var s;n=py(n,Ei);let a=bt(e),u=n._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),d=`${e}:${t}`;a&&(jr(`https://${d}`),$r("Firestore",!0)),u.host!==Yh&&u.host!==d&&sy("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let y=Object.assign(Object.assign({},u),{host:d,ssl:a,emulatorOptions:r});if(!ke(y,h)&&(n._setSettings(y),r.mockUserToken)){let b,A;if(typeof r.mockUserToken=="string")b=r.mockUserToken,A=ee.MOCK_USER;else{b=Vu(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);let T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new V(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new ee(T)}n._authCredentials=new Qo(new mi(b,A))}}var ua=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Mt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new la(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(tr(t,n._jsonSchema))return new n(e,r||null,new Qe(Ke.fromString(t.referencePath)))}};Mt._jsonSchemaVersion="firestore/documentReference/1.0",Mt._jsonSchema={type:Q("string",Mt._jsonSchemaVersion),referencePath:Q("string")};var la=class n extends ua{constructor(e,t,r){super(e,t,Vy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new Qe(e))}withConverter(e){return new n(this.firestore,e,this._path)}};var Rh="AsyncQueue",Ti=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new aa(this,"async_queue_retry"),this.oc=()=>{let r=Ho();r&&Ce(Rh,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=Ho();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=Ho();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new xt;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!my(e))throw e;Ce(Rh,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,kh("INTERNAL UNHANDLED ERROR: ",Ph(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let s=ca.createAndSchedule(this,e,t,r,a=>this.lc(a));return this.ec.push(s),s}ac(){this.tc&&he(47125,{hc:Ph(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function Ph(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}var ha=class extends Ei{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new Ti,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Ti(e),this._firestoreClient=void 0,await e}}};function Xh(n,e){let t=typeof n=="object"?n:St(),r=typeof n=="string"?n:e||ia,s=zt(t,"firestore").getImmediate({identifier:r});if(!s._initialized){let a=Nu("firestore");a&&Jh(s,...a)}return s}var Yn=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(pt.fromBase64String(e))}catch(t){throw new V(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(tr(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};Yn._jsonSchemaVersion="firestore/bytes/1.0",Yn._jsonSchema={type:Q("string",Yn._jsonSchemaVersion),bytes:Q("string")};var bi=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new V(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ta(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Jn=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new V(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new V(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(tr(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};Jn._jsonSchemaVersion="firestore/geoPoint/1.0",Jn._jsonSchema={type:Q("string",Jn._jsonSchemaVersion),latitude:Q("number"),longitude:Q("number")};var Xn=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(tr(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new V(x.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Xn._jsonSchemaVersion="firestore/vectorValue/1.0",Xn._jsonSchema={type:Q("string",Xn._jsonSchemaVersion),vectorValues:Q("object")};var My=new RegExp("[~\\*/\\[\\]]");function Fy(n,e,t){if(e.search(My)>=0)throw Dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new bi(...e.split("."))._internalPath}catch{throw Dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Dh(n,e,t,r,s){let a=r&&!r.isEmpty(),u=s!==void 0,h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(a||u)&&(d+=" (found",a&&(d+=` in field ${r}`),u&&(d+=` in document ${s}`),d+=")"),new V(x.INVALID_ARGUMENT,h+n+d)}var Ai=class{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new da(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(Zh("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},da=class extends Ai{data(){return super.data()}};function Zh(n,e){return typeof e=="string"?Fy(n,e):e instanceof bi?e._internalPath:e._delegate._internalPath}var Yt=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Jt=class n extends Ai{constructor(e,t,r,s,a,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Xt(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(Zh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new V(x.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Jt._jsonSchemaVersion="firestore/documentSnapshot/1.0",Jt._jsonSchema={type:Q("string",Jt._jsonSchemaVersion),bundleSource:Q("string","DocumentSnapshot"),bundleName:Q("string"),bundle:Q("string")};var Xt=class extends Jt{data(e={}){return super.data(e)}},Zn=class n{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Yt(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Xt(this._firestore,this._userDataWriter,r.key,r,new Yt(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new V(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(h=>{let d=new Xt(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Yt(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{let d=new Xt(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Yt(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter),y=-1,b=-1;return h.type!==0&&(y=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),b=u.indexOf(h.doc.key)),{type:Ly(h.type),doc:d,oldIndex:y,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new V(x.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ea.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],s=[];return this.docs.forEach(a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function Ly(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he(61501,{type:n})}}Zn._jsonSchemaVersion="firestore/querySnapshot/1.0",Zn._jsonSchema={type:Q("string",Zn._jsonSchemaVersion),bundleSource:Q("string","QuerySnapshot"),bundleName:Q("string"),bundle:Q("string")};(function(e,t=!0){(function(s){er=s})(ot),Ae(new ue("firestore",(r,{instanceIdentifier:s,options:a})=>{let u=r.getProvider("app").getImmediate(),h=new ha(new Yo(r.getProvider("auth-internal")),new Zo(u,r.getProvider("app-check-internal")),function(y,b){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new V(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sa(y.options.projectId,b)}(u,s),u);return a=Object.assign({useFetchStreams:t},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),K(_h,yh,e),K(_h,yh,"esm2017")})();var nr=class{constructor(e){return e}},ed="firestore",pa=class{constructor(){return Wt(ed)}};var ma=new ge("angularfire2.firestore-instances");function Uy(n,e){let t=Fn(ed,n,e);return t&&new nr(t)}function By(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new nr(r)}}var jy={provide:pa,deps:[[new _e,ma]]},$y={provide:nr,useFactory:Uy,deps:[[new _e,ma],ze]};function td(n,...e){return K("angularfire",at.full,"fst"),$t([$y,jy,{provide:ma,useFactory:By(n),multi:!0,deps:[De,Et,ct,Pt,[new _e,Hn],[new _e,Ht],...e]}])}var nd=Rt(Xh,!0);var qy={apiKey:"AIzaSyD5JCGp6wVHlHKzJRssRtTstNHSoaLj2i4",authDomain:"arecofix-ca60b.firebaseapp.com",projectId:"arecofix-ca60b",storageBucket:"arecofix-ca60b.appspot.com",messagingSenderId:"301262429786",appId:"1:301262429786:web:0aca5a5c777b7ab1d08263"},rd={providers:[iu(),pu(),Tu(Cu,bu()),vu(Iu()),il(()=>sl(qy)),td(()=>nd()),ih(()=>sh())]};var dd=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(J(Ss),J(As))};static \u0275dir=Te({type:n})}return n})(),zy=(()=>{class n extends dd{static \u0275fac=(()=>{let t;return function(s){return(t||(t=bs(n)))(s||n)}})();static \u0275dir=Te({type:n,features:[rt]})}return n})(),fd=new ge("");var Gy={provide:fd,useExisting:bn(()=>Vi),multi:!0};function Wy(){let n=Os()?Os().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var Hy=new ge(""),Vi=(()=>{class n extends dd{_compositionMode;_composing=!1;constructor(t,r,s){super(t,r),this._compositionMode=s,this._compositionMode==null&&(this._compositionMode=!Wy())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(J(Ss),J(As),J(Hy,8))};static \u0275dir=Te({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){r&1&&Rn("input",function(u){return s._handleInput(u.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(u){return s._compositionEnd(u.target.value)})},standalone:!1,features:[Pn([Gy]),rt]})}return n})();function Ky(n){return n==null||Qy(n)===0}function Qy(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var va=new ge(""),pd=new ge("");function Yy(n){return Ky(n.value)?{required:!0}:null}function id(n){return null}function md(n){return n!=null}function gd(n){return cu(n)?Xc(n):n}function _d(n){let e={};return n.forEach(t=>{e=t!=null?M(M({},e),t):e}),Object.keys(e).length===0?null:e}function yd(n,e){return e.map(t=>t(n))}function Jy(n){return!n.validate}function vd(n){return n.map(e=>Jy(e)?e:t=>e.validate(t))}function Xy(n){if(!n)return null;let e=n.filter(md);return e.length==0?null:function(t){return _d(yd(t,e))}}function Ia(n){return n!=null?Xy(vd(n)):null}function Zy(n){if(!n)return null;let e=n.filter(md);return e.length==0?null:function(t){let r=yd(t,e).map(gd);return eu(r).pipe(Zc(_d))}}function wa(n){return n!=null?Zy(vd(n)):null}function sd(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function ev(n){return n._rawValidators}function tv(n){return n._rawAsyncValidators}function ga(n){return n?Array.isArray(n)?n:[n]:[]}function Ci(n,e){return Array.isArray(n)?n.includes(e):n===e}function od(n,e){let t=ga(e);return ga(n).forEach(s=>{Ci(t,s)||t.push(s)}),t}function ad(n,e){return ga(e).filter(t=>!Ci(n,t))}var Ri=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Ia(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=wa(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},rn=class extends Ri{name;get formDirective(){return null}get path(){return null}},cr=class extends Ri{_parent=null;name=null;valueAccessor=null},Pi=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},nv={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},j0=H(M({},nv),{"[class.ng-submitted]":"isSubmitted"}),Id=(()=>{class n extends Pi{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(J(cr,2))};static \u0275dir=Te({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){r&2&&Ps("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},standalone:!1,features:[rt]})}return n})(),wd=(()=>{class n extends Pi{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(J(rn,10))};static \u0275dir=Te({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,s){r&2&&Ps("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},standalone:!1,features:[rt]})}return n})();var rr="VALID",Si="INVALID",tn="PENDING",ir="DISABLED",mt=class{},Di=class extends mt{value;source;constructor(e,t){super(),this.value=e,this.source=t}},or=class extends mt{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},ar=class extends mt{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},nn=class extends mt{status;source;constructor(e,t){super(),this.status=e,this.source=t}},_a=class extends mt{source;constructor(e){super(),this.source=e}},ya=class extends mt{source;constructor(e){super(),this.source=e}};function Ed(n){return(Oi(n)?n.validators:n)||null}function rv(n){return Array.isArray(n)?Ia(n):n||null}function Td(n,e){return(Oi(e)?e.asyncValidators:n)||null}function iv(n){return Array.isArray(n)?wa(n):n||null}function Oi(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function sv(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new Mr(1e3,"");if(!r[t])throw new Mr(1001,"")}function ov(n,e,t){n._forEachChild((r,s)=>{if(t[s]===void 0)throw new Mr(1002,"")})}var ki=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return it(this.statusReactive)}set status(e){it(()=>this.statusReactive.set(e))}_status=Dn(()=>this.statusReactive());statusReactive=An(void 0);get valid(){return this.status===rr}get invalid(){return this.status===Si}get pending(){return this.status==tn}get disabled(){return this.status===ir}get enabled(){return this.status!==ir}errors;get pristine(){return it(this.pristineReactive)}set pristine(e){it(()=>this.pristineReactive.set(e))}_pristine=Dn(()=>this.pristineReactive());pristineReactive=An(!0);get dirty(){return!this.pristine}get touched(){return it(this.touchedReactive)}set touched(e){it(()=>this.touchedReactive.set(e))}_touched=Dn(()=>this.touchedReactive());touchedReactive=An(!1);get untouched(){return!this.touched}_events=new Qc;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(od(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(od(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ad(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ad(e,this._rawAsyncValidators))}hasValidator(e){return Ci(this._rawValidators,e)}hasAsyncValidator(e){return Ci(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(H(M({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new ar(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(s=>{s.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new ar(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(H(M({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new or(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(s=>{s.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new or(!0,r))}markAsPending(e={}){this.status=tn;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new nn(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(H(M({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=ir,this.errors=null,this._forEachChild(s=>{s.disable(H(M({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Di(this.value,r)),this._events.next(new nn(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(H(M({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(s=>s(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=rr,this._forEachChild(r=>{r.enable(H(M({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(H(M({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===rr||this.status===tn)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Di(this.value,t)),this._events.next(new nn(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(H(M({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ir:rr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=tn,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=gd(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(s=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(s,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,s)=>r&&r._find(s),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new nn(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Sn,this.statusChanges=new Sn}_calculateStatus(){return this._allControlsDisabled()?ir:this.errors?Si:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(tn)?tn:this._anyControlsHaveStatus(Si)?Si:rr}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),s=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),s&&this._events.next(new or(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new ar(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Oi(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=rv(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=iv(this._rawAsyncValidators)}},Ni=class extends ki{constructor(e,t,r){super(Ed(t),Td(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){ov(this,!0,e),Object.keys(e).forEach(r=>{sv(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let s=this.controls[r];s&&s.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,s)=>{r.reset(e?e[s]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,s)=>((r.enabled||this.disabled)&&(t[s]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((s,a)=>{r=t(r,s,a)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Ea=new ge("",{providedIn:"root",factory:()=>Ta}),Ta="always";function av(n,e){return[...e.path,n]}function bd(n,e,t=Ta){Ad(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),uv(n,e),hv(n,e),lv(n,e),cv(n,e)}function cd(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function cv(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function Ad(n,e){let t=ev(n);e.validator!==null?n.setValidators(sd(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=tv(n);e.asyncValidator!==null?n.setAsyncValidators(sd(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let s=()=>n.updateValueAndValidity();cd(e._rawValidators,s),cd(e._rawAsyncValidators,s)}function uv(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&Sd(n,e)})}function lv(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&Sd(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function Sd(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function hv(n,e){let t=(r,s)=>{e.valueAccessor.writeValue(r),s&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function dv(n,e){n==null,Ad(n,e)}function fv(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function pv(n){return Object.getPrototypeOf(n.constructor)===zy}function mv(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function gv(n,e){if(!e)return null;Array.isArray(e);let t,r,s;return e.forEach(a=>{a.constructor===Vi?t=a:pv(a)?r=a:s=a}),s||r||t||null}var _v={provide:rn,useExisting:bn(()=>ba)},sr=Promise.resolve(),ba=(()=>{class n extends rn{callSetDisabledState;get submitted(){return it(this.submittedReactive)}_submitted=Dn(()=>this.submittedReactive());submittedReactive=An(!1);_directives=new Set;form;ngSubmit=new Sn;options;constructor(t,r,s){super(),this.callSetDisabledState=s,this.form=new Ni({},Ia(t),wa(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){sr.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),bd(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){sr.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){sr.then(()=>{let r=this._findContainer(t.path),s=new Ni({});dv(s,t),r.registerControl(t.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){sr.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){sr.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),mv(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new _a(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new ya(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(J(va,10),J(pd,10),J(Ea,8))};static \u0275dir=Te({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,s){r&1&&Rn("submit",function(u){return s.onSubmit(u)})("reset",function(){return s.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Pn([_v]),rt]})}return n})();function ud(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function ld(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var yv=class extends ki{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(Ed(t),Td(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Oi(t)&&(t.nonNullable||t.initialValueIsDefault)&&(ld(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ud(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ud(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){ld(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var vv={provide:cr,useExisting:bn(()=>Aa)},hd=Promise.resolve(),Aa=(()=>{class n extends cr{_changeDetectorRef;callSetDisabledState;control=new yv;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Sn;constructor(t,r,s,a,u,h){super(),this._changeDetectorRef=u,this.callSetDisabledState=h,this._parent=t,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=gv(this,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),fv(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){bd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){hd.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,s=r!==0&&Vs(r);hd.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?av(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(J(rn,9),J(va,10),J(pd,10),J(fd,10),J(gu,8),J(Ea,8))};static \u0275dir=Te({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Pn([vv]),rt,Ts]})}return n})();var Cd=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Te({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var Iv=(()=>{class n{_validator=id;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):id,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Te({type:n,features:[Ts]})}return n})();var wv={provide:va,useExisting:bn(()=>Sa),multi:!0};var Sa=(()=>{class n extends Iv{required;inputName="required";normalizeInput=Vs;createValidator=t=>Yy;enabled(t){return t}static \u0275fac=(()=>{let t;return function(s){return(t||(t=bs(n)))(s||n)}})();static \u0275dir=Te({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,s){r&2&&uu("required",s._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Pn([wv]),rt]})}return n})();var Ev=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Cs({type:n});static \u0275inj=Es({})}return n})();var Rd=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Ea,useValue:t.callSetDisabledState??Ta}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Cs({type:n});static \u0275inj=Es({imports:[Ev]})}return n})();function bv(n,e){if(n&1&&($(0,"p",35),X(1),G()),n&2){let t=Rs();nt(),Ds(t.successMessage)}}function Av(n,e){if(n&1&&($(0,"p",36),X(1),G()),n&2){let t=Rs();nt(),Ds(t.errorMessage)}}var xi=class n{email="";isSubmitting=!1;successMessage="";errorMessage="";subscribe(){if(!this.email){this.errorMessage="Por favor, ingresa un email v\xE1lido.",this.successMessage="";return}this.isSubmitting=!0,this.errorMessage="",this.successMessage="",setTimeout(()=>{this.isSubmitting=!1,this.successMessage="\xA1Gracias por suscribirte!",this.email=""},1500)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=qt({type:n,selectors:[["app-footer"]],decls:53,vars:6,consts:[[1,"bg-white","border-t","border-neutral-200","py-10","lg:py-5"],[1,"max-w-7xl","mx-auto","px-6","sm:px-8","lg:px-12"],[1,"flex","flex-col","lg:flex-row","justify-between","gap-10","border-b","border-neutral-200","pb-10"],[1,"flex","flex-col","items-center","lg:items-start","gap-6","w-full","lg:w-1/3"],["src","https://arecofix.com.ar/assets/img/log.png","alt","Logo Arecofix",1,"h-10"],["aria-label","Footer navigation",1,"w-full"],[1,"flex","flex-row","flex-wrap","justify-center","gap-5","text-sm","text-gray-600"],["routerLink","/productos",1,"hover:text-cyan-600","transition"],["routerLink","/recursos",1,"hover:text-cyan-600","transition"],["routerLink","/pages/contacto",1,"hover:tec.xt-cyan-600","transition"],["routerLink","/nosotros",1,"hover:text-cyan-600","transition"],[1,"flex","gap-6","text-gray-600","mt-4"],["href","https://www.facebook.com/ArecoFix/","aria-label","Facebook",1,"hover:text-cyan-600","transition"],[1,"fab","fa-facebook-f","text-xl"],["href","https://www.instagram.com/ArecoFix/","aria-label","Instagram",1,"hover:text-cyan-600","transition"],[1,"fab","fa-instagram","text-xl"],["href","https://github.com/arecofix","aria-label","GitHub",1,"hover:text-cyan-600","transition"],[1,"fab","fa-github","text-xl"],["href","https://www.linkedin.com/company/arecofix","aria-label","LinkedIn",1,"hover:text-cyan-600","transition"],[1,"fab","fa-linkedin-in","text-xl"],[1,"w-full","lg:w-1/3","text-center","lg:text-left"],[1,"text-lg","font-semibold","text-gray-900","mb-3"],[1,"text-gray-500","text-sm","mb-6"],[1,"flex","flex-col","sm:flex-row","gap-3","max-w-md","mx-auto","lg:mx-0",3,"ngSubmit"],["name","email","type","email","required","","placeholder","Tu email",1,"flex-1","border","border-gray-300","rounded-md","px-4","py-2","text-sm","focus:outline-none","focus:ring-2","focus:ring-cyan-600",3,"ngModelChange","ngModel","disabled"],["type","submit",1,"bg-cyan-600","text-white","rounded-md","px-6","py-2","text-sm","hover:brightness-110","transition","disabled:opacity-50",3,"disabled"],["class","mt-3 text-green-600 text-sm font-semibold",4,"ngIf"],["class","mt-3 text-red-600 text-sm font-semibold",4,"ngIf"],[1,"pt-8","flex","flex-col","sm:flex-row","items-center","justify-between","text-sm","text-gray-400","gap-4","max-w-7xl","mx-auto","px-6","sm:px-8","lg:px-12"],[1,"flex","gap-6","text-xs","order-2","sm:order-1"],["href","https://www.arecofix.com.ar/",1,"hover:text-cyan-600","transition"],["href","https://www.arecofix.com.ar/privacy",1,"hover:text-cyan-600","transition"],["href","https://www.arecofix.com.ar/terms",1,"hover:text-cyan-600","transition"],[1,"order-1","sm:order-2"],["routerLink","/portfolio",1,"hover:text-blue-400","transition-colors"],[1,"mt-3","text-green-600","text-sm","font-semibold"],[1,"mt-3","text-red-600","text-sm","font-semibold"]],template:function(t,r){t&1&&($(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3),ye(4,"img",4),$(5,"nav",5)(6,"ul",6)(7,"li")(8,"a",7),X(9,"Productos"),G()(),$(10,"li")(11,"a",8),X(12,"Recursos"),G()(),$(13,"li")(14,"a",9),X(15,"Contacto"),G()(),$(16,"li")(17,"a",10),X(18,"Nosotros"),G()()()(),$(19,"div",11)(20,"a",12),ye(21,"i",13),G(),$(22,"a",14),ye(23,"i",15),G(),$(24,"a",16),ye(25,"i",17),G(),$(26,"a",18),ye(27,"i",19),G()()(),$(28,"div",20)(29,"h4",21),X(30,"\xDAnete a nuestro Newsletter"),G(),$(31,"p",22),X(32,"S\xE9 el primero en enterarte de nuestras novedades, promociones exclusivas y m\xE1s."),G(),$(33,"form",23),Rn("ngSubmit",function(){return r.subscribe()}),$(34,"input",24),fu("ngModelChange",function(a){return du(r.email,a)||(r.email=a),a}),G(),$(35,"button",25),X(36),G()(),au(37,bv,2,1,"p",26)(38,Av,2,1,"p",27),G()(),$(39,"div",28)(40,"ul",29)(41,"li")(42,"a",30),X(43,"Espa\xF1ol"),G()(),$(44,"li")(45,"a",31),X(46,"Privacidad"),G()(),$(47,"li")(48,"a",32),X(49,"T\xE9rminos Legales"),G()()(),$(50,"p",33)(51,"a",34),X(52," \xA9 2025 Arecofix. Todos los derechos reservados. "),G()()()()()),t&2&&(nt(34),hu("ngModel",r.email),Cn("disabled",r.isSubmitting),nt(),Cn("disabled",r.isSubmitting),nt(),lu(" ",r.isSubmitting?"Enviando...":"Suscribirse"," "),nt(),Cn("ngIf",r.successMessage),nt(),Cn("ngIf",r.errorMessage))},dependencies:[Lr,_u,Au,Eu,Rd,Cd,Vi,Id,wd,Sa,Aa,ba],encapsulation:2})};var Mi=class n{phoneNumber="5491125960900";defaultMessage="Hola, necesito informaci\xF3n";get encodedMessage(){return encodeURIComponent(this.defaultMessage)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=qt({type:n,selectors:[["app-whatsapp-button"]],inputs:{phoneNumber:"phoneNumber",defaultMessage:"defaultMessage"},decls:9,vars:0,consts:[[1,"whatsapp-btn-container"],["href","https://wa.me/541125960900?text=Hola,%20estoy%20interesado%20en%20tus%20servicios","target","_blank","rel","noopener noreferrer","aria-label","Contactar por WhatsApp",1,"whatsapp-btn","bg-[#25D366]","text-white","w-16","h-16","rounded-full","flex","items-center","justify-center","shadow-xl"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"w-10","h-10","fill-current"],["d","M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"],[1,"pulse-animation"],[1,"tooltip"]],template:function(t,r){t&1&&($(0,"div",0)(1,"a",1),nu(),$(2,"svg",2),ye(3,"path",3),G(),ru(),ye(4,"span",4),G(),$(5,"span",5),X(6,"\xA1Env\xEDanos un mensaje!"),ye(7,"br"),X(8,"Respondemos r\xE1pido"),G()())},dependencies:[Lr],styles:['.whatsapp-btn-container[_ngcontent-%COMP%]{position:fixed;bottom:30px;right:30px;z-index:1000}.whatsapp-btn[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;transition:all .3s ease;transform:scale(1)}.whatsapp-btn[_ngcontent-%COMP%]:hover{background-color:#128c7e!important;transform:scale(1.1);box-shadow:0 8px 25px #128c7e66}.pulse-animation[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;border-radius:50%;background-color:#25d36680;animation:_ngcontent-%COMP%_pulse 2s infinite;z-index:-1}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(.8);opacity:.7}70%{transform:scale(1.3);opacity:0}to{transform:scale(.8);opacity:0}}.tooltip[_ngcontent-%COMP%]{visibility:hidden;width:160px;background-color:#075e54;color:#fff;text-align:center;border-radius:8px;padding:8px 10px;position:absolute;z-index:100;bottom:calc(100% + 15px);right:0;opacity:0;transition:all .3s ease;transform:translateY(10px);font-size:14px;line-height:1.4;box-shadow:0 4px 12px #00000026}.tooltip[_ngcontent-%COMP%]:after{content:"";position:absolute;top:100%;right:20px;border-width:8px;border-style:solid;border-color:#075E54 transparent transparent transparent}.whatsapp-btn-container[_ngcontent-%COMP%]:hover   .tooltip[_ngcontent-%COMP%]{visibility:visible;opacity:1;transform:translateY(0)}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(0) scale(1.1)}50%{transform:translateY(-10px) scale(1.1)}}.whatsapp-btn[_ngcontent-%COMP%]:hover{animation:_ngcontent-%COMP%_bounce .8s ease}']})};var Fi=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=qt({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(t,r){t&1&&ye(0,"router-outlet")(1,"app-footer")(2,"app-whatsapp-button")},dependencies:[wu,xi,Mi],encapsulation:2})};var Va=class{#e;#t=new Set;constructor(e){this.#e=e}get current(){return this.#e}set current(e){this.#e!=e&&(this.#e=e,this.#t.forEach(t=>t(e)))}on(e){return this.#t.add(e),()=>this.#t.delete(e)}},Ud=n=>new Va(n),Oa=Symbol.for("atomico.hooks");globalThis[Oa]=globalThis[Oa]||{};var sn=globalThis[Oa],Sv=Symbol.for("Atomico.suspense"),Bd=Symbol.for("Atomico.effect"),Cv=Symbol.for("Atomico.layoutEffect"),jd=Symbol.for("Atomico.insertionEffect"),on=(n,e,t)=>{let{i:r,hooks:s}=sn.c,a=s[r]=s[r]||{};return a.value=n(a.value),a.effect=e,a.tag=t,sn.c.i++,s[r].value},Rv=n=>on((e=Ud(n))=>e),mr=()=>on((n=Ud(sn.c.host))=>n),$d=()=>sn.c.update,Pv=(n,e,t=0)=>{let r={},s=!1,a=()=>s,u=(h,d)=>{for(let y in r){let b=r[y];b.effect&&b.tag===h&&(b.value=b.effect(b.value,d))}};return{load:h=>{sn.c={host:e,hooks:r,update:n,i:0,id:t};let d;try{s=!1,d=h()}catch(y){if(y!==Sv)throw y;s=!0}finally{sn.c=null}return d},cleanEffects:h=>(u(jd,h),()=>(u(Cv,h),()=>{u(Bd,h)})),isSuspense:a}},an=Symbol.for;function qd(n,e){let t=n.length;if(t!==e.length)return!1;for(let r=0;r<t;r++){let s=n[r],a=e[r];if(s!==a)return!1}return!0}var Fe=n=>typeof n=="function",ur=n=>typeof n=="object",{isArray:Dv}=Array,xa=(n,e)=>(e?n instanceof HTMLStyleElement:!0)&&"hydrate"in(n?.dataset||{});function zd(n,e){let t,r=s=>{let{length:a}=s;for(let u=0;u<a;u++){let h=s[u];if(h&&Array.isArray(h))r(h);else{let d=typeof h;if(h==null||d==="function"||d==="boolean")continue;d==="string"||d==="number"?(t==null&&(t=""),t+=h):(t!=null&&(e(t),t=null),e(h))}}};r(n),t!=null&&e(t)}var Gd=(n,e,t)=>(n.addEventListener(e,t),()=>n.removeEventListener(e,t)),Ui=class{constructor(e,t,r){this.message=t,this.target=e,this.value=r}},Bi=class extends Ui{},Ma=class extends Ui{},ji="Custom",kv=null,Nv={true:1,"":1,1:1};function Vv(n,e,t,r,s){let{type:a,reflect:u,event:h,value:d,attr:y=Ov(e)}=t?.name!=ji&&ur(t)&&t!=kv?t:{type:t},b=a?.name===ji&&a.map,A=d!=null?a==Function||!Fe(d)?()=>d:d:null;Object.defineProperty(n,e,{configurable:!0,set(T){let P=this[e];A&&a!=Boolean&&T==null&&(T=A());let{error:C,value:N}=(b?Fv:Lv)(a,T);if(C&&N!=null)throw new Bi(this,`The value defined for prop '${e}' must be of type '${a.name}'`,N);P!=N&&(this._props[e]=N??void 0,this.update(),h&&Wd(this,h),this.updated.then(()=>{u&&(this._ignoreAttr=y,xv(this,a,y,this[e]),this._ignoreAttr=null)}))},get(){return this._props[e]}}),A&&(s[e]=A()),r[y]={prop:e,type:a}}var Wd=(n,s)=>{var a=s,{type:e,base:t=CustomEvent}=a,r=Kc(a,["type","base"]);return n.dispatchEvent(new t(e,r))},Ov=n=>n.replace(/([A-Z])/g,"-$1").toLowerCase(),xv=(n,e,t,r)=>r==null||e==Boolean&&!r?n.removeAttribute(t):n.setAttribute(t,e?.name===ji&&e?.serialize?e?.serialize(r):ur(r)?JSON.stringify(r):e==Boolean?"":r),Mv=(n,e)=>n==Boolean?!!Nv[e]:n==Number?Number(e):n==String?e:n==Array||n==Object?JSON.parse(e):n.name==ji?e:new n(e),Fv=({map:n},e)=>{try{return{value:n(e),error:!1}}catch{return{value:e,error:!0}}},Lv=(n,e)=>n==null||e==null?{value:e,error:!1}:n!=String&&e===""?{value:void 0,error:!1}:n==Object||n==Array||n==Symbol?{value:e,error:{}.toString.call(e)!==`[object ${n.name}]`}:e instanceof n?{value:e,error:n==Number&&Number.isNaN(e.valueOf())}:n==String||n==Number||n==Boolean?{value:e,error:n==Number?typeof e!="number"?!0:Number.isNaN(e):n==String?typeof e!="string":typeof e!="boolean"}:{value:e,error:!0},Uv=0,Bv=n=>(n?.dataset||{})?.hydrate||""||"c"+Uv++,gr=(n,e=HTMLElement)=>{let t={},r={},s="prototype"in e&&e.prototype instanceof Element,a=s?e:"base"in e?e.base:HTMLElement,{props:u,styles:h}=s?n:e;class d extends a{constructor(){super(),this._setup(),this._render=()=>n(M({},this._props));for(let b in r)this[b]=r[b]}static get styles(){return[super.styles,h]}async _setup(){if(this._props)return;this._props={};let b,A;this.mounted=new Promise(R=>this.mount=()=>{R(),b!=this.parentNode&&(A!=b?this.unmounted.then(this.update):this.update()),b=this.parentNode}),this.unmounted=new Promise(R=>this.unmount=()=>{R(),(b!=this.parentNode||!this.isConnected)&&(T.cleanEffects(!0)()(),A=this.parentNode,b=null)}),this.symbolId=this.symbolId||Symbol(),this.symbolIdParent=Symbol();let T=Pv(()=>this.update(),this,Bv(this)),P,C=!0,N=xa(this);this.update=()=>(P||(P=!0,this.updated=(this.updated||this.mounted).then(()=>{try{let R=T.load(this._render),k=T.cleanEffects();return R&&R.render(this,this.symbolId,N),P=!1,C&&!T.isSuspense()&&(C=!1,!N&&jv(this)),k()}finally{P=!1}}).then(R=>{R&&R()})),this.updated),this.update()}connectedCallback(){this.mount(),super.connectedCallback&&super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),this.unmount()}attributeChangedCallback(b,A,T){if(t[b]){if(b===this._ignoreAttr||A===T)return;let{prop:P,type:C}=t[b];try{this[P]=Mv(C,T)}catch{throw new Ma(this,`The value defined as attr '${b}' cannot be parsed by type '${C.name}'`,T)}}else super.attributeChangedCallback(b,A,T)}static get props(){return M(M({},super.props),u)}static get observedAttributes(){let b=super.observedAttributes||[];for(let A in u)Vv(this.prototype,A,u[A],t,r);return Object.keys(t).concat(b)}}return d};function jv(n){let{styles:e}=n.constructor,{shadowRoot:t}=n;if(t&&e.length){let r=[];zd(e,s=>{s&&(s instanceof Element?t.appendChild(s.cloneNode(!0)):r.push(s))}),r.length&&(t.adoptedStyleSheets=r)}}var Hd=n=>(e,t)=>{on(([r,s]=[])=>((s||!s)&&(s&&qd(s,t)?r=r||!0:(Fe(r)&&r(),r=null)),[r,t]),([r,s],a)=>a?(Fe(r)&&r(),[]):[r||e(),s],n)},dr=Hd(Bd),$v=Hd(jd),$i=class extends Array{constructor(e,t){let r=!0,s=a=>{try{t(a,this,r)}finally{r=!1}};super(void 0,s,t),s(e)}},Ua=n=>{let e=$d();return on((t=new $i(n,(r,s,a)=>{r=Fe(r)?r(s[0]):r,r!==s[0]&&(s[0]=r,a||e())}))=>t)},Ye=(n,e)=>{let[t]=on(([r,s,a=0]=[])=>((!s||s&&!qd(s,e))&&(r=n()),[r,e,a]));return t},Ba=n=>{let{current:e}=mr();if(!(n in e))throw new Bi(e,`For useProp("${n}"), the prop does not exist on the host.`,n);return on((t=new $i(e[n],(r,s)=>{r=Fe(r)?r(e[n]):r,e[n]=r}))=>(t[0]=e[n],t))},gt=(n,e={})=>{let t=mr();return t[n]||(t[n]=(r=e.detail)=>Wd(t.current,H(M({type:n},e),{detail:r}))),t[n]},Fa=an("atomico/options");globalThis[Fa]=globalThis[Fa]||{sheet:!!document.adoptedStyleSheets};var Kd=globalThis[Fa],qv={checked:1,value:1,selected:1},zv={list:1,type:1,size:1,form:1,width:1,height:1,src:1,href:1,slot:1},Gv={shadowDom:1,staticNode:1,cloneNode:1,children:1,key:1},Li={},La=[],fr=class extends Text{},Wv=an("atomico/id"),lr=an("atomico/type"),Ca=an("atomico/ref"),Qd=an("atomico/vnode"),Hv=()=>{};function Kv(n,e,t){return Jd(this,n,e,t)}var Yd=(n,e,...t)=>{let r=e||Li,{children:s}=r;if(s=s??(t.length?t:La),n===Hv)return s;let a=n?n instanceof Node?1:n.prototype instanceof HTMLElement&&2:0;if(a===!1&&n instanceof Function)return n(s!=La?M({children:s},r):r);let u=Kd.render||Kv;return{[lr]:Qd,type:n,props:r,children:s,key:r.key,shadow:r.shadowDom,static:r.staticNode,raw:a,is:r.is,clone:r.cloneNode,render:u}};function Jd(n,e,t=Wv,r,s){let a;if(e&&e[t]&&e[t].vnode==n||n[lr]!=Qd)return e;(n||!e)&&(s=s||n.type=="svg",a=n.type!="host"&&(n.raw==1?(e&&n.clone?e[Ca]:e)!=n.type:n.raw==2?!(e instanceof n.type):e?e[Ca]||e.localName!=n.type:!e),a&&n.type!=null&&(n.raw==1&&n.clone?(r=!0,e=n.type.cloneNode(!0),e[Ca]=n.type):e=n.raw==1?n.type:n.raw==2?new n.type:s?document.createElementNS("http://www.w3.org/2000/svg",n.type):document.createElement(n.type,n.is?{is:n.is}:void 0)));let u=e[t]?e[t]:Li,{vnode:h=Li,cycle:d=0}=u,{fragment:y,handlers:b}=u,{children:A=La,props:T=Li}=h;if(b=a?{}:b||{},n.static&&!a)return e;if(n.shadow&&!e.shadowRoot&&e.attachShadow(M({mode:"open"},n.shadow)),n.props!=T&&Jv(e,T,n.props,b,s),n.children!==A){let P=n.shadow?e.shadowRoot:e;y=Yv(n.children,y,P,t,!d&&r,s&&n.type=="foreignObject"?!1:s)}return e[t]={vnode:n,handlers:b,fragment:y,cycle:d+1},e}function Qv(n,e){let t=new fr(""),r=new fr(""),s;if(n[e?"prepend":"append"](t),e){let{lastElementChild:a}=n;for(;a;){let{previousElementSibling:u}=a;if(xa(a,!0)&&!xa(u,!0)){s=a;break}a=u}}return s?s.before(r):n.append(r),{markStart:t,markEnd:r}}function Yv(n,e,t,r,s,a){n=n==null?null:Dv(n)?n:[n];let u=e||Qv(t,s),{markStart:h,markEnd:d,keyes:y}=u,b,A=y&&new Set,T=h;if(n&&zd(n,P=>{if(typeof P=="object"&&!P[lr])return;let C=P[lr]&&P.key,N=y&&C!=null&&y.get(C);T!=d&&T===N?A.delete(T):T=T==d?d:T.nextSibling;let R=y?N:T,k=R;if(P[lr])k=Jd(P,R,r,s,a);else{let U=P+"";!(k instanceof Text)||k instanceof fr?k=new Text(U):k.data!=U&&(k.data=U)}k!=T&&(y&&A.delete(k),!R||y?(t.insertBefore(k,T),y&&T!=d&&A.add(T)):R==d?t.insertBefore(k,d):(t.replaceChild(k,R),T=k)),C!=null&&(b=b||new Map,b.set(C,k))}),T=T==d?d:T.nextSibling,e&&T!=d)for(;T!=d;){let P=T;T=T.nextSibling,P.remove()}return A&&A.forEach(P=>P.remove()),u.keyes=b,u}function Jv(n,e,t,r,s){for(let a in e)!(a in t)&&Dd(n,a,e[a],null,s,r);for(let a in t)Dd(n,a,e[a],t[a],s,r)}function Dd(n,e,t,r,s,a){if(e=e=="class"&&!s?"className":e,t=t??null,r=r??null,e in n&&qv[e]&&(t=n[e]),!(r===t||Gv[e]||e[0]=="_"))if(e[0]=="o"&&e[1]=="n"&&(Fe(r)||Fe(t)))Xv(n,e.slice(2),r,a);else if(e=="ref")r&&(Fe(r)?r(n):r.current=n);else if(e=="style"){let{style:u}=n;t=t||"",r=r||"";let h=ur(t),d=ur(r);if(h)for(let y in t)if(d)!(y in r)&&kd(u,y,null);else break;if(d)for(let y in r){let b=r[y];h&&t[y]===b||kd(u,y,b)}else u.cssText=r}else{let u=e[0]=="$"?e.slice(1):e;u===e&&(!s&&!zv[e]&&e in n||Fe(r)||Fe(t))?n[e]=r??"":r==null?n.removeAttribute(u):n.setAttribute(u,ur(r)?JSON.stringify(r):r)}}function Xv(n,e,t,r){if(r.handleEvent||(r.handleEvent=s=>r[s.type].call(n,s)),t){if(!r[e]){let s=t.capture||t.once||t.passive?Object.assign({},t):null;n.addEventListener(e,r,s)}r[e]=t}else r[e]&&(n.removeEventListener(e,r),delete r[e])}function kd(n,e,t){let r="setProperty";t==null&&(r="removeProperty",t=null),~e.indexOf("-")?n[r](e,t):n[e]=t}var Nd={};function Gi(n,...e){let t=(n.raw||n).reduce((r,s,a)=>r+s+(e[a]||""),"");return Nd[t]=Nd[t]||Zv(t)}function Zv(n){if(Kd.sheet){let e=new CSSStyleSheet;return e.replaceSync(n),e}else{let e=document.createElement("style");return e.textContent=n,e}}var eI=Yd("host",{style:"display: contents"}),Ra=an("atomico/context"),tI=(n,e)=>{let t=mr();$v(()=>Gd(t.current,"ConnectContext",r=>{n===r.detail.id&&(r.stopPropagation(),r.detail.connect(e))}),[n])},nI=n=>{let e=gt("ConnectContext",{bubbles:!0,composed:!0}),t=()=>{let a;return e({id:n,connect(u){a=u}}),a},[r,s]=Ua(t);return dr(()=>{r||(n[Ra]||(n[Ra]=customElements.whenDefined(new n().localName)),n[Ra].then(()=>s(t)))},[n]),r},rI=n=>{let e=nI(n),t=$d();return dr(()=>{if(e)return Gd(e,"UpdatedValue",t)},[e]),(e||n).value},iI=n=>{let e=gr(()=>(tI(e,mr().current),eI),{props:{value:{type:Object,event:{type:"UpdatedValue"},value:()=>n}}});return e.value=n,e},q=(n,e,t)=>(e==null?e={key:t}:e.key=t,Yd(n,e)),hr=q,Xd=Gi`*,*:before,*:after{box-sizing:border-box}button{padding:0;touch-action:manipulation;cursor:pointer;user-select:none}`,Zd=Gi`.vh{position:absolute;transform:scale(0)}`;function ja(){let n=new Date;return new de(n.getFullYear(),n.getMonth()+1,n.getDate())}function $a(n,e=0){let t=Re(n),r=t.getUTCDay(),s=(r<e?7:0)+r-e;return t.setUTCDate(t.getUTCDate()-s),de.from(t)}function ef(n,e=0){return $a(n,e).add({days:6})}function tf(n){return de.from(new Date(Date.UTC(n.year,n.month,0)))}function Wi(n,e,t){return e&&de.compare(n,e)<0?e:t&&de.compare(n,t)>0?t:n}var sI={days:1};function oI(n,e=0){let t=$a(n.toPlainDate(),e),r=ef(tf(n),e),s=[];for(;de.compare(t,r)<0;){let a=[];for(let u=0;u<7;u++)a.push(t),t=t.add(sI);s.push(a)}return s}function Re(n){return new Date(Date.UTC(n.year,n.month-1,n.day??1))}var aI=/^(\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[0-1])$/,Pa=(n,e)=>n.toString().padStart(e,"0"),de=class n{constructor(e,t,r){this.year=e,this.month=t,this.day=r}add(e){let t=Re(this);if("days"in e)return t.setUTCDate(this.day+e.days),n.from(t);let{year:r,month:s}=this;"months"in e?(s=this.month+e.months,t.setUTCMonth(s-1)):(r=this.year+e.years,t.setUTCFullYear(r));let a=n.from(Re({year:r,month:s,day:1}));return Wi(n.from(t),a,tf(a))}toString(){return`${Pa(this.year,4)}-${Pa(this.month,2)}-${Pa(this.day,2)}`}toPlainYearMonth(){return new qi(this.year,this.month)}equals(e){return n.compare(this,e)===0}static compare(e,t){return e.year<t.year?-1:e.year>t.year?1:e.month<t.month?-1:e.month>t.month?1:e.day<t.day?-1:e.day>t.day?1:0}static from(e){if(typeof e=="string"){let t=e.match(aI);if(!t)throw new TypeError(e);let[,r,s,a]=t;return new n(parseInt(r,10),parseInt(s,10),parseInt(a,10))}return new n(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate())}},qi=class n{constructor(e,t){this.year=e,this.month=t}add(e){let t=Re(this),r=(e.months??0)+(e.years??0)*12;return t.setUTCMonth(t.getUTCMonth()+r),new n(t.getUTCFullYear(),t.getUTCMonth()+1)}equals(e){return this.year===e.year&&this.month===e.month}toPlainDate(){return new de(this.year,this.month,1)}};function zi(n,e){if(e)try{return n.from(e)}catch{}}function _t(n){let[e,t]=Ba(n);return[Ye(()=>zi(de,e),[e]),r=>t(r?.toString())]}function cI(n){let[e="",t]=Ba(n);return[Ye(()=>{let[r,s]=e.split("/"),a=zi(de,r),u=zi(de,s);return a&&u?[a,u]:[]},[e]),r=>t(`${r[0]}/${r[1]}`)]}function uI(n){let[e="",t]=Ba(n);return[Ye(()=>{let r=[];for(let s of e.trim().split(/\s+/)){let a=zi(de,s);a&&r.push(a)}return r},[e]),r=>t(r.join(" "))]}function pr(n,e){return Ye(()=>new Intl.DateTimeFormat(e,M({timeZone:"UTC"},n)),[e,n])}function Vd(n,e,t){let r=pr(n,t);return Ye(()=>{let s=[],a=new Date;for(var u=0;u<7;u++){let h=(a.getUTCDay()-e+7)%7;s[h]=r.format(a),a.setUTCDate(a.getUTCDate()+1)}return s},[e,r])}var Od=(n,e,t)=>Wi(n,e,t)===n,xd=n=>n.target.matches(":dir(ltr)"),lI={month:"long",day:"numeric"},hI={month:"long"},dI={weekday:"long"},Da={bubbles:!0};function fI({props:n,context:e}){let{offset:t}=n,{firstDayOfWeek:r,isDateDisallowed:s,min:a,max:u,today:h,page:d,locale:y,focusedDate:b,formatWeekday:A}=e,T=h??ja(),P=Vd(dI,r,y),C=Ye(()=>({weekday:A}),[A]),N=Vd(C,r,y),R=pr(lI,y),k=pr(hI,y),U=Ye(()=>d.start.add({months:t}),[d,t]),z=Ye(()=>oI(U,r),[U,r]),oe=gt("focusday",Da),Le=gt("selectday",Da),te=gt("hoverday",Da);function v(g){oe(Wi(g,a,u))}function f(g){let _;switch(g.key){case"ArrowRight":_=b.add({days:xd(g)?1:-1});break;case"ArrowLeft":_=b.add({days:xd(g)?-1:1});break;case"ArrowDown":_=b.add({days:7});break;case"ArrowUp":_=b.add({days:-7});break;case"PageUp":_=b.add(g.shiftKey?{years:-1}:{months:-1});break;case"PageDown":_=b.add(g.shiftKey?{years:1}:{months:1});break;case"Home":_=$a(b,r);break;case"End":_=ef(b,r);break;default:return}v(_),g.preventDefault()}function m(g){let _=U.equals(g);if(!e.showOutsideDays&&!_)return;let w=g.equals(b),p=g.equals(T),le=Re(g),Pe=s?.(le),_r=!Od(g,a,u),Je="",me;if(e.type==="range"){let[Ue,Ft]=e.value,yr=Ue?.equals(g),we=Ft?.equals(g);me=Ue&&Ft&&Od(g,Ue,Ft),Je=`${yr?"range-start":""} ${we?"range-end":""} ${me&&!yr&&!we?"range-inner":""}`}else e.type==="multi"?me=e.value.some(Ue=>Ue.equals(g)):me=e.value?.equals(g);return{part:`${`button day day-${le.getDay()} ${_?me?"selected":"":"outside"} ${Pe?"disallowed":""} ${p?"today":""} ${e.getDayParts?.(le)??""}`} ${Je}`,tabindex:_&&w?0:-1,disabled:_r,"aria-disabled":Pe?"true":void 0,"aria-pressed":_&&me,"aria-current":p?"date":void 0,"aria-label":R.format(le),onkeydown:f,onclick(){Pe||Le(g),v(g)},onmouseover(){!Pe&&!_r&&te(g)}}}return{weeks:z,yearMonth:U,daysLong:P,daysVisible:N,formatter:k,getDayProps:m}}var ka=ja(),qa=iI({type:"date",firstDayOfWeek:1,focusedDate:ka,page:{start:ka.toPlainYearMonth(),end:ka.toPlainYearMonth()}});customElements.define("calendar-ctx",qa);var pI=(n,e)=>(e+n)%7,mI=gr(n=>{let e=rI(qa),t=Rv(),r=fI({props:n,context:e});function s(){t.current.querySelector("button[tabindex='0']")?.focus()}return hr("host",{shadowDom:!0,focus:s,children:[q("div",{id:"h",part:"heading",children:r.formatter.format(Re(r.yearMonth))}),hr("table",{ref:t,"aria-labelledby":"h",part:"table",children:[q("thead",{children:q("tr",{part:"tr head",children:r.daysLong.map((a,u)=>hr("th",{part:`th day day-${pI(e.firstDayOfWeek,u)}`,scope:"col",children:[q("span",{class:"vh",children:a}),q("span",{"aria-hidden":"true",children:r.daysVisible[u]})]}))})}),q("tbody",{children:r.weeks.map((a,u)=>q("tr",{part:"tr week",children:a.map((h,d)=>{let y=r.getDayProps(h);return q("td",{part:"td",children:y&&q("button",H(M({},y),{children:h.day}))},d)})},u))})]})]})},{props:{offset:{type:Number,value:0}},styles:[Xd,Zd,Gi`:host{--color-accent: black;--color-text-on-accent: white;display:flex;flex-direction:column;gap:.25rem;text-align:center;inline-size:fit-content}table{border-collapse:collapse;font-size:.875rem}th{font-weight:700;block-size:2.25rem}td{padding-inline:0}button{color:inherit;font-size:inherit;background:transparent;border:0;font-variant-numeric:tabular-nums;block-size:2.25rem;inline-size:2.25rem}button:hover:where(:not(:disabled,[aria-disabled])){background:#0000000d}button:is([aria-pressed=true],:focus-visible){background:var(--color-accent);color:var(--color-text-on-accent)}button:focus-visible{outline:1px solid var(--color-text-on-accent);outline-offset:-2px}button:disabled,:host::part(outside),:host::part(disallowed){cursor:default;opacity:.5}`]});customElements.define("calendar-month",mI);function Md(n){return q("button",{part:`button ${n.name} ${n.onclick?"":"disabled"}`,onclick:n.onclick,"aria-disabled":n.onclick?null:"true",children:q("slot",{name:n.name,children:n.children})})}function za(n){let e=Re(n.page.start),t=Re(n.page.end);return hr("div",{role:"group","aria-labelledby":"h",part:"container",children:[q("div",{id:"h",class:"vh","aria-live":"polite","aria-atomic":"true",children:n.formatVerbose.formatRange(e,t)}),hr("div",{part:"header",children:[q(Md,{name:"previous",onclick:n.previous,children:"Previous"}),q("slot",{part:"heading",name:"heading",children:q("div",{"aria-hidden":"true",children:n.format.formatRange(e,t)})}),q(Md,{name:"next",onclick:n.next,children:"Next"})]}),q(qa,{value:n,onselectday:n.onSelect,onfocusday:n.onFocus,onhoverday:n.onHover,children:q("slot",{})})]})}var Ga={value:{type:String,value:""},min:{type:String,value:""},max:{type:String,value:""},today:{type:String,value:""},isDateDisallowed:{type:Function,value:n=>!1},formatWeekday:{type:String,value:()=>"narrow"},getDayParts:{type:Function,value:n=>""},firstDayOfWeek:{type:Number,value:()=>1},showOutsideDays:{type:Boolean,value:!1},locale:{type:String,value:()=>{}},months:{type:Number,value:1},focusedDate:{type:String,value:()=>{}},pageBy:{type:String,value:()=>"months"}},Wa=[Xd,Zd,Gi`:host{display:block;inline-size:fit-content}[role=group]{display:flex;flex-direction:column;gap:1em}:host::part(header){display:flex;align-items:center;justify-content:space-between}:host::part(heading){font-weight:700;font-size:1.25em}button{display:flex;align-items:center;justify-content:center}button[aria-disabled]{cursor:default;opacity:.5}`],gI={year:"numeric"},_I={year:"numeric",month:"long"};function Na(n,e){return(e.year-n.year)*12+e.month-n.month}var Fd=(n,e)=>(n=e===12?new qi(n.year,1):n,{start:n,end:n.add({months:e-1})});function yI({pageBy:n,focusedDate:e,months:t,max:r,min:s,goto:a}){let u=n==="single"?1:t,[h,d]=Ua(()=>Fd(e.toPlainYearMonth(),t)),y=A=>d(Fd(h.start.add({months:A}),t)),b=A=>{let T=Na(h.start,A.toPlainYearMonth());return T>=0&&T<t};return dr(()=>{if(b(e))return;let A=Na(e.toPlainYearMonth(),h.start);a(e.add({months:A}))},[h.start]),dr(()=>{if(b(e))return;let A=Na(h.start,e.toPlainYearMonth());y(A===-1?-u:A===t?u:Math.floor(A/t)*t)},[e,u,t]),{page:h,previous:!s||!b(s)?()=>y(-u):void 0,next:!r||!b(r)?()=>y(u):void 0}}function Ha({months:n,pageBy:e,locale:t,focusedDate:r,setFocusedDate:s}){let[a]=_t("min"),[u]=_t("max"),[h]=_t("today"),d=gt("focusday"),y=gt("change"),b=Ye(()=>Wi(r??h??ja(),a,u),[r,h,a,u]);function A(k){s(k),d(Re(k))}let{next:T,previous:P,page:C}=yI({pageBy:e,focusedDate:b,months:n,min:a,max:u,goto:A}),N=mr();function R(k){let U=k?.target??"day";U==="day"?N.current.querySelectorAll("calendar-month").forEach(z=>z.focus(k)):N.current.shadowRoot.querySelector(`[part~='${U}']`).focus(k)}return{format:pr(gI,t),formatVerbose:pr(_I,t),page:C,focusedDate:b,dispatch:y,onFocus(k){k.stopPropagation(),A(k.detail),setTimeout(R)},min:a,max:u,today:h,next:T,previous:P,focus:R}}var vI=gr(n=>{let[e,t]=_t("value"),[r=e,s]=_t("focusedDate"),a=Ha(H(M({},n),{focusedDate:r,setFocusedDate:s}));function u(h){t(h.detail),a.dispatch()}return q("host",{shadowDom:!0,focus:a.focus,children:q(za,H(M(M({},n),a),{type:"date",value:e,onSelect:u}))})},{props:Ga,styles:Wa});customElements.define("calendar-date",vI);var Ld=(n,e)=>de.compare(n,e)<0?[n,e]:[e,n],II=gr(n=>{let[e,t]=cI("value"),[r=e[0],s]=_t("focusedDate"),a=Ha(H(M({},n),{focusedDate:r,setFocusedDate:s})),u=gt("rangestart"),h=gt("rangeend"),[d,y]=_t("tentative"),[b,A]=Ua();dr(()=>A(void 0),[d]);function T(R){a.onFocus(R),P(R)}function P(R){R.stopPropagation(),d&&A(R.detail)}function C(R){let k=R.detail;R.stopPropagation(),d?(t(Ld(d,k)),y(void 0),h(Re(k)),a.dispatch()):(y(k),u(Re(k)))}let N=d?Ld(d,b??d):e;return q("host",{shadowDom:!0,focus:a.focus,children:q(za,H(M(M({},n),a),{type:"range",value:N,onFocus:T,onHover:P,onSelect:C}))})},{props:H(M({},Ga),{tentative:{type:String,value:""}}),styles:Wa});customElements.define("calendar-range",II);var wI=gr(n=>{let[e,t]=uI("value"),[r=e[0],s]=_t("focusedDate"),a=Ha(H(M({},n),{focusedDate:r,setFocusedDate:s}));function u(h){let d=[...e],y=e.findIndex(b=>b.equals(h.detail));y<0?d.push(h.detail):d.splice(y,1),t(d),a.dispatch()}return q("host",{shadowDom:!0,focus:a.focus,children:q(za,H(M(M({},n),a),{type:"multi",value:e,onSelect:u}))})},{props:Ga,styles:Wa});customElements.define("calendar-multi",wI);yu(Fi,rd).catch(n=>console.error(n));
